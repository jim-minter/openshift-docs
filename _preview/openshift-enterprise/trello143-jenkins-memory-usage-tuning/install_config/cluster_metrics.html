<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Enabling Cluster Metrics | Installation and Configuration | OpenShift Container Platform Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../trello143-jenkins-memory-usage-tuning/_stylesheets/docs.css" rel="stylesheet" />
  <link href="../../trello143-jenkins-memory-usage-tuning/_stylesheets/search.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../trello143-jenkins-memory-usage-tuning/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/hc-search.js" type="text/javascript"></script>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PMDVKG');</script>
<!-- End Google Tag Manager -->

<!-- Adobe DTM -->
<script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
<!-- End Adobe DTM -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PMDVKG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <div class="dropdown">
      <a href="#" class="dropdown-toggle navbar-menu-toggle" data-toggle="dropdown">
        <span class="navbar-menu-title">MENU</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="dropdown-menu navbar-menu" role="menu">
        <li class="submenu">
          <a href="#">Overview</a>
          <ul id="submenu-overview" class="dropdown-submenu">
            <li class="submenu-heading">Introduction to OpenShift</li>
            <li>
              <a href="https://www.openshift.com/about/index.html">
                What is OpenShift?
                <span class="submenu-item-desc">Learn about Red Hat's next-generation cloud application platform.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/customers.html">
                Our Customers
                <span class="submenu-item-desc">Discover what companies are using OpenShift to deliver a flexible, scalable cloud application environment.</span>
              </a>
            </li>
            <li class="submenu-heading">News</li>
            <li>
              <a href="https://www.openshift.com/about/awards.html">
                Awards
                <span class="submenu-item-desc">Industry recognition and awards.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/">
                OpenShift Blog
                <span class="submenu-item-desc">Keep your finger on the pulse of all things OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events
                <span class="submenu-item-desc">OpenShift sponsors and attends a variety of in-person events around the globe.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/press.html">
                In the Press
                <span class="submenu-item-desc">The latest OpenShift news and press releases.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://jobs.redhat.com/job-search-results/?keywords=openshift">
                Careers <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/logos.html">
                Logos &amp; Media
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Features</a>
          <ul id="submenu-features" class="dropdown-submenu">
            <li class="submenu-heading">OpenShift Online</li>
            <li>
              <a href="https://www.openshift.com/features/index.html">
                Overview
                <span class="submenu-item-desc">Quickly develop, host, and scale containerized apps in the public cloud with on-demand access.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/pricing/index.html">
                Plans &amp; Pricing
                <span class="submenu-item-desc">Deploy up to 4 services for free. Upgrade and power your apps with up to 48GiB of memory and 100GiB of storage.</span>
              </a>
            </li>
            <li>
              <a href="https://manage.openshift.com/">
                Sign up for Free
              </a>
            </li>
            <li class="submenu-heading">OpenShift Dedicated</li>
            <li>
              <a href="https://www.openshift.com/dedicated/index.html">
                Overview
                <span class="submenu-item-desc">Your own private OpenShift cluster, operated by Red Hat.</span>
              </a>
            </li>
            <li class="submenu-heading">OpenShift Container Platform</li>
            <li>
              <a href="https://www.openshift.com/container-platform/index.html">
                Overview
                <span class="submenu-item-desc">Run OpenShift in your data center or private cloud.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/resources.html">
                Resources
                <span class="submenu-item-desc">Webinars, datasheets, reference architectures, demo videos and more.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/trial.html">
                Try it for Free
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Developers</a>
          <ul id="submenu-developers" class="dropdown-submenu">
            <li>
              <a href="https://docs.openshift.com/online/getting_started/index.html">
                Getting Started
                <span class="submenu-item-desc">New to OpenShift? Get your first application up and running and learn the basics.</span>
              </a>
            </li>
            <li>
              <a href="https://hub.openshift.com/">
                Hub
                <span class="submenu-item-desc">Find languages, frameworks, databases, and add-on services for OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://developers.openshift.com/">
                Developer Portal
                <span class="submenu-item-desc">Learn about building, deploying, and managing your applications.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/resources.html#training">
                Training &amp; Certification
                <span class="submenu-item-desc">Red Hat Training's hands-on, task-focused courses and certifications for IT professionals and developers.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
                <span class="submenu-item-desc">Our showcase of applications running on Red Hat OpenShift Online.</span>
              </a>
            </li>
            <li>
              <a href="http://www.openshift.org/#contribute">
                Contribute to OpenShift <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Get in touch with our product team, or become a part of the OpenShift Origin open source project.</span>
              </a>
            </li>
            <li>
              <a href="https://openshift.uservoice.com/">
                Vote on Features
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Partners</a>
          <ul id="submenu-partners" class="dropdown-submenu">
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Become a Partner
                <span class="submenu-item-desc">Build on the strength of the world's leading open source company.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Find OpenShift Partners
                <span class="submenu-item-desc">Find qualified partners to help you with your OpenShift projects.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/grants/index.html">
                Resource Grants
                <span class="submenu-item-desc">For non-profits, educational institutions, and open source initiatives.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/startups/index.html">
                Startup Program
                <span class="submenu-item-desc">Designed to help startups build and scale.</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Support</a>
          <ul id="submenu-support" class="dropdown-submenu">
            <li>
              <a href="https://access.redhat.com/">
                Red Hat Customer Portal <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Manage support cases, browse Knowledgebase articles, and more.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
                <span class="submenu-item-desc">Official product documentation from Red Hat.</span>
              </a>
            </li>
            <li>
              <a href="https://help.openshift.com/">
                Help Center
                <span class="submenu-item-desc">The fastest way to find your available support options.</span>
              </a>
            </li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/contact.html">
                Contact Us
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Connect</a>
          <ul id="submenu-connect" class="dropdown-submenu">
            <li>
              <a href="https://blog.openshift.com/">
                Blog
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events &amp; Conferences
              </a>
            </li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/openshift">
                Twitter <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.facebook.com/openshift">
                Facebook <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/grp/home?gid=4185734">
                LinkedIn <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/openshift/">
                GitHub <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://plus.google.com/+OpenShift">
                Google+ <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.youtube.com/user/rhopenshift">
                YouTube <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu visible-xs-block">
          <a href="#">My Account</a>
          <ul id="submenu-account" class="dropdown-submenu">
            <li><a href="https://manage.openshift.com/">OpenShift Online 3 (New!)</a></li>
            <li><a href="https://openshift.redhat.com/app/console">OpenShift Online 2</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openshift.com/about/contact.html">
            Contact Us
          </a>
        </li>
        <li>
          <form action="https://help.openshift.com/hc/en-us/search" method="get" id="cse-search-form">
            <input name="query" id="cse-search-input" class="navbar-search-query form-control" type="text" placeholder="Search" tabindex="1" autocomplete="off" autofocus>
            <button type="submit" class="btn btn-default fa fa-search" value="Search"></button>
          </form>
        </li>
      </ul>
    </div>
    <a class="navbar-brand" href="/"></a>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="hidden-xs dropdown"> <a href="#" class="dropdown-toggle nav-log-in" data-toggle="dropdown"> My Account<span class="caret"></span> </a>
        <ul class="dropdown-menu">
          <li><a href="https://manage.openshift.com/">OpenShift Online 3 (New!)</a></li>
          <li><a href="https://openshift.redhat.com/app/console">OpenShift Online 2</a></li>
        </ul>
      </li>
      <li class="hidden-xs hidden-sm"><a class="nav-sign-up" href="https://manage.openshift.com/">Sign up for Free</a></li>
    </ul>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../welcome/index.html">OpenShift Container Platform Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../install_config/index.html">Installation and Configuration</a>
      </li>
      
      <li class="hidden-xs active">
        Enabling Cluster Metrics
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <div id="hc-search">
  <input id="hc-search-input" type="text">
  <button id="hc-search-btn">Search</button>
</div>

<div id="hc-search-modal">
  <div id="hc-modal-content">
    <span id="hc-modal-close">&times;</span>
    <div id="hc-search-results"></div>
  </div>
</div>

<script>
  hcSearchCategory("docs_cp", "Branch Build");
</script>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../welcome/legal_notice.html">Legal Notice</a></li>
            <li><a class="" href="../welcome/revhistory_full.html">Full Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Release Notes
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../release_notes/index.html">Overview</a></li>
            <li><a class="" href="../release_notes/ocp_3_7_release_notes.html">OpenShift Container Platform 3.7 Release Notes</a></li>
            <li><a class="" href="../release_notes/xpaas_release_notes.html">xPaaS Release Notes</a></li>
            <li><a class="" href="../release_notes/v2_vs_v3.html">Comparing with OpenShift Enterprise 2</a></li>
            <li><a class="" href="../release_notes/revhistory_release_notes.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../getting_started/install_openshift.html">Install OpenShift</a></li>
            <li><a class="" href="../getting_started/configure_openshift.html">Configure OpenShift</a></li>
            <li><a class="" href="../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../getting_started/revhistory_getting_started.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/image_registry.html">Container Registry</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-4">
                <span id="sgSpan-3-4" class="fa fa-caret-right"></span>&nbsp;Networking
              </a>
              <ul id="topicSubGroup-3-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/networking/networking.html">Networking</a></li>
                  <li><a class="" href="../architecture/networking/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../architecture/networking/network_plugins.html">Network Plug-ins</a></li>
                  <li><a class="" href="../architecture/networking/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../architecture/networking/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../architecture/networking/haproxy-router.html">HAProxy Router Plug-in</a></li>
                  <li><a class="" href="../architecture/networking/routes.html">Routes</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-5">
                <span id="sgSpan-3-5" class="fa fa-caret-right"></span>&nbsp;Service Catalog Components
              </a>
              <ul id="topicSubGroup-3-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/service_catalog/index.html">Service Catalog</a></li>
                  <li><a class="" href="../architecture/service_catalog/template_service_broker.html">Template Service Broker</a></li>
                  <li><a class="" href="../architecture/service_catalog/ansible_service_broker.html">OpenShift Ansible Broker</a></li>
              </ul>
            </li>
            <li><a class="" href="../architecture/revhistory_architecture.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>Container Security Guide
      </a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../security/index.html">Introduction</a></li>
            <li><a class="" href="../security/hosts_multitenancy.html">Container Hosts and Multi-tenancy</a></li>
            <li><a class="" href="../security/container_content.html">Container Content</a></li>
            <li><a class="" href="../security/registries.html">Registries</a></li>
            <li><a class="" href="../security/build_process.html">Build Process</a></li>
            <li><a class="" href="../security/deployment.html">Deployment</a></li>
            <li><a class="" href="../security/securing_container_platform.html">Securing the Container Platform</a></li>
            <li><a class="" href="../security/network_security.html">Network Security</a></li>
            <li><a class="" href="../security/storage.html">Attached Storage</a></li>
            <li><a class="" href="../security/monitoring.html">Monitoring Events and Logs</a></li>
            <li><a class="" href="../security/revhistory_security.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-down"></span>Installation and Configuration
      </a>
      <ul id="topicGroup5" class="collapse in list-unstyled">
            <li><a class="" href="../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-1">
                <span id="sgSpan-5-1" class="fa fa-caret-right"></span>&nbsp;Installing a Cluster
              </a>
              <ul id="topicSubGroup-5-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/install/planning.html">Planning</a></li>
                  <li><a class="" href="../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../install_config/install/host_preparation.html">Host Preparation</a></li>
                  <li><a class="" href="../install_config/install/rpm_vs_containerized.html">Installing on Containerized Hosts</a></li>
                  <li><a class="" href="../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class="" href="../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../install_config/install/disconnected_install.html">Disconnected Installation</a></li>
                  <li><a class="" href="../install_config/install/stand_alone_registry.html">Installing a Stand-alone Deployment of OpenShift Container Registry</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-2">
                <span id="sgSpan-5-2" class="fa fa-caret-right"></span>&nbsp;Setting up the Registry
              </a>
              <ul id="topicSubGroup-5-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/registry/index.html">Registry Overview</a></li>
                  <li><a class="" href="../install_config/registry/deploy_registry_existing_clusters.html">Deploying a Registry on Existing Clusters</a></li>
                  <li><a class="" href="../install_config/registry/accessing_registry.html">Accessing the Registry</a></li>
                  <li><a class="" href="../install_config/registry/securing_and_exposing_registry.html">Securing and Exposing the Registry</a></li>
                  <li><a class="" href="../install_config/registry/extended_registry_configuration.html">Extended Registry Configuration</a></li>
                  <li><a class="" href="../install_config/registry/registry_known_issues.html">Known Issues</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-3">
                <span id="sgSpan-5-3" class="fa fa-caret-right"></span>&nbsp;Setting up a Router
              </a>
              <ul id="topicSubGroup-5-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/router/index.html">Router Overview</a></li>
                  <li><a class="" href="../install_config/router/default_haproxy_router.html">Using the Default HAProxy Router</a></li>
                  <li><a class="" href="../install_config/router/customized_haproxy_router.html">Deploying a Customized HAProxy Router</a></li>
                  <li><a class="" href="../install_config/router/proxy_protocol.html">Configuring the HAProxy Router to Use the PROXY Protocol</a></li>
                  <li><a class="" href="../install_config/router/f5_router.html">Using the F5 Router Plug-in</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-4">
                <span id="sgSpan-5-4" class="fa fa-caret-right"></span>&nbsp;Upgrading a Cluster
              </a>
              <ul id="topicSubGroup-5-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/upgrading/automated_upgrades.html">Automated In-place Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/manual_upgrades.html">Manual In-place Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/blue_green_deployments.html">Blue-Green Deployments</a></li>
                  <li><a class="" href="../install_config/upgrading/os_upgrades.html">Operating System Updates and Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/migrating_embedded_etcd.html">Migrating Embedded etcd to External etcd</a></li>
                  <li><a class="" href="../install_config/upgrading/migrating_etcd.html">Migrating etcd Data (v2 to v3)</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/downgrade.html">Downgrading</a></li>
            <li><a class="" href="../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../install_config/adding_hosts_to_existing_cluster.html">Adding Hosts to an Existing Cluster</a></li>
            <li><a class="" href="../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../install_config/redeploying_certificates.html">Redeploying Certificates</a></li>
            <li><a class="" href="../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-13">
                <span id="sgSpan-5-13" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-5-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../install_config/configuring_nuagesdn.html">Configuring Nuage SDN</a></li>
            <li><a class="" href="../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li><a class="" href="../install_config/configuring_azure.html">Configuring for Azure</a></li>
            <li><a class="" href="../install_config/configuring_vsphere.html">Configuring for VMWare vSphere</a></li>
            <li><a class="" href="../install_config/configuring_local.html">Configuring for local Volume</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-22">
                <span id="sgSpan-5-22" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-5-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_azure.html">Using Azure Disk</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_azure_file.html">Using Azure File</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_flex_volume.html">Using FlexVolume</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_vsphere.html">Using VMWare vSphere</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_local.html">Using Local Volume</a></li>
                  <li><a class="" href="../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning and Creating Storage Classes</a></li>
                  <li><a class="" href="../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
                  <li><a class="" href="../install_config/persistent_storage/selector_label_binding.html">Selector-Label Volume Binding</a></li>
                  <li><a class="" href="../install_config/persistent_storage/enabling_controller_attach_detach.html">Enabling Controller-managed Attachment and Detachment</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-23">
                <span id="sgSpan-5-23" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-5-23" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/storage_examples/ceph_rbd_dynamic_example.html">Complete Example Using Ceph RBD for Dynamic Provisioning</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_dynamic_example.html">Dynamic Provisioning Example Using Containerized GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/dedicated_gluster_dynamic_example.html">Dynamic Provisioning Example Using Dedicated GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/containerized_heketi_with_dedicated_gluster.html">Containerized Heketi for Managing Dedicated GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
                  <li><a class="" href="../install_config/storage_examples/binding_pv_by_label.html">Binding Persistent Volumes by Label</a></li>
                  <li><a class="" href="../install_config/storage_examples/storage_classes_dynamic_provisioning.html">Using StorageClasses for Dynamic Provisioning</a></li>
                  <li><a class="" href="../install_config/storage_examples/storage_classes_legacy.html">Using StorageClasses for Existing Legacy Storage</a></li>
                  <li><a class="" href="../install_config/storage_examples/azure_blob_docker_registry_example.html">Configuring Azure Blob Storage for Integrated Docker Registry</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../install_config/configuring_pipeline_execution.html">Configuring Pipeline Execution</a></li>
            <li><a class="" href="../install_config/configuring_routing.html">Configuring Route Timeouts</a></li>
            <li><a class="" href="../install_config/configuring_native_container_routing.html">Configuring Native Container Routing</a></li>
            <li><a class="" href="../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../install_config/aggregate_logging_sizing.html">Aggregate Logging Sizing Guidelines</a></li>
            <li><a class=" active" href="../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../install_config/provisioners.html">Deploying External Persistent Volume Provisioners</a></li>
            <li><a class="" href="../install_config/revhistory_install_config.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Administrator Solutions
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../admin_solutions/index.html">Overview</a></li>
            <li><a class="" href="../admin_solutions/master_node_config.html">Master and Node Configuration</a></li>
            <li><a class="" href="../admin_solutions/user_role_mgmt.html">User and Role Management</a></li>
            <li><a class="" href="../admin_solutions/authentication.html">Authentication</a></li>
            <li><a class="" href="../admin_solutions/certificate_management.html">Certificate Management</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../admin_guide/managing_pods.html">Managing Pods</a></li>
            <li><a class="" href="../admin_guide/managing_networking.html">Managing Networking</a></li>
            <li><a class="" href="../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../admin_guide/manage_rbac.html">Managing Role-based Access Control</a></li>
            <li><a class="" href="../admin_guide/image_policy.html">Image Policy</a></li>
            <li><a class="" href="../admin_guide/image_signatures.html">Image Signatures</a></li>
            <li><a class="" href="../admin_guide/scoped_tokens.html">Scoped Tokens</a></li>
            <li><a class="" href="../admin_guide/monitoring_images.html">Monitoring Images</a></li>
            <li><a class="" href="../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-13">
                <span id="sgSpan-7-13" class="fa fa-caret-right"></span>&nbsp;Scheduling
              </a>
              <ul id="topicSubGroup-7-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../admin_guide/scheduling/index.html">Overview</a></li>
                  <li><a class="" href="../admin_guide/scheduling/scheduler.html">Default Scheduling</a></li>
                  <li><a class="" href="../admin_guide/scheduling/custom_scheduler.html">Custom Scheduling</a></li>
                  <li><a class="" href="../admin_guide/scheduling/scheduler-advanced.html">Advanced Scheduling</a></li>
                  <li><a class="" href="../admin_guide/scheduling/node_affinity.html">Advanced Scheduling and Node Affinity</a></li>
                  <li><a class="" href="../admin_guide/scheduling/pod_affinity.html">Advanced Scheduling and Pod Affinity/Anti-affinity</a></li>
                  <li><a class="" href="../admin_guide/scheduling/node_selector.html">Advanced Scheduling and Node Selectors</a></li>
                  <li><a class="" href="../admin_guide/scheduling/taints_tolerations.html">Advanced Scheduling and Taints and Tolerations</a></li>
              </ul>
            </li>
            <li><a class="" href="../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../admin_guide/multiproject_quota.html">Setting Multi-Project Quotas</a></li>
            <li><a class="" href="../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../admin_guide/custom_resource_definitions.html">Extending the Kubernetes API with Custom Resources</a></li>
            <li><a class="" href="../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../admin_guide/opaque_integer_resources.html">Opaque Integer Resources</a></li>
            <li><a class="" href="../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../admin_guide/tcp_ingress_external_ports.html">Assigning Unique External IPs for Ingress Traffic</a></li>
            <li><a class="" href="../admin_guide/out_of_resource_handling.html">Out of Resource Handling</a></li>
            <li><a class="" href="../admin_guide/router.html">Monitoring and Debugging Routers</a></li>
            <li><a class="" href="../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../admin_guide/seccomp.html">Restricting Application Capabilities Using Seccomp</a></li>
            <li><a class="" href="../admin_guide/sysctls.html">Sysctls</a></li>
            <li><a class="" href="../admin_guide/encrypting_data.html">Encrypting Data at Datastore Layer</a></li>
            <li><a class="" href="../admin_guide/ipsec.html">Encrypting Hosts with IPsec</a></li>
            <li><a class="" href="../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../admin_guide/backup_restore.html">Backup and Restore</a></li>
            <li><a class="" href="../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../admin_guide/diagnostics_tool.html">Diagnostics Tool</a></li>
            <li><a class="" href="../admin_guide/idling_applications.html">Idling Applications</a></li>
            <li><a class="" href="../admin_guide/cluster_capacity.html">Analyzing Cluster Capacity</a></li>
            <li><a class="" href="../admin_guide/aws_cluster_labeling.html">Labeling Clusters for Amazon Web Services</a></li>
            <li><a class="" href="../admin_guide/revhistory_admin_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Scaling and Performance Guide
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../scaling_performance/index.html">Overview</a></li>
            <li><a class="" href="../scaling_performance/install_practices.html">Recommended Installation Practices</a></li>
            <li><a class="" href="../scaling_performance/host_practices.html">Recommended Host Practices</a></li>
            <li><a class="" href="../scaling_performance/optimizing_compute_resources.html">Optimizing Compute Resources</a></li>
            <li><a class="" href="../scaling_performance/optimizing_storage.html">Optimizing Storage</a></li>
            <li><a class="" href="../scaling_performance/network_optimization.html">Network Optimization</a></li>
            <li><a class="" href="../scaling_performance/routing_optimization.html">Routing Optimization</a></li>
            <li><a class="" href="../scaling_performance/scaling_cluster_metrics.html">Scaling Cluster Metrics</a></li>
            <li><a class="" href="../scaling_performance/cluster_limits.html">Cluster Limits</a></li>
            <li><a class="" href="../scaling_performance/using_cluster_loader.html">Using Cluster Loader</a></li>
            <li><a class="" href="../scaling_performance/revhistory_scaling_performance.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../cli_reference/extend_cli.html">Extending the CLI</a></li>
            <li><a class="" href="../cli_reference/revhistory_cli_reference.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../dev_guide/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1">
                <span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Application Life Cycle Management
              </a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/application_lifecycle/development_process.html">Planning Your Development Process</a></li>
                  <li><a class="" href="../dev_guide/application_lifecycle/new_app.html">Creating New Applications</a></li>
                  <li><a class="" href="../dev_guide/application_lifecycle/promoting_applications.html">Promoting Applications Across Environments</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../dev_guide/authorization.html">Authorization</a></li>
            <li><a class="" href="../dev_guide/projects.html">Projects</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-5">
                <span id="sgSpan-10-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-10-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/migrating_applications/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-6">
                <span id="sgSpan-10-6" class="fa fa-caret-right"></span>&nbsp;Tutorials
              </a>
              <ul id="topicSubGroup-10-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/dev_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/openshift_pipeline.html">OpenShift Pipeline Builds</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/binary_builds.html">Binary Builds</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-7">
                <span id="sgSpan-10-7" class="fa fa-caret-right"></span>&nbsp;Builds
              </a>
              <ul id="topicSubGroup-10-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/builds/index.html">How Builds Work</a></li>
                  <li><a class="" href="../dev_guide/builds/basic_build_operations.html">Basic Build Operations</a></li>
                  <li><a class="" href="../dev_guide/builds/build_inputs.html">Build Inputs</a></li>
                  <li><a class="" href="../dev_guide/builds/build_output.html">Build Output</a></li>
                  <li><a class="" href="../dev_guide/builds/build_strategies.html">Build Strategy Options</a></li>
                  <li><a class="" href="../dev_guide/builds/build_environment.html">Build Environment</a></li>
                  <li><a class="" href="../dev_guide/builds/triggering_builds.html">Triggering Builds</a></li>
                  <li><a class="" href="../dev_guide/builds/build_hooks.html">Build Hooks</a></li>
                  <li><a class="" href="../dev_guide/builds/build_run_policy.html">Build Run Policy</a></li>
                  <li><a class="" href="../dev_guide/builds/advanced_build_operations.html">Advanced Build Operations</a></li>
                  <li><a class="" href="../dev_guide/builds/build_troubleshooting.html">Troubleshooting</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-8">
                <span id="sgSpan-10-8" class="fa fa-caret-right"></span>&nbsp;Deployments
              </a>
              <ul id="topicSubGroup-10-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/deployments/how_deployments_work.html">How Deployments Work</a></li>
                  <li><a class="" href="../dev_guide/deployments/basic_deployment_operations.html">Basic Deployment Operations</a></li>
                  <li><a class="" href="../dev_guide/deployments/deployment_strategies.html">Deployment Strategies</a></li>
                  <li><a class="" href="../dev_guide/deployments/advanced_deployment_strategies.html">Advanced Deployment Strategies</a></li>
                  <li><a class="" href="../dev_guide/deployments/kubernetes_deployments.html">Kubernetes Deployments Support</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../dev_guide/pod_preset.html">Injecting Information into Pods Using Pod Presets</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-15">
                <span id="sgSpan-10-15" class="fa fa-caret-right"></span>&nbsp;Getting Traffic into a Cluster over Non-Standard Ports
              </a>
              <ul id="topicSubGroup-10-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/expose_service/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_router.html">Using a Router</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_load_balancer.html">Using a Load Balancer</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_service.html">Using a Service ExternalIP</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_nodeport.html">Using a NodePort</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../dev_guide/projected_volumes.html">Projected Volumes</a></li>
            <li><a class="" href="../dev_guide/daemonsets.html">Using Daemonsets</a></li>
            <li><a class="" href="../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../dev_guide/openshift_pipeline.html">OpenShift Pipeline</a></li>
            <li><a class="" href="../dev_guide/cron_jobs.html">Cron Jobs</a></li>
            <li><a class="" href="../dev_guide/create_from_url.html">Create from URL</a></li>
            <li><a class="" href="../dev_guide/application_memory_sizing.html">Application memory sizing</a></li>
            <li><a class="" href="../dev_guide/revhistory_dev_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../creating_images/custom.html">Custom Builder</a></li>
            <li><a class="" href="../creating_images/revhistory_creating_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12">
        <span id="tgSpan12" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../using_images/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-1">
                <span id="sgSpan-12-1" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-12-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/s2i_images/dot_net_core.html">.NET Core</a></li>
                  <li><a class="" href="../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../using_images/s2i_images/python.html">Python</a></li>
                  <li><a class="" href="../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I Images</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-2">
                <span id="sgSpan-12-2" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-12-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../using_images/db_images/mongodb.html">MongoDB</a></li>
                  <li><a class="" href="../using_images/db_images/mariadb.html">MariaDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-3">
                <span id="sgSpan-12-3" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-12-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-4">
                <span id="sgSpan-12-4" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-12-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/other_images/jenkins.html">Jenkins</a></li>
                  <li><a class="" href="../using_images/other_images/jenkins_slaves.html">Jenkins Slaves</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-5">
                <span id="sgSpan-12-5" class="fa fa-caret-right"></span>&nbsp;xPaaS Middleware Images
              </a>
              <ul id="topicSubGroup-12-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/xpaas_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li><a class="" href="../using_images/revhistory_using_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13">
        <span id="tgSpan13" class="fa fa-angle-right"></span>Ansible Playbook Bundle Development Guide
      </a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../apb_devel/index.html">Introduction</a></li>
            <li><a class="" href="../apb_devel/cli_tooling.html">CLI Tooling</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-2">
                <span id="sgSpan-13-2" class="fa fa-caret-right"></span>&nbsp;Writing APBs
              </a>
              <ul id="topicSubGroup-13-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../apb_devel/writing/getting_started.html">Getting Started</a></li>
                  <li><a class="" href="../apb_devel/writing/reference.html">Reference</a></li>
              </ul>
            </li>
            <li><a class="" href="../apb_devel/revhistory_apb_devel.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14">
        <span id="tgSpan14" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li><a class="" href="../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../rest_api/examples.html">Examples</a></li>
            <li><a class="" href="../rest_api/revhistory_rest_api.html">Revision History</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-3">
                <span id="sgSpan-14-3" class="fa fa-caret-right"></span>&nbsp;/api/v1
              </a>
              <ul id="topicSubGroup-14-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/api/v1.APIResourceList.html">v1.APIResourceList</a></li>
                  <li><a class="" href="../rest_api/api/v1.APIVersions.html">v1.APIVersions</a></li>
                  <li><a class="" href="../rest_api/api/v1.Binding.html">v1.Binding</a></li>
                  <li><a class="" href="../rest_api/api/v1.ComponentStatus.html">v1.ComponentStatus</a></li>
                  <li><a class="" href="../rest_api/api/v1.ConfigMap.html">v1.ConfigMap</a></li>
                  <li><a class="" href="../rest_api/api/v1.Endpoints.html">v1.Endpoints</a></li>
                  <li><a class="" href="../rest_api/api/v1.Event.html">v1.Event</a></li>
                  <li><a class="" href="../rest_api/api/v1.LimitRange.html">v1.LimitRange</a></li>
                  <li><a class="" href="../rest_api/api/v1.Namespace.html">v1.Namespace</a></li>
                  <li><a class="" href="../rest_api/api/v1.Node.html">v1.Node</a></li>
                  <li><a class="" href="../rest_api/api/v1.PersistentVolume.html">v1.PersistentVolume</a></li>
                  <li><a class="" href="../rest_api/api/v1.PersistentVolumeClaim.html">v1.PersistentVolumeClaim</a></li>
                  <li><a class="" href="../rest_api/api/v1.Pod.html">v1.Pod</a></li>
                  <li><a class="" href="../rest_api/api/v1.PodTemplate.html">v1.PodTemplate</a></li>
                  <li><a class="" href="../rest_api/api/v1.ReplicationController.html">v1.ReplicationController</a></li>
                  <li><a class="" href="../rest_api/api/v1.ResourceQuota.html">v1.ResourceQuota</a></li>
                  <li><a class="" href="../rest_api/api/v1.Secret.html">v1.Secret</a></li>
                  <li><a class="" href="../rest_api/api/v1.SecurityContextConstraints.html">v1.SecurityContextConstraints</a></li>
                  <li><a class="" href="../rest_api/api/v1.Service.html">v1.Service</a></li>
                  <li><a class="" href="../rest_api/api/v1.ServiceAccount.html">v1.ServiceAccount</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-4">
                <span id="sgSpan-14-4" class="fa fa-caret-right"></span>&nbsp;/apis/v1
              </a>
              <ul id="topicSubGroup-14-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis/v1.APIGroup.html">v1.APIGroup</a></li>
                  <li><a class="" href="../rest_api/apis/v1.APIGroupList.html">v1.APIGroupList</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-5">
                <span id="sgSpan-14-5" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta1
              </a>
              <ul id="topicSubGroup-14-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-apps/v1beta1.ControllerRevision.html">v1beta1.ControllerRevision</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta1.StatefulSet.html">v1beta1.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-6">
                <span id="sgSpan-14-6" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta2
              </a>
              <ul id="topicSubGroup-14-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.ControllerRevision.html">v1beta2.ControllerRevision</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.DaemonSet.html">v1beta2.DaemonSet</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.Deployment.html">v1beta2.Deployment</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.ReplicaSet.html">v1beta2.ReplicaSet</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.StatefulSet.html">v1beta2.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-7">
                <span id="sgSpan-14-7" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v1
              </a>
              <ul id="topicSubGroup-14-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-autoscaling/v1.HorizontalPodAutoscaler.html">v1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-8">
                <span id="sgSpan-14-8" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v2beta1
              </a>
              <ul id="topicSubGroup-14-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-autoscaling/v2beta1.HorizontalPodAutoscaler.html">v2beta1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-9">
                <span id="sgSpan-14-9" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1
              </a>
              <ul id="topicSubGroup-14-9" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-batch/v1.Job.html">v1.Job</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-10">
                <span id="sgSpan-14-10" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1beta1
              </a>
              <ul id="topicSubGroup-14-10" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-batch/v1beta1.CronJob.html">v1beta1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-11">
                <span id="sgSpan-14-11" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v2alpha1
              </a>
              <ul id="topicSubGroup-14-11" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-batch/v2alpha1.CronJob.html">v2alpha1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-12">
                <span id="sgSpan-14-12" class="fa fa-caret-right"></span>&nbsp;/apis/extensions/v1beta1
              </a>
              <ul id="topicSubGroup-14-12" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.DaemonSet.html">v1beta1.DaemonSet</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.Ingress.html">v1beta1.Ingress</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.NetworkPolicy.html">v1beta1.NetworkPolicy</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.PodSecurityPolicy.html">v1beta1.PodSecurityPolicy</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.ReplicaSet.html">v1beta1.ReplicaSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-13">
                <span id="sgSpan-14-13" class="fa fa-caret-right"></span>&nbsp;/apis/policy/v1beta1
              </a>
              <ul id="topicSubGroup-14-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-policy/v1beta1.PodDisruptionBudget.html">v1beta1.PodDisruptionBudget</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-14">
                <span id="sgSpan-14-14" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authentication.k8s.io/v1.TokenReview.html">v1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-15">
                <span id="sgSpan-14-15" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authentication.k8s.io/v1beta1.TokenReview.html">v1beta1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-16">
                <span id="sgSpan-14-16" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-16" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.LocalSubjectAccessReview.html">v1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.SelfSubjectAccessReview.html">v1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.SelfSubjectRulesReview.html">v1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.SubjectAccessReview.html">v1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-17">
                <span id="sgSpan-14-17" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-17" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.LocalSubjectAccessReview.html">v1beta1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectAccessReview.html">v1beta1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectRulesReview.html">v1beta1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.SubjectAccessReview.html">v1beta1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-18">
                <span id="sgSpan-14-18" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-18" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRole.html">v1.ClusterRole</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRoleBinding.html">v1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.Role.html">v1.Role</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.RoleBinding.html">v1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-19">
                <span id="sgSpan-14-19" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-19" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRole.html">v1beta1.ClusterRole</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRoleBinding.html">v1beta1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.Role.html">v1beta1.Role</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.RoleBinding.html">v1beta1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-20">
                <span id="sgSpan-14-20" class="fa fa-caret-right"></span>&nbsp;/apis/certificates.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-20" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-certificates.k8s.io/v1beta1.CertificateSigningRequest.html">v1beta1.CertificateSigningRequest</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-21">
                <span id="sgSpan-14-21" class="fa fa-caret-right"></span>&nbsp;/apis/networking.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-21" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-networking.k8s.io/v1.NetworkPolicy.html">v1.NetworkPolicy</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-22">
                <span id="sgSpan-14-22" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-storage.k8s.io/v1.StorageClass.html">v1.StorageClass</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-23">
                <span id="sgSpan-14-23" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-23" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-storage.k8s.io/v1beta1.StorageClass.html">v1beta1.StorageClass</a></li>
              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>Enabling Cluster Metrics</h1>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#cluster-metrics-before-you-begin">Before You Begin</a></li>
<li><a href="#metrics-namespace">Metrics Project</a></li>
<li><a href="#metrics-data-storage">Metrics Data Storage</a>
<ul class="sectlevel2">
<li><a href="#metrics-persistent-storage">Persistent Storage</a></li>
<li><a href="#capacity-planning-for-openshift-metrics">Capacity Planning for Cluster Metrics</a></li>
<li><a href="#metrics-non-persistent-storage">Non-Persistent Storage</a></li>
</ul>
</li>
<li><a href="#metrics-ansible-role">Metrics Ansible Role</a>
<ul class="sectlevel2">
<li><a href="#metrics-ansible-variables">Specifying Metrics Ansible Variables</a></li>
<li><a href="#metrics-using-secrets">Using Secrets</a></li>
</ul>
</li>
<li><a href="#deploying-the-metrics-components">Deploying the Metric Components</a>
<ul class="sectlevel2">
<li><a href="#metrics-diagnostics">Metrics Diagnostics</a></li>
</ul>
</li>
<li><a href="#install-setting-the-metrics-public-url">Setting the Metrics Public URL</a></li>
<li><a href="#cluster-metrics-accessing-hawkular-metrics-directly">Accessing Hawkular Metrics Directly</a>
<ul class="sectlevel2">
<li><a href="#cluster-metrics-openshift-projects-and-hawkular-tenants">OpenShift Container Platform Projects and Hawkular Tenants</a></li>
<li><a href="#cluster-metrics-authorization">Authorization</a></li>
</ul>
</li>
<li><a href="#metrics-scaling-metrics-pods">Scaling OpenShift Container Platform Cluster Metrics Pods</a></li>
<li><a href="#metrics-logging">Integration with Aggregated Logging</a></li>
<li><a href="#metrics-cleanup">Cleanup</a></li>
<li><a href="#openshift-prometheus">Prometheus on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#openshift-prometheus-roles">Setting Prometheus Role Variables</a></li>
<li><a href="#openshift-prometheus-deploy">Deploying Prometheus Using Ansible Installer</a></li>
<li><a href="#openshift-prometheus-undeploy">Undeploying Prometheus</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The
<a href="../architecture/infrastructure_components/kubernetes_infrastructure.html#kubelet">kubelet</a>
exposes metrics that can be collected and stored in back-ends by
<a href="https://github.com/GoogleCloudPlatform/heapster">Heapster</a>.</p>
</div>
<div class="paragraph">
<p>As an OpenShift Container Platform administrator, you can view a cluster&#8217;s metrics from all
containers and components in one user interface. These metrics are also used by
<a href="../dev_guide/pod_autoscaling.html#dev-guide-pod-autoscaling">horizontal pod
autoscalers</a> in order to determine when and how to scale.</p>
</div>
<div class="paragraph">
<p>This topic describes using
<a href="https://github.com/hawkular/hawkular-metrics">Hawkular Metrics</a> as a metrics
engine which stores the data persistently in a
<a href="http://cassandra.apache.org/">Cassandra</a> database. When this is configured,
CPU, memory and network-based metrics are viewable from the OpenShift Container Platform web
console and are available for use by
<a href="../dev_guide/pod_autoscaling.html#dev-guide-pod-autoscaling">horizontal pod
autoscalers</a>.</p>
</div>
<div class="paragraph">
<p>Heapster retrieves a list of all nodes from the master server, then contacts
each node individually through the <code>/stats</code> endpoint. From there, Heapster
scrapes the metrics for CPU, memory and network usage, then exports them into
Hawkular Metrics.</p>
</div>
<div class="paragraph">
<p>Browsing individual pods in the web console displays separate sparkline charts
for memory and CPU. The time range displayed is selectable, and these charts
automatically update every 30 seconds. If there are multiple containers on the
pod, then you can select a specific container to display its metrics.</p>
</div>
<div class="paragraph">
<p>If <a href="../admin_guide/limits.html#admin-guide-limits">resource limits</a> are
defined for your project, then you can also see a donut chart for each pod. The
donut chart displays usage against the resource limit. For example: <code>145
Available of 200 MiB</code>, with the donut chart showing <code>55 MiB Used</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-metrics-before-you-begin"><a class="anchor" href="#cluster-metrics-before-you-begin"></a>Before You Begin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An Ansible playbook is available to deploy and upgrade cluster metrics. You
should familiarize yourself with the
<a href="../install_config/install/advanced_install.html#install-config-install-advanced-install">Advanced
Installation</a> section. This provides information for preparing to use Ansible
and includes information about configuration. Parameters are added to the
Ansible inventory file to configure various areas of cluster metrics.</p>
</div>
<div class="paragraph">
<p>The following describe the various areas and the parameters that can be added to
the Ansible inventory file in order to modify the defaults:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../install_config/cluster_metrics.html#metrics-namespace">Metrics Project</a></p>
</li>
<li>
<p><a href="../install_config/cluster_metrics.html#metrics-data-storage">Metrics Data Storage</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics-namespace"><a class="anchor" href="#metrics-namespace"></a>Metrics Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The components for cluster metrics must be deployed to the <strong>openshift-infra</strong>
project in order for autoscaling to work.
<a href="../dev_guide/pod_autoscaling.html#dev-guide-pod-autoscaling">Horizontal pod
autoscalers</a> specifically use this project to discover the Heapster service and
use it to retrieve metrics. The metrics project can be changed by adding
<code>openshift_metrics_project</code> to the inventory file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics-data-storage"><a class="anchor" href="#metrics-data-storage"></a>Metrics Data Storage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can store the metrics data to either
<a href="../architecture/additional_concepts/storage.html#architecture-additional-concepts-storage">persistent
storage</a> or to a temporary <a href="../dev_guide/volumes.html#dev-guide-volumes">pod
volume</a>.</p>
</div>
<div class="sect2">
<h3 id="metrics-persistent-storage"><a class="anchor" href="#metrics-persistent-storage"></a>Persistent Storage</h3>
<div class="paragraph">
<p>Running OpenShift Container Platform cluster metrics with persistent storage means that your
metrics will be stored to a
<a href="../architecture/additional_concepts/storage.html#persistent-volumes">persistent
volume</a> and be able to survive a pod being restarted or recreated. This is ideal
if you require your metrics data to be guarded from data loss. For production
environments it is highly recommended to configure persistent storage for your
metrics pods.</p>
</div>
<div class="paragraph">
<p>The size requirement of the Cassandra storage is dependent on the number of
pods. It is the administrator&#8217;s responsibility to ensure that the size
requirements are sufficient for their setup and to monitor usage to ensure that
the disk does not become full. The size of the persisted volume claim is
specified with the <code>openshift_metrics_cassandra_pvc_size</code>
<a href="../install_config/cluster_metrics.html#metrics-ansible-variables">ansible
variable</a> which is set to 10 GB by default.</p>
</div>
<div class="paragraph">
<p>If you would like to use <a href="../install_config/persistent_storage/dynamically_provisioning_pvs.html#install-config-persistent-storage-dynamically-provisioning-pvs">dynamically provisioned persistent volumes</a> set the <code>openshift_metrics_cassandra_storage_type</code>
<a href="../install_config/cluster_metrics.html#metrics-ansible-variables">variable</a>
to <code>dynamic</code> in the inventory file.</p>
</div>
</div>
<div class="sect2">
<h3 id="capacity-planning-for-openshift-metrics"><a class="anchor" href="#capacity-planning-for-openshift-metrics"></a>Capacity Planning for Cluster Metrics</h3>
<div class="paragraph">
<p>After running the <code>openshift_metrics</code> Ansible role, the output of <code>oc get pods</code>
should resemble the following:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"> # oc get pods -n openshift-infra
 NAME                                READY             STATUS      RESTARTS          AGE
 hawkular-cassandra-1-l5y4g          1/1               Running     0                 17h
 hawkular-metrics-1t9so              1/1               Running     0                 17h
 heapster-febru                      1/1               Running     0                 17h</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>OpenShift Container Platform metrics are stored using the Cassandra database, which is
deployed with settings of <code>openshift_metrics_cassandra_limits_memory: 2G</code>; this
value could be adjusted further based upon the available memory as determined by
the Cassandra start script. This value should cover most OpenShift Container Platform metrics
installations, but using environment variables you can modify the <code>MAX_HEAP_SIZE</code>
along with heap new generation size, <code>HEAP_NEWSIZE</code>, in the
Cassandra Dockerfile
prior to deploying cluster metrics.</p>
</div>
<div class="paragraph">
<p>By default, metrics data is stored for seven days. After seven days, Cassandra
begins to purge the oldest metrics data. Metrics data for deleted pods and
projects is not automatically purged; it is only removed once the data is more
than seven days old.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Data Accumulated by 10 Nodes and 1000 Pods</div>
<div class="content">
<div class="paragraph">
<p>In a test scenario including 10 nodes and 1000 pods, a 24 hour period
accumulated 2.5 GB of metrics data. Therefore, the capacity planning formula for
metrics data in this scenario is:</p>
</div>
<div class="paragraph">
<p>(((2.5 × 10<sup>9</sup>) ÷ 1000) ÷ 24) ÷ 10<sup>6</sup> = ~0.125 MB/hour per pod.</p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. Data Accumulated by 120 Nodes and 10000 Pods</div>
<div class="content">
<div class="paragraph">
<p>In a test scenario including 120 nodes and 10000 pods, a 24 hour period
accumulated 25 GB of metrics data. Therefore, the capacity planning formula for
metrics data in this scenario is:</p>
</div>
<div class="paragraph">
<p>(((11.410 × 10<sup>9</sup>) ÷ 1000) ÷ 24) ÷ 10<sup>6</sup> = 0.475 MB/hour</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">1000 pods</th>
<th class="tableblock halign-left valign-top">10000 pods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cassandra storage data accumulated over 24 hours (default metrics parameters)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.4 GB</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the default value of 7 days for <code>openshift_metrics_duration</code> and 10 seconds for
<code>openshift_metrics_resolution</code> are preserved, then weekly storage requirements for the Cassandra pod would be:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">1000 pods</th>
<th class="tableblock halign-left valign-top">10000 pods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cassandra storage data accumulated over seven days (default metrics parameters)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90 GB</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the previous table, an additional 10 percent was added to the expected
storage space as a buffer for unexpected monitored pod usage.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the Cassandra persisted volume runs out of sufficient space, then data loss
will occur.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For cluster metrics to work with persistent storage, ensure that the persistent
volume has the <strong>ReadWriteOnce</strong> access mode. If this mode is not active, then the
persistent volume claim cannot locate the persistent volume, and Cassandra fails
to start.</p>
</div>
<div class="paragraph">
<p>To use persistent storage with the metric components, ensure that a
<a href="../architecture/additional_concepts/storage.html#persistent-volumes">persistent volume</a> of
sufficient size is available. The creation of
<a href="../architecture/additional_concepts/storage.html#persistent-volume-claims">persistent volume claims</a> is handled by
the OpenShift Ansible <code>openshift_metrics</code> role.</p>
</div>
<div class="paragraph">
<p>OpenShift Container Platform metrics also supports dynamically-provisioned persistent volumes.
To use this feature with OpenShift Container Platform metrics, it is necessary to set the value
of <code>openshift_metrics_cassandra_storage_type</code> to <code>dynamic</code>.
You can use EBS, GCE, and Cinder storage back-ends to
<a href="../install_config/persistent_storage/dynamically_provisioning_pvs.html#install-config-persistent-storage-dynamically-provisioning-pvs">dynamically provision persistent volumes</a>.</p>
</div>
<div class="paragraph">
<p>For information on configuring the performance and scaling the cluster metrics
pods, see the
<a href="../scaling_performance/scaling_cluster_metrics.html#scaling-performance-cluster-metrics">Scaling
Cluster Metrics</a> topic.</p>
</div>
<h4 id="cluster-metrics-known-issues-and-limitations" class="discrete">Known Issues and Limitations</h4>
<div class="paragraph">
<p>Testing found that the <code>heapster</code> metrics component is capable of handling up to
25,000 pods. If the amount of pods exceed that number, Heapster begins to fall
behind in metrics processing, resulting in the possibility of metrics graphs no
longer appearing. Work is ongoing to increase the number of pods that Heapster
can gather metrics on, as well as upstream development of alternate
metrics-gathering solutions.</p>
</div>
</div>
<div class="sect2">
<h3 id="metrics-non-persistent-storage"><a class="anchor" href="#metrics-non-persistent-storage"></a>Non-Persistent Storage</h3>
<div class="paragraph">
<p>Running OpenShift Container Platform cluster metrics with non-persistent storage means that
any stored metrics will be deleted when the pod is deleted. While it is much
easier to run cluster metrics with non-persistent data, running with
non-persistent data does come with the risk of permanent data loss. However,
metrics can still survive a container being restarted.</p>
</div>
<div class="paragraph">
<p>In order to use non-persistent storage, you must set the
<code>openshift_metrics_cassandra_storage_type</code>
<a href="../install_config/cluster_metrics.html#metrics-ansible-variables">variable</a>
to <code>emptyDir</code> in the inventory file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using non-persistent storage, metrics data will be written to
<strong><em>/var/lib/origin/openshift.local.volumes/pods</em></strong> on the node where the Cassandra
pod is running. Ensure <strong><em>/var</em></strong> has enough free space to accommodate metrics
storage.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics-ansible-role"><a class="anchor" href="#metrics-ansible-role"></a>Metrics Ansible Role</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OpenShift Ansible <code>openshift_metrics</code> role configures and deploys all of the
metrics components using the variables from the
<a href="../install_config/install/advanced_install.html#configuring-ansible">Configuring
Ansible</a> inventory file.</p>
</div>
<div class="sect2">
<h3 id="metrics-ansible-variables"><a class="anchor" href="#metrics-ansible-variables"></a>Specifying Metrics Ansible Variables</h3>
<div class="paragraph">
<p>The <code>openshift_metrics</code> role included with OpenShift Ansible defines the tasks
to deploy cluster metrics. The following is a list of role variables that can be
added to your inventory file if it is necessary to override them.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Ansible Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_install_metrics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deploy metrics if <code>true</code>. Otherwise, undeploy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_start_cluster</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the metrics cluster after deploying the components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_image_prefix</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The prefix for the component images. With
<code>openshift3/ose-metrics-cassandra:v3.6</code>, set prefix <code>openshift/ose-</code>.
For example, for <code>openshift3/ose-metrics-cassandra:v3.6.173.0.5</code>, set <code>v3.6.173.0.5</code>, or to always get the latest 3.6 image, set <code>v3.6</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_image_version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version for the component images. For example, with
<code>openshift3/ose-metrics-cassandra:v3.6.173.0.5</code>, set version as <code>v3.6.173.0.5</code>, or to
always get the latest 3.6 image, set <code>v3.6</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_startup_timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time, in seconds, to wait until Hawkular Metrics and Heapster start up
before attempting a restart.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_duration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of days to store metrics before they are purged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_resolution</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The frequency that metrics are gathered. Defined as a number and time
identifier: seconds (s), minutes (m), hours (h).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_pvc_prefix</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The persistent volume claim prefix created for Cassandra. A serial number is
appended to the prefix starting from 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_pvc_size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The persistent volume claim size for each of the Cassandra nodes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_storage_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use <code>emptyDir</code> for ephemeral storage (for testing); <code>pv</code> for persistent volumes,
which need to be created before the installation; or <code>dynamic</code> for dynamic
persistent volumes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_replicas</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of Cassandra nodes for the metrics stack. This value dictates the
number of Cassandra replication controllers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_limits_memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The memory limit for the Cassandra pod. For example, a value of <code>2Gi</code> would
limit Cassandra to 2 GB of memory. This value could be further adjusted by the
start script based on available memory of the node on which it is scheduled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_limits_cpu</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CPU limit for the Cassandra pod. For example, a value of <code>4000m</code> (4000
millicores) would limit Cassandra to 4 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_replicas</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of replicas for Cassandra.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_requests_memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory to request for Cassandra pod. For example, a value of
<code>2Gi</code> would request 2 GB of memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_requests_cpu</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CPU request for the Cassandra pod. For example, a value of <code>4000m</code> (4000
millicores) would request 4 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_storage_group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The supplemental storage group to use for Cassandra.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_cassandra_nodeselector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to the desired, existing
<a href="../admin_guide/scheduling/node_selector.html#admin-guide-sched-selector">node selector</a> to ensure that
pods are placed onto nodes with specific labels. For example,
<code>{"region":"infra"}</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_ca</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional certificate authority (CA) file used to sign the Hawkular certificate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_cert</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The certificate file used for re-encrypting the route to Hawkular metrics. The
certificate must contain the host name used by the route. If unspecified, the
default router certificate is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The key file used with the Hawkular certificate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_limits_memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory to limit the Hawkular pod. For example, a value of <code>2Gi</code>
would limit the Hawkular pod to 2 GB of memory. This value could be further
adjusted by the start script based on available memory of the node on which it
is scheduled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_limits_cpu</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CPU limit for the Hawkular pod. For example, a value of <code>4000m</code> (4000
millicores) would limit the Hawkular pod to 4 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_replicas</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of replicas for Hawkular metrics.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_requests_memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory to request for the Hawkular pod. For example, a value of
<code>2Gi</code> would request 2 GB of memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_requests_cpu</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CPU request for the Hawkular pod. For example, a value of <code>4000m</code> (4000
millicores) would request 4 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_nodeselector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to the desired, existing
<a href="../admin_guide/scheduling/node_selector.html#admin-guide-sched-selector">node selector</a> to ensure that
pods are placed onto nodes with specific labels. For example,
<code>{"region":"infra"}</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_allowed_users</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of CN to accept. By default, this is set to allow the
OpenShift service proxy to connect. Add <code>system:master-proxy</code> to the list when
overriding in order to allow
<a href="../dev_guide/pod_autoscaling.html#dev-guide-pod-autoscaling">horizontal pod
autoscaling</a> to function properly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_limits_memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory to limit the Heapster pod. For example, a value of <code>2Gi</code>
would limit the Heapster pod to 2 GB of memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_limits_cpu</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CPU limit for the Heapster pod. For example, a value of <code>4000m</code> (4000
millicores) would limit the Heapster pod to 4 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_requests_memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory to request for Heapster pod. For example, a value of <code>2Gi</code>
would request 2 GB of memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_requests_cpu</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CPU request for the Heapster pod. For example, a value of <code>4000m</code> (4000
millicores) would request 4 CPUs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_standalone</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deploy only Heapster, without the Hawkular Metrics and Cassandra components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_heapster_nodeselector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to the desired, existing
<a href="../admin_guide/scheduling/node_selector.html#admin-guide-sched-selector">node selector</a> to ensure that
pods are placed onto nodes with specific labels. For example,
<code>{"region":"infra"}</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_install_hawkular_agent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to <code>true</code> to install the Hawkular OpenShift Agent (HOSA). Set to <code>false</code> to
remove the HOSA from an installation. HOSA can be used to collect custom
metrics from your pods. This component is currently in
Technology Preview and is not installed by default.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Hawkular OpenShift Agent on OpenShift Container Platform is a Technology Preview feature
only.
Technology Preview features are not
supported with Red Hat production service level agreements (SLAs), might not be
functionally complete, and Red Hat does not recommend to use them for
production. These features provide early access to upcoming product features,
enabling customers to test functionality and provide feedback during the
development process.</p>
</div>
<div class="paragraph">
<p>For more information on Red Hat Technology Preview features support scope, see
<a href="https://access.redhat.com/support/offerings/techpreview/" class="bare">https://access.redhat.com/support/offerings/techpreview/</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="../dev_guide/compute_resources.html#dev-compute-resources">Compute
Resources</a> for further discussion on how to specify requests and limits.</p>
</div>
<div class="paragraph">
<p>The only required variable is <code>openshift_metrics_hawkular_hostname</code>. This value is
required when executing the <code>openshift_metrics</code> Ansible role because it uses the host name for the
Hawkular Metrics <a href="../architecture/networking/routes.html#architecture-core-concepts-routes">route</a>. This
value should correspond to a fully qualified domain name. You must know
the value of <code>openshift_metrics_hawkular_hostname</code> when
<a href="../install_config/cluster_metrics.html#configuring-openshift-metrics">configuring the console</a> for metrics access.</p>
</div>
<div class="paragraph">
<p>If you are using
<a href="../install_config/cluster_metrics.html#metrics-persistent-storage">persistent
storage</a> with Cassandra, it is the administrator&#8217;s responsibility to set a
sufficient disk size for the cluster using the <code>openshift_metrics_cassandra_pvc_size</code> variable.
It is also the administrator&#8217;s responsibility to monitor disk usage to make sure
that it does not become full.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Data loss will result if the Cassandra persisted volume runs out of sufficient space.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All of the other variables are optional and allow for greater customization.
For instance, if you have a custom install in which the Kubernetes master is not
available under <code>https://kubernetes.default.svc:443</code> you can specify the value
to use instead with the <code>openshift_metrics_master_url</code> parameter. To deploy a specific version
of the metrics components, modify the <code>openshift_metrics_image_version</code> variable.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is highly recommended to not use <strong>latest</strong> for the
<strong>openshift_metrics_image_version</strong>. The <strong>latest</strong> version corresponds to the very
latest version available and can cause issues if it brings in a newer version
not meant to function on the version of OpenShift Container Platform you are currently
running.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="metrics-using-secrets"><a class="anchor" href="#metrics-using-secrets"></a>Using Secrets</h3>
<div class="paragraph">
<p>The OpenShift Ansible <code>openshift_metrics</code> role will auto-generate self-signed certificates for use between its
components and will generate a
<a href="../architecture/networking/routes.html#secured-routes">re-encrypting route</a> to expose
the Hawkular Metrics service. This route is what allows the web console to access the Hawkular Metrics
service.</p>
</div>
<div class="paragraph">
<p>In order for the browser running the web console to trust the connection through
this route, it must trust the route&#8217;s certificate. This can be accomplished by
<a href="#metrics-using-secrets-byo-certs">providing your own certificates</a> signed by
a trusted Certificate Authority. The <code>openshift_metrics</code> role allows you to
specify your own certificates which it will then use when creating the route.</p>
</div>
<div class="paragraph">
<p>The router&#8217;s default certificate are used if you do not provide your own.</p>
</div>
<div class="sect3">
<h4 id="metrics-using-secrets-byo-certs"><a class="anchor" href="#metrics-using-secrets-byo-certs"></a>Providing Your Own Certificates</h4>
<div class="paragraph">
<p>To provide your own certificate which will be used by the
<a href="../architecture/networking/routes.html#secured-routes">re-encrypting
route</a>, you can set the <code>openshift_metrics_hawkular_cert</code>,
<code>openshift_metrics_hawkular_key</code>, and <code>openshift_metrics_hawkular_ca</code>
<a href="../install_config/cluster_metrics.html#metrics-ansible-variables">variables</a>
in your inventory file.</p>
</div>
<div class="paragraph">
<p>The <code>hawkular-metrics.pem</code> value needs to contain the certificate in its <strong><em>.pem</em></strong>
format. You may also need to provide the certificate for the Certificate Authority
which signed this <strong><em>pem</em></strong> file via the <code>hawkular-metrics-ca.cert</code> secret.</p>
</div>
<div class="paragraph">
<p>For more information, please see the
<a href="../architecture/networking/routes.html#secured-routes">re-encryption
route documentation</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-the-metrics-components"><a class="anchor" href="#deploying-the-metrics-components"></a>Deploying the Metric Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because deploying and configuring all the metric components is handled with
OpenShift Ansible, you can deploy everything in one step.</p>
</div>
<div class="paragraph">
<p>The following examples show you how to deploy metrics with and without
persistent storage using the default parameters.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Deploying with Persistent Storage</div>
<div class="content">
<div class="paragraph">
<p>The following command sets the Hawkular Metrics route to use
<strong>hawkular-metrics.example.com</strong> and is deployed using persistent storage.</p>
</div>
<div class="paragraph">
<p>You must have a persistent volume of sufficient size available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook [-i &lt;/path/to/inventory&gt;] &lt;OPENSHIFT_ANSIBLE_DIR&gt;/byo/openshift-cluster/openshift-metrics.yml \
   -e openshift_metrics_install_metrics=True \
   -e openshift_metrics_hawkular_hostname=hawkular-metrics.example.com \
   -e openshift_metrics_cassandra_storage_type=pv</pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 4. Deploying without Persistent Storage</div>
<div class="content">
<div class="paragraph">
<p>The following command sets the Hawkular Metrics route to use
<strong>hawkular-metrics.example.com</strong> and deploy without persistent storage.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook [-i &lt;/path/to/inventory&gt;] &lt;OPENSHIFT_ANSIBLE_DIR&gt;/byo/openshift-cluster/openshift-metrics.yml \
   -e openshift_metrics_install_metrics=True \
   -e openshift_metrics_hawkular_hostname=hawkular-metrics.example.com</pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Because this is being deployed without persistent storage, metric data loss
can occur.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="metrics-diagnostics"><a class="anchor" href="#metrics-diagnostics"></a>Metrics Diagnostics</h3>
<div class="paragraph">
<p>The are some diagnostics for metrics to assist in evaluating the state of the
metrics stack. To execute diagnostics for metrics:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oadm diagnostics MetricsApiProxy</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-setting-the-metrics-public-url"><a class="anchor" href="#install-setting-the-metrics-public-url"></a>Setting the Metrics Public URL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OpenShift Container Platform web console uses the data coming from the Hawkular Metrics
service to display its graphs. The URL for accessing the Hawkular Metrics
service must be configured with the <code>metricsPublicURL</code> option in the
<a href="../install_config/master_node_configuration.html#master-configuration-files">master
configuration file</a> (<strong><em>/etc/origin/master/master-config.yaml</em></strong>). This URL
corresponds to the route created with the <code>openshift_metrics_hawkular_hostname</code>
inventory variable used during the
<a href="../install_config/cluster_metrics.html#deploying-the-metrics-components">deployment</a>
of the metrics components.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You must be able to resolve the <code>openshift_metrics_hawkular_hostname</code> from the browser
accessing the console.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, if your <code>openshift_metrics_hawkular_hostname</code> corresponds to
<code>hawkular-metrics.example.com</code>, then you must make the following change in the
<strong><em>master-config.yaml</em></strong> file:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="yaml">  <span style="color:#606">assetConfig</span>:
    <span style="color:#F00;background-color:#FAA">...</span>
    <span style="color:#606">metricsPublicURL</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://hawkular-metrics.example.com/hawkular/metrics</span><span style="color:#710">&quot;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Once you have updated and saved the <strong><em>master-config.yaml</em></strong> file, you must
restart your OpenShift Container Platform instance.</p>
</div>
<div class="paragraph">
<p>When your OpenShift Container Platform server is back up and running, metrics will be
displayed on the pod overview pages.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are using self-signed certificates, remember that the Hawkular Metrics
service is hosted under a different host name and uses different certificates
than the console. You may need to explicitly open a browser tab to the value
specified in <code>metricsPublicURL</code> and accept that certificate.</p>
</div>
<div class="paragraph">
<p>To avoid this issue, use certificates which are configured to be acceptable by
your browser.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-metrics-accessing-hawkular-metrics-directly"><a class="anchor" href="#cluster-metrics-accessing-hawkular-metrics-directly"></a>Accessing Hawkular Metrics Directly</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To access and manage metrics more directly, use the
<a href="https://github.com/openshift/origin-metrics/blob/master/docs/hawkular_metrics.adoc#accessing-metrics-using-hawkular-metrics">Hawkular
Metrics API</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When accessing Hawkular Metrics from the API, you will only be able to perform
reads. Writing metrics has been disabled by default. If you want for individual
users to also be able to write metrics, you must set the
<code>openshift_metrics_hawkular_user_write_access</code>
<a href="../install_config/cluster_metrics.html#metrics-ansible-variables">variable</a>
to <strong>true</strong>.</p>
</div>
<div class="paragraph">
<p>However, it is recommended to use the default configuration and only have
metrics enter the system via Heapster. If write access is enabled, any user
will be able to write metrics to the system, which can affect performance and
cause Cassandra disk usage to unpredictably increase.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <a href="http://www.hawkular.org/docs/rest/rest-metrics.html">Hawkular Metrics documentation</a>
covers how to use the API, but there are a few differences when dealing with the
version of Hawkular Metrics configured for use on OpenShift Container Platform:</p>
</div>
<div class="sect2">
<h3 id="cluster-metrics-openshift-projects-and-hawkular-tenants"><a class="anchor" href="#cluster-metrics-openshift-projects-and-hawkular-tenants"></a>OpenShift Container Platform Projects and Hawkular Tenants</h3>
<div class="paragraph">
<p>Hawkular Metrics is a multi-tenanted application. It is configured so that a
project in OpenShift Container Platform corresponds to a tenant in Hawkular Metrics.</p>
</div>
<div class="paragraph">
<p>As such, when accessing metrics for a project named <strong>MyProject</strong> you must set the
<a href="http://www.hawkular.org/docs/rest/rest-metrics.html#_tenant_header"><strong>Hawkular-Tenant</strong></a>
header to <strong>MyProject</strong>.</p>
</div>
<div class="paragraph">
<p>There is also a special tenant named <strong>_system</strong> which contains system level
metrics. This requires either a <strong>cluster-reader</strong> or <strong>cluster-admin</strong> level
privileges to access.</p>
</div>
</div>
<div class="sect2">
<h3 id="cluster-metrics-authorization"><a class="anchor" href="#cluster-metrics-authorization"></a>Authorization</h3>
<div class="paragraph">
<p>The Hawkular Metrics service will authenticate the user against OpenShift Container Platform
to determine if the user has access to the project it is trying to access.</p>
</div>
<div class="paragraph">
<p>Hawkular Metrics accepts a bearer token from the client and verifies that token
with the OpenShift Container Platform server using a <strong>SubjectAccessReview</strong>. If the user has
proper read privileges for the project, they are allowed to read the metrics
for that project. For the <strong>_system</strong> tenant, the user requesting to read from
this tenant must have <strong>cluster-reader</strong> permission.</p>
</div>
<div class="paragraph">
<p>When accessing the Hawkular Metrics API, you must pass a bearer token in the
<strong>Authorization</strong> header.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics-scaling-metrics-pods"><a class="anchor" href="#metrics-scaling-metrics-pods"></a>Scaling OpenShift Container Platform Cluster Metrics Pods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Information about scaling cluster metrics capabilities is available in the
<a href="../scaling_performance/scaling_cluster_metrics.html#cluster-metrics-scaling-openshift-metrics-pods">Scaling and
Performance Guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics-logging"><a class="anchor" href="#metrics-logging"></a>Integration with Aggregated Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular Alerts must be connected to the Aggregated Logging&#8217;s Elasticsearch to
react on log events. By default, Hawkular will try to find Elasticsearch on its
default place (namespace <code>logging</code>, pod <code>logging-es</code>) at every boot. If the
Aggregated Logging is installed after Hawkular, the Hawkular Metrics pod might
need to be restarted in order to recognize the new Elasticsearch server. The
Hawkular boot log provides a clear indication if the integration could not be
properly configured, with messages like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Failed to import the logging certificate into the store. Continuing, but the
logging integration might fail.</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Could not get the logging secret! Status code: 000. The Hawkular Alerts
integration with Logging might not work properly.</pre>
</div>
</div>
<div class="paragraph">
<p>This feature is available from
 version 3.7.0.
You can confirm if logging is available by checking the log for an entry like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Retrieving the Logging's CA and adding to the trust store, if Logging is
available.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics-cleanup"><a class="anchor" href="#metrics-cleanup"></a>Cleanup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can remove everything deployed by the OpenShift Ansible <code>openshift_metrics</code> role
by performing the following steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook [-i &lt;/path/to/inventory&gt;] &lt;OPENSHIFT_ANSIBLE_DIR&gt;/byo/openshift-cluster/openshift-metrics.yml \
   -e openshift_metrics_install_metrics=False</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="openshift-prometheus"><a class="anchor" href="#openshift-prometheus"></a>Prometheus on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prometheus is a stand-alone, open source systems monitoring and alerting
toolkit. You can use Prometheus to visualize metrics and alerts for OpenShift Container Platform
system resources.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Prometheus on OpenShift is a Technology Preview feature only.
Technology Preview features are not supported with Red Hat production service
level agreements (SLAs), might not be functionally complete, and Red Hat does
not recommend to use them for production. These features provide early access to
upcoming product features, enabling customers to test functionality and provide
feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information on Red Hat Technology Preview features support scope, see
<a href="https://access.redhat.com/support/offerings/techpreview/" class="bare">https://access.redhat.com/support/offerings/techpreview/</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="openshift-prometheus-roles"><a class="anchor" href="#openshift-prometheus-roles"></a>Setting Prometheus Role Variables</h3>
<div class="paragraph">
<p>The Prometheus role creates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>openshift-metrics</code> namespace.</p>
</li>
<li>
<p>Prometheus <code>clusterrolebinding</code> and service account.</p>
</li>
<li>
<p>Prometheus pod with Prometheus behind OAuth proxy, Alertmanager, and
Alert Buffer as a stateful set.</p>
</li>
<li>
<p>Prometheus and <code>prometheus-alerts</code> ConfigMaps.</p>
</li>
<li>
<p>Prometheus and Prometheus Alerts services and direct routes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prometheus deployment is disabled by default, enable it by setting
<code>openshift_hosted_prometheus_deploy</code> to <code>true</code>. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># openshift_hosted_prometheus_deploy=true</pre>
</div>
</div>
<div class="paragraph">
<p>Set the following role variables to install and configure Prometheus.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Prometheus Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project namespace where the components are deployed. Default set to
<code>openshift-metrics</code>. For example, <code>openshift_prometheus_namespace=${USER_PROJECT}</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_node_selector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selector for the nodes on which Prometheus is deployed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_storage_kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to create PV for Prometheus. For example,
<code>openshift_prometheus_storage_kind=nfs</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_alertmanager_storage_kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to create PV for Alertmanager. For example,
<code>openshift_prometheus_alertmanager_storage_kind=nfs</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_alertbuffer_storage_kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to create PV for Alert Buffer. For example,
<code>openshift_prometheus_alertbuffer_storage_kind=nfs</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_storage_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to create PVC for Prometheus. For example,
<code>openshift_prometheus_storage_type=pvc</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_alertmanager_storage_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to create PVC for Alertmanager. For example,
<code>openshift_prometheus_alertmanager_storage_type=pvc</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_alertbuffer_storage_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to create PVC for Alert Buffer. For example,
<code>openshift_prometheus_alertbuffer_storage_type=pvc</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_prometheus_additional_rules_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional Prometheus rules file. Set to <code>null</code> by default.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="openshift-prometheus-deploy"><a class="anchor" href="#openshift-prometheus-deploy"></a>Deploying Prometheus Using Ansible Installer</h3>
<div class="paragraph">
<p>The Ansible Installer is the default method of deploying Prometheus.</p>
</div>
<div class="paragraph">
<p>Add label to your node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># Inventory file
openshift_prometheus_namespace=openshift-metrics

openshift_prometheus_node_selector={"region":"infra"}</pre>
</div>
</div>
<div class="paragraph">
<p>Run the playbook:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook -vvv -i ${INVENTORY_FILE} playbooks/byo/openshift-cluster/openshift-prometheus.yml</pre>
</div>
</div>
<div class="sect3">
<h4 id="openshift-prometheus-additional-deploy"><a class="anchor" href="#openshift-prometheus-additional-deploy"></a>Additional Methods for Deploying Prometheus</h4>
<div class="paragraph">
<p><strong>Deploy Using Node-Selector</strong></p>
</div>
<div class="paragraph">
<p>Label the node on which you want to deploy Prometheus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># oadm label node/$NODE ${KEY}=${VALUE}</pre>
</div>
</div>
<div class="paragraph">
<p>Deploy Prometheus with Ansible and container resources:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># Inventory file
openshift_prometheus_namespace=openshift-metrics

# Set node selector for prometheus
openshift_prometheus_node_selector={"${KEY}":"${VALUE}"}</pre>
</div>
</div>
<div class="paragraph">
<p>Run the playbook:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook -vvv -i ${INVENTORY_FILE} playbooks/byo/openshift-cluster/openshift-prometheus.yml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Deploy Using a Non-default Namespace</strong></p>
</div>
<div class="paragraph">
<p>Identify your namespace:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># Inventory file
openshift_prometheus_node_selector={"region":"infra"}

# Set non-default openshift_prometheus_namespace
openshift_prometheus_namespace=${USER_PROJECT}</pre>
</div>
</div>
<div class="paragraph">
<p>Run the playbook:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook -vvv -i ${INVENTORY_FILE} playbooks/byo/openshift-cluster/openshift-prometheus.yml</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="openshift-prometheus-web"><a class="anchor" href="#openshift-prometheus-web"></a>Accessing the Prometheus Web UI</h4>
<div class="paragraph">
<p>The Prometheus server automatically exposes a Web UI at <code>localhost:9090</code>. You
can access the Prometheus Web UI with the <code>view</code> role.</p>
</div>
</div>
<div class="sect3">
<h4 id="openshift-prometheus-config"><a class="anchor" href="#openshift-prometheus-config"></a>Configuring Prometheus for OpenShift</h4>
<div class="paragraph">
<p><strong>Prometheus Storage Related Variables</strong></p>
</div>
<div class="paragraph">
<p>With each Prometheus component (including Prometheus, Alertmanager, Alert
Buffer, and OAuth proxy) you can set the PV claim by setting corresponding
role variable, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_prometheus_storage_type: pvc
openshift_prometheus_alertmanager_pvc_name: alertmanager
openshift_prometheus_alertbuffer_pvc_size: 10G
openshift_prometheus_pvc_access_modes: [ReadWriteOnce]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Prometheus Alert Rules File Variable</strong></p>
</div>
<div class="paragraph">
<p>You can add an external file with alert rules by setting the path to an
additional rules variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_prometheus_additional_rules_file: &lt;PATH&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The file content should be in Prometheus Alert rules format. The following
example sets a rule to send an alert when one of the cluster nodes is down:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">groups:
- name: example-rules
  interval: 30s # defaults to global interval
  rules:
  - alert: Node Down
    expr: up{job="kubernetes-nodes"} == 0
    annotations:
      miqTarget: "ContainerNode"
      severity: "HIGH"
      message: "{{ '{{' }}{{ '$labels.instance' }}{{ '}}' }} is down"</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Prometheus Variables to Control Resource Limits</strong></p>
</div>
<div class="paragraph">
<p>With each Prometheus component (including Prometheus, Alertmanager,
Alert Buffer, and OAuth proxy) you can specify CPU, memory limits, and requests
by setting the corresponding role variable, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_prometheus_alertmanager_limits_memory: 1Gi
openshift_prometheus_oauth_proxy_cpu_requests: 100m</pre>
</div>
</div>
<div class="paragraph">
<p>For more detailed information, see
<a href="https://github.com/openshift/openshift-ansible/tree/master/roles/openshift_prometheus#openshift-prometheus">OpenShift
Prometheus</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Once <code>openshift_metrics_project: openshift-infra</code> is installed, metrics can be
gathered from the <code><a href="http://${POD_IP}:7575/metrics" class="bare">http://${POD_IP}:7575/metrics</a></code> endpoint.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="openshift-prometheus-undeploy"><a class="anchor" href="#openshift-prometheus-undeploy"></a>Undeploying Prometheus</h3>
<div class="paragraph">
<p>To undeploy Prometheus, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-playbook -vvv -i ${INVENTORY_FILE} playbooks/byo/openshift-cluster/openshift-prometheus.yml -e openshift_prometheus_state=absent</pre>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-openshift">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3 logo">
        <a href="https://www.redhat.com/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
            <a href="https://www.openshift.com/legal/privacy.html">
              Privacy Policy
            </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="https://www.openshift.com/legal/terms.html">
            Terms and Conditions
          </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="http://www.openshift.org/">
            Open Source
          </a>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="../../trello143-jenkins-memory-usage-tuning/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>

<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->
</body>
</html>