<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Backup and Restore | Cluster Administration | OpenShift Container Platform Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../trello143-jenkins-memory-usage-tuning/_stylesheets/docs.css" rel="stylesheet" />
  <link href="../../trello143-jenkins-memory-usage-tuning/_stylesheets/search.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../trello143-jenkins-memory-usage-tuning/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="../../trello143-jenkins-memory-usage-tuning/_javascripts/hc-search.js" type="text/javascript"></script>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PMDVKG');</script>
<!-- End Google Tag Manager -->

<!-- Adobe DTM -->
<script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
<!-- End Adobe DTM -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PMDVKG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <div class="dropdown">
      <a href="#" class="dropdown-toggle navbar-menu-toggle" data-toggle="dropdown">
        <span class="navbar-menu-title">MENU</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="dropdown-menu navbar-menu" role="menu">
        <li class="submenu">
          <a href="#">Overview</a>
          <ul id="submenu-overview" class="dropdown-submenu">
            <li class="submenu-heading">Introduction to OpenShift</li>
            <li>
              <a href="https://www.openshift.com/about/index.html">
                What is OpenShift?
                <span class="submenu-item-desc">Learn about Red Hat's next-generation cloud application platform.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/customers.html">
                Our Customers
                <span class="submenu-item-desc">Discover what companies are using OpenShift to deliver a flexible, scalable cloud application environment.</span>
              </a>
            </li>
            <li class="submenu-heading">News</li>
            <li>
              <a href="https://www.openshift.com/about/awards.html">
                Awards
                <span class="submenu-item-desc">Industry recognition and awards.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/">
                OpenShift Blog
                <span class="submenu-item-desc">Keep your finger on the pulse of all things OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events
                <span class="submenu-item-desc">OpenShift sponsors and attends a variety of in-person events around the globe.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/press.html">
                In the Press
                <span class="submenu-item-desc">The latest OpenShift news and press releases.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://jobs.redhat.com/job-search-results/?keywords=openshift">
                Careers <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/logos.html">
                Logos &amp; Media
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Features</a>
          <ul id="submenu-features" class="dropdown-submenu">
            <li class="submenu-heading">OpenShift Online</li>
            <li>
              <a href="https://www.openshift.com/features/index.html">
                Overview
                <span class="submenu-item-desc">Quickly develop, host, and scale containerized apps in the public cloud with on-demand access.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/pricing/index.html">
                Plans &amp; Pricing
                <span class="submenu-item-desc">Deploy up to 4 services for free. Upgrade and power your apps with up to 48GiB of memory and 100GiB of storage.</span>
              </a>
            </li>
            <li>
              <a href="https://manage.openshift.com/">
                Sign up for Free
              </a>
            </li>
            <li class="submenu-heading">OpenShift Dedicated</li>
            <li>
              <a href="https://www.openshift.com/dedicated/index.html">
                Overview
                <span class="submenu-item-desc">Your own private OpenShift cluster, operated by Red Hat.</span>
              </a>
            </li>
            <li class="submenu-heading">OpenShift Container Platform</li>
            <li>
              <a href="https://www.openshift.com/container-platform/index.html">
                Overview
                <span class="submenu-item-desc">Run OpenShift in your data center or private cloud.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/resources.html">
                Resources
                <span class="submenu-item-desc">Webinars, datasheets, reference architectures, demo videos and more.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/trial.html">
                Try it for Free
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Developers</a>
          <ul id="submenu-developers" class="dropdown-submenu">
            <li>
              <a href="https://docs.openshift.com/online/getting_started/index.html">
                Getting Started
                <span class="submenu-item-desc">New to OpenShift? Get your first application up and running and learn the basics.</span>
              </a>
            </li>
            <li>
              <a href="https://hub.openshift.com/">
                Hub
                <span class="submenu-item-desc">Find languages, frameworks, databases, and add-on services for OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://developers.openshift.com/">
                Developer Portal
                <span class="submenu-item-desc">Learn about building, deploying, and managing your applications.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/container-platform/resources.html#training">
                Training &amp; Certification
                <span class="submenu-item-desc">Red Hat Training's hands-on, task-focused courses and certifications for IT professionals and developers.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
                <span class="submenu-item-desc">Our showcase of applications running on Red Hat OpenShift Online.</span>
              </a>
            </li>
            <li>
              <a href="http://www.openshift.org/#contribute">
                Contribute to OpenShift <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Get in touch with our product team, or become a part of the OpenShift Origin open source project.</span>
              </a>
            </li>
            <li>
              <a href="https://openshift.uservoice.com/">
                Vote on Features
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Partners</a>
          <ul id="submenu-partners" class="dropdown-submenu">
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Become a Partner
                <span class="submenu-item-desc">Build on the strength of the world's leading open source company.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Find OpenShift Partners
                <span class="submenu-item-desc">Find qualified partners to help you with your OpenShift projects.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/grants/index.html">
                Resource Grants
                <span class="submenu-item-desc">For non-profits, educational institutions, and open source initiatives.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/startups/index.html">
                Startup Program
                <span class="submenu-item-desc">Designed to help startups build and scale.</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Support</a>
          <ul id="submenu-support" class="dropdown-submenu">
            <li>
              <a href="https://access.redhat.com/">
                Red Hat Customer Portal <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Manage support cases, browse Knowledgebase articles, and more.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
                <span class="submenu-item-desc">Official product documentation from Red Hat.</span>
              </a>
            </li>
            <li>
              <a href="https://help.openshift.com/">
                Help Center
                <span class="submenu-item-desc">The fastest way to find your available support options.</span>
              </a>
            </li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/contact.html">
                Contact Us
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Connect</a>
          <ul id="submenu-connect" class="dropdown-submenu">
            <li>
              <a href="https://blog.openshift.com/">
                Blog
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events &amp; Conferences
              </a>
            </li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/openshift">
                Twitter <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.facebook.com/openshift">
                Facebook <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/grp/home?gid=4185734">
                LinkedIn <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/openshift/">
                GitHub <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://plus.google.com/+OpenShift">
                Google+ <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.youtube.com/user/rhopenshift">
                YouTube <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu visible-xs-block">
          <a href="#">My Account</a>
          <ul id="submenu-account" class="dropdown-submenu">
            <li><a href="https://manage.openshift.com/">OpenShift Online 3 (New!)</a></li>
            <li><a href="https://openshift.redhat.com/app/console">OpenShift Online 2</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openshift.com/about/contact.html">
            Contact Us
          </a>
        </li>
        <li>
          <form action="https://help.openshift.com/hc/en-us/search" method="get" id="cse-search-form">
            <input name="query" id="cse-search-input" class="navbar-search-query form-control" type="text" placeholder="Search" tabindex="1" autocomplete="off" autofocus>
            <button type="submit" class="btn btn-default fa fa-search" value="Search"></button>
          </form>
        </li>
      </ul>
    </div>
    <a class="navbar-brand" href="/"></a>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="hidden-xs dropdown"> <a href="#" class="dropdown-toggle nav-log-in" data-toggle="dropdown"> My Account<span class="caret"></span> </a>
        <ul class="dropdown-menu">
          <li><a href="https://manage.openshift.com/">OpenShift Online 3 (New!)</a></li>
          <li><a href="https://openshift.redhat.com/app/console">OpenShift Online 2</a></li>
        </ul>
      </li>
      <li class="hidden-xs hidden-sm"><a class="nav-sign-up" href="https://manage.openshift.com/">Sign up for Free</a></li>
    </ul>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../welcome/index.html">OpenShift Container Platform Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../admin_guide/index.html">Cluster Administration</a>
      </li>
      
      <li class="hidden-xs active">
        Backup and Restore
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <div id="hc-search">
  <input id="hc-search-input" type="text">
  <button id="hc-search-btn">Search</button>
</div>

<div id="hc-search-modal">
  <div id="hc-modal-content">
    <span id="hc-modal-close">&times;</span>
    <div id="hc-search-results"></div>
  </div>
</div>

<script>
  hcSearchCategory("docs_cp", "Branch Build");
</script>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../welcome/legal_notice.html">Legal Notice</a></li>
            <li><a class="" href="../welcome/revhistory_full.html">Full Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Release Notes
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../release_notes/index.html">Overview</a></li>
            <li><a class="" href="../release_notes/ocp_3_7_release_notes.html">OpenShift Container Platform 3.7 Release Notes</a></li>
            <li><a class="" href="../release_notes/xpaas_release_notes.html">xPaaS Release Notes</a></li>
            <li><a class="" href="../release_notes/v2_vs_v3.html">Comparing with OpenShift Enterprise 2</a></li>
            <li><a class="" href="../release_notes/revhistory_release_notes.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../getting_started/install_openshift.html">Install OpenShift</a></li>
            <li><a class="" href="../getting_started/configure_openshift.html">Configure OpenShift</a></li>
            <li><a class="" href="../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../getting_started/revhistory_getting_started.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/image_registry.html">Container Registry</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-4">
                <span id="sgSpan-3-4" class="fa fa-caret-right"></span>&nbsp;Networking
              </a>
              <ul id="topicSubGroup-3-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/networking/networking.html">Networking</a></li>
                  <li><a class="" href="../architecture/networking/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../architecture/networking/network_plugins.html">Network Plug-ins</a></li>
                  <li><a class="" href="../architecture/networking/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../architecture/networking/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../architecture/networking/haproxy-router.html">HAProxy Router Plug-in</a></li>
                  <li><a class="" href="../architecture/networking/routes.html">Routes</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-5">
                <span id="sgSpan-3-5" class="fa fa-caret-right"></span>&nbsp;Service Catalog Components
              </a>
              <ul id="topicSubGroup-3-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/service_catalog/index.html">Service Catalog</a></li>
                  <li><a class="" href="../architecture/service_catalog/template_service_broker.html">Template Service Broker</a></li>
                  <li><a class="" href="../architecture/service_catalog/ansible_service_broker.html">OpenShift Ansible Broker</a></li>
              </ul>
            </li>
            <li><a class="" href="../architecture/revhistory_architecture.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>Container Security Guide
      </a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../security/index.html">Introduction</a></li>
            <li><a class="" href="../security/hosts_multitenancy.html">Container Hosts and Multi-tenancy</a></li>
            <li><a class="" href="../security/container_content.html">Container Content</a></li>
            <li><a class="" href="../security/registries.html">Registries</a></li>
            <li><a class="" href="../security/build_process.html">Build Process</a></li>
            <li><a class="" href="../security/deployment.html">Deployment</a></li>
            <li><a class="" href="../security/securing_container_platform.html">Securing the Container Platform</a></li>
            <li><a class="" href="../security/network_security.html">Network Security</a></li>
            <li><a class="" href="../security/storage.html">Attached Storage</a></li>
            <li><a class="" href="../security/monitoring.html">Monitoring Events and Logs</a></li>
            <li><a class="" href="../security/revhistory_security.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Installation and Configuration
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-1">
                <span id="sgSpan-5-1" class="fa fa-caret-right"></span>&nbsp;Installing a Cluster
              </a>
              <ul id="topicSubGroup-5-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/install/planning.html">Planning</a></li>
                  <li><a class="" href="../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../install_config/install/host_preparation.html">Host Preparation</a></li>
                  <li><a class="" href="../install_config/install/rpm_vs_containerized.html">Installing on Containerized Hosts</a></li>
                  <li><a class="" href="../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class="" href="../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../install_config/install/disconnected_install.html">Disconnected Installation</a></li>
                  <li><a class="" href="../install_config/install/stand_alone_registry.html">Installing a Stand-alone Deployment of OpenShift Container Registry</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-2">
                <span id="sgSpan-5-2" class="fa fa-caret-right"></span>&nbsp;Setting up the Registry
              </a>
              <ul id="topicSubGroup-5-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/registry/index.html">Registry Overview</a></li>
                  <li><a class="" href="../install_config/registry/deploy_registry_existing_clusters.html">Deploying a Registry on Existing Clusters</a></li>
                  <li><a class="" href="../install_config/registry/accessing_registry.html">Accessing the Registry</a></li>
                  <li><a class="" href="../install_config/registry/securing_and_exposing_registry.html">Securing and Exposing the Registry</a></li>
                  <li><a class="" href="../install_config/registry/extended_registry_configuration.html">Extended Registry Configuration</a></li>
                  <li><a class="" href="../install_config/registry/registry_known_issues.html">Known Issues</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-3">
                <span id="sgSpan-5-3" class="fa fa-caret-right"></span>&nbsp;Setting up a Router
              </a>
              <ul id="topicSubGroup-5-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/router/index.html">Router Overview</a></li>
                  <li><a class="" href="../install_config/router/default_haproxy_router.html">Using the Default HAProxy Router</a></li>
                  <li><a class="" href="../install_config/router/customized_haproxy_router.html">Deploying a Customized HAProxy Router</a></li>
                  <li><a class="" href="../install_config/router/proxy_protocol.html">Configuring the HAProxy Router to Use the PROXY Protocol</a></li>
                  <li><a class="" href="../install_config/router/f5_router.html">Using the F5 Router Plug-in</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-4">
                <span id="sgSpan-5-4" class="fa fa-caret-right"></span>&nbsp;Upgrading a Cluster
              </a>
              <ul id="topicSubGroup-5-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/upgrading/automated_upgrades.html">Automated In-place Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/manual_upgrades.html">Manual In-place Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/blue_green_deployments.html">Blue-Green Deployments</a></li>
                  <li><a class="" href="../install_config/upgrading/os_upgrades.html">Operating System Updates and Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/migrating_embedded_etcd.html">Migrating Embedded etcd to External etcd</a></li>
                  <li><a class="" href="../install_config/upgrading/migrating_etcd.html">Migrating etcd Data (v2 to v3)</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/downgrade.html">Downgrading</a></li>
            <li><a class="" href="../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../install_config/adding_hosts_to_existing_cluster.html">Adding Hosts to an Existing Cluster</a></li>
            <li><a class="" href="../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../install_config/redeploying_certificates.html">Redeploying Certificates</a></li>
            <li><a class="" href="../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-13">
                <span id="sgSpan-5-13" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-5-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../install_config/configuring_nuagesdn.html">Configuring Nuage SDN</a></li>
            <li><a class="" href="../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li><a class="" href="../install_config/configuring_azure.html">Configuring for Azure</a></li>
            <li><a class="" href="../install_config/configuring_vsphere.html">Configuring for VMWare vSphere</a></li>
            <li><a class="" href="../install_config/configuring_local.html">Configuring for local Volume</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-22">
                <span id="sgSpan-5-22" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-5-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_azure.html">Using Azure Disk</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_azure_file.html">Using Azure File</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_flex_volume.html">Using FlexVolume</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_vsphere.html">Using VMWare vSphere</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_local.html">Using Local Volume</a></li>
                  <li><a class="" href="../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning and Creating Storage Classes</a></li>
                  <li><a class="" href="../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
                  <li><a class="" href="../install_config/persistent_storage/selector_label_binding.html">Selector-Label Volume Binding</a></li>
                  <li><a class="" href="../install_config/persistent_storage/enabling_controller_attach_detach.html">Enabling Controller-managed Attachment and Detachment</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-23">
                <span id="sgSpan-5-23" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-5-23" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/storage_examples/ceph_rbd_dynamic_example.html">Complete Example Using Ceph RBD for Dynamic Provisioning</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_dynamic_example.html">Dynamic Provisioning Example Using Containerized GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/dedicated_gluster_dynamic_example.html">Dynamic Provisioning Example Using Dedicated GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/containerized_heketi_with_dedicated_gluster.html">Containerized Heketi for Managing Dedicated GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
                  <li><a class="" href="../install_config/storage_examples/binding_pv_by_label.html">Binding Persistent Volumes by Label</a></li>
                  <li><a class="" href="../install_config/storage_examples/storage_classes_dynamic_provisioning.html">Using StorageClasses for Dynamic Provisioning</a></li>
                  <li><a class="" href="../install_config/storage_examples/storage_classes_legacy.html">Using StorageClasses for Existing Legacy Storage</a></li>
                  <li><a class="" href="../install_config/storage_examples/azure_blob_docker_registry_example.html">Configuring Azure Blob Storage for Integrated Docker Registry</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../install_config/configuring_pipeline_execution.html">Configuring Pipeline Execution</a></li>
            <li><a class="" href="../install_config/configuring_routing.html">Configuring Route Timeouts</a></li>
            <li><a class="" href="../install_config/configuring_native_container_routing.html">Configuring Native Container Routing</a></li>
            <li><a class="" href="../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../install_config/aggregate_logging_sizing.html">Aggregate Logging Sizing Guidelines</a></li>
            <li><a class="" href="../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../install_config/provisioners.html">Deploying External Persistent Volume Provisioners</a></li>
            <li><a class="" href="../install_config/revhistory_install_config.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Administrator Solutions
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../admin_solutions/index.html">Overview</a></li>
            <li><a class="" href="../admin_solutions/master_node_config.html">Master and Node Configuration</a></li>
            <li><a class="" href="../admin_solutions/user_role_mgmt.html">User and Role Management</a></li>
            <li><a class="" href="../admin_solutions/authentication.html">Authentication</a></li>
            <li><a class="" href="../admin_solutions/certificate_management.html">Certificate Management</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-down"></span>Cluster Administration
      </a>
      <ul id="topicGroup7" class="collapse in list-unstyled">
            <li><a class="" href="../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../admin_guide/managing_pods.html">Managing Pods</a></li>
            <li><a class="" href="../admin_guide/managing_networking.html">Managing Networking</a></li>
            <li><a class="" href="../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../admin_guide/manage_rbac.html">Managing Role-based Access Control</a></li>
            <li><a class="" href="../admin_guide/image_policy.html">Image Policy</a></li>
            <li><a class="" href="../admin_guide/image_signatures.html">Image Signatures</a></li>
            <li><a class="" href="../admin_guide/scoped_tokens.html">Scoped Tokens</a></li>
            <li><a class="" href="../admin_guide/monitoring_images.html">Monitoring Images</a></li>
            <li><a class="" href="../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-13">
                <span id="sgSpan-7-13" class="fa fa-caret-right"></span>&nbsp;Scheduling
              </a>
              <ul id="topicSubGroup-7-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../admin_guide/scheduling/index.html">Overview</a></li>
                  <li><a class="" href="../admin_guide/scheduling/scheduler.html">Default Scheduling</a></li>
                  <li><a class="" href="../admin_guide/scheduling/custom_scheduler.html">Custom Scheduling</a></li>
                  <li><a class="" href="../admin_guide/scheduling/scheduler-advanced.html">Advanced Scheduling</a></li>
                  <li><a class="" href="../admin_guide/scheduling/node_affinity.html">Advanced Scheduling and Node Affinity</a></li>
                  <li><a class="" href="../admin_guide/scheduling/pod_affinity.html">Advanced Scheduling and Pod Affinity/Anti-affinity</a></li>
                  <li><a class="" href="../admin_guide/scheduling/node_selector.html">Advanced Scheduling and Node Selectors</a></li>
                  <li><a class="" href="../admin_guide/scheduling/taints_tolerations.html">Advanced Scheduling and Taints and Tolerations</a></li>
              </ul>
            </li>
            <li><a class="" href="../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../admin_guide/multiproject_quota.html">Setting Multi-Project Quotas</a></li>
            <li><a class="" href="../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../admin_guide/custom_resource_definitions.html">Extending the Kubernetes API with Custom Resources</a></li>
            <li><a class="" href="../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../admin_guide/opaque_integer_resources.html">Opaque Integer Resources</a></li>
            <li><a class="" href="../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../admin_guide/tcp_ingress_external_ports.html">Assigning Unique External IPs for Ingress Traffic</a></li>
            <li><a class="" href="../admin_guide/out_of_resource_handling.html">Out of Resource Handling</a></li>
            <li><a class="" href="../admin_guide/router.html">Monitoring and Debugging Routers</a></li>
            <li><a class="" href="../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../admin_guide/seccomp.html">Restricting Application Capabilities Using Seccomp</a></li>
            <li><a class="" href="../admin_guide/sysctls.html">Sysctls</a></li>
            <li><a class="" href="../admin_guide/encrypting_data.html">Encrypting Data at Datastore Layer</a></li>
            <li><a class="" href="../admin_guide/ipsec.html">Encrypting Hosts with IPsec</a></li>
            <li><a class="" href="../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class=" active" href="../admin_guide/backup_restore.html">Backup and Restore</a></li>
            <li><a class="" href="../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../admin_guide/diagnostics_tool.html">Diagnostics Tool</a></li>
            <li><a class="" href="../admin_guide/idling_applications.html">Idling Applications</a></li>
            <li><a class="" href="../admin_guide/cluster_capacity.html">Analyzing Cluster Capacity</a></li>
            <li><a class="" href="../admin_guide/aws_cluster_labeling.html">Labeling Clusters for Amazon Web Services</a></li>
            <li><a class="" href="../admin_guide/revhistory_admin_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Scaling and Performance Guide
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../scaling_performance/index.html">Overview</a></li>
            <li><a class="" href="../scaling_performance/install_practices.html">Recommended Installation Practices</a></li>
            <li><a class="" href="../scaling_performance/host_practices.html">Recommended Host Practices</a></li>
            <li><a class="" href="../scaling_performance/optimizing_compute_resources.html">Optimizing Compute Resources</a></li>
            <li><a class="" href="../scaling_performance/optimizing_storage.html">Optimizing Storage</a></li>
            <li><a class="" href="../scaling_performance/network_optimization.html">Network Optimization</a></li>
            <li><a class="" href="../scaling_performance/routing_optimization.html">Routing Optimization</a></li>
            <li><a class="" href="../scaling_performance/scaling_cluster_metrics.html">Scaling Cluster Metrics</a></li>
            <li><a class="" href="../scaling_performance/cluster_limits.html">Cluster Limits</a></li>
            <li><a class="" href="../scaling_performance/using_cluster_loader.html">Using Cluster Loader</a></li>
            <li><a class="" href="../scaling_performance/revhistory_scaling_performance.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../cli_reference/extend_cli.html">Extending the CLI</a></li>
            <li><a class="" href="../cli_reference/revhistory_cli_reference.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../dev_guide/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1">
                <span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Application Life Cycle Management
              </a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/application_lifecycle/development_process.html">Planning Your Development Process</a></li>
                  <li><a class="" href="../dev_guide/application_lifecycle/new_app.html">Creating New Applications</a></li>
                  <li><a class="" href="../dev_guide/application_lifecycle/promoting_applications.html">Promoting Applications Across Environments</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../dev_guide/authorization.html">Authorization</a></li>
            <li><a class="" href="../dev_guide/projects.html">Projects</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-5">
                <span id="sgSpan-10-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-10-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/migrating_applications/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>
                  <li><a class="" href="../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-6">
                <span id="sgSpan-10-6" class="fa fa-caret-right"></span>&nbsp;Tutorials
              </a>
              <ul id="topicSubGroup-10-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/dev_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/openshift_pipeline.html">OpenShift Pipeline Builds</a></li>
                  <li><a class="" href="../dev_guide/dev_tutorials/binary_builds.html">Binary Builds</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-7">
                <span id="sgSpan-10-7" class="fa fa-caret-right"></span>&nbsp;Builds
              </a>
              <ul id="topicSubGroup-10-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/builds/index.html">How Builds Work</a></li>
                  <li><a class="" href="../dev_guide/builds/basic_build_operations.html">Basic Build Operations</a></li>
                  <li><a class="" href="../dev_guide/builds/build_inputs.html">Build Inputs</a></li>
                  <li><a class="" href="../dev_guide/builds/build_output.html">Build Output</a></li>
                  <li><a class="" href="../dev_guide/builds/build_strategies.html">Build Strategy Options</a></li>
                  <li><a class="" href="../dev_guide/builds/build_environment.html">Build Environment</a></li>
                  <li><a class="" href="../dev_guide/builds/triggering_builds.html">Triggering Builds</a></li>
                  <li><a class="" href="../dev_guide/builds/build_hooks.html">Build Hooks</a></li>
                  <li><a class="" href="../dev_guide/builds/build_run_policy.html">Build Run Policy</a></li>
                  <li><a class="" href="../dev_guide/builds/advanced_build_operations.html">Advanced Build Operations</a></li>
                  <li><a class="" href="../dev_guide/builds/build_troubleshooting.html">Troubleshooting</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-8">
                <span id="sgSpan-10-8" class="fa fa-caret-right"></span>&nbsp;Deployments
              </a>
              <ul id="topicSubGroup-10-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/deployments/how_deployments_work.html">How Deployments Work</a></li>
                  <li><a class="" href="../dev_guide/deployments/basic_deployment_operations.html">Basic Deployment Operations</a></li>
                  <li><a class="" href="../dev_guide/deployments/deployment_strategies.html">Deployment Strategies</a></li>
                  <li><a class="" href="../dev_guide/deployments/advanced_deployment_strategies.html">Advanced Deployment Strategies</a></li>
                  <li><a class="" href="../dev_guide/deployments/kubernetes_deployments.html">Kubernetes Deployments Support</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../dev_guide/pod_preset.html">Injecting Information into Pods Using Pod Presets</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-15">
                <span id="sgSpan-10-15" class="fa fa-caret-right"></span>&nbsp;Getting Traffic into a Cluster over Non-Standard Ports
              </a>
              <ul id="topicSubGroup-10-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/expose_service/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_router.html">Using a Router</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_load_balancer.html">Using a Load Balancer</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_service.html">Using a Service ExternalIP</a></li>
                  <li><a class="" href="../dev_guide/expose_service/expose_internal_ip_nodeport.html">Using a NodePort</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../dev_guide/projected_volumes.html">Projected Volumes</a></li>
            <li><a class="" href="../dev_guide/daemonsets.html">Using Daemonsets</a></li>
            <li><a class="" href="../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../dev_guide/openshift_pipeline.html">OpenShift Pipeline</a></li>
            <li><a class="" href="../dev_guide/cron_jobs.html">Cron Jobs</a></li>
            <li><a class="" href="../dev_guide/create_from_url.html">Create from URL</a></li>
            <li><a class="" href="../dev_guide/application_memory_sizing.html">Application memory sizing</a></li>
            <li><a class="" href="../dev_guide/revhistory_dev_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../creating_images/custom.html">Custom Builder</a></li>
            <li><a class="" href="../creating_images/revhistory_creating_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12">
        <span id="tgSpan12" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../using_images/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-1">
                <span id="sgSpan-12-1" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-12-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/s2i_images/dot_net_core.html">.NET Core</a></li>
                  <li><a class="" href="../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../using_images/s2i_images/python.html">Python</a></li>
                  <li><a class="" href="../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I Images</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-2">
                <span id="sgSpan-12-2" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-12-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../using_images/db_images/mongodb.html">MongoDB</a></li>
                  <li><a class="" href="../using_images/db_images/mariadb.html">MariaDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-3">
                <span id="sgSpan-12-3" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-12-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-4">
                <span id="sgSpan-12-4" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-12-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/other_images/jenkins.html">Jenkins</a></li>
                  <li><a class="" href="../using_images/other_images/jenkins_slaves.html">Jenkins Slaves</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-5">
                <span id="sgSpan-12-5" class="fa fa-caret-right"></span>&nbsp;xPaaS Middleware Images
              </a>
              <ul id="topicSubGroup-12-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/xpaas_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li><a class="" href="../using_images/revhistory_using_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13">
        <span id="tgSpan13" class="fa fa-angle-right"></span>Ansible Playbook Bundle Development Guide
      </a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../apb_devel/index.html">Introduction</a></li>
            <li><a class="" href="../apb_devel/cli_tooling.html">CLI Tooling</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-2">
                <span id="sgSpan-13-2" class="fa fa-caret-right"></span>&nbsp;Writing APBs
              </a>
              <ul id="topicSubGroup-13-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../apb_devel/writing/getting_started.html">Getting Started</a></li>
                  <li><a class="" href="../apb_devel/writing/reference.html">Reference</a></li>
              </ul>
            </li>
            <li><a class="" href="../apb_devel/revhistory_apb_devel.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14">
        <span id="tgSpan14" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li><a class="" href="../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../rest_api/examples.html">Examples</a></li>
            <li><a class="" href="../rest_api/revhistory_rest_api.html">Revision History</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-3">
                <span id="sgSpan-14-3" class="fa fa-caret-right"></span>&nbsp;/api/v1
              </a>
              <ul id="topicSubGroup-14-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/api/v1.APIResourceList.html">v1.APIResourceList</a></li>
                  <li><a class="" href="../rest_api/api/v1.APIVersions.html">v1.APIVersions</a></li>
                  <li><a class="" href="../rest_api/api/v1.Binding.html">v1.Binding</a></li>
                  <li><a class="" href="../rest_api/api/v1.ComponentStatus.html">v1.ComponentStatus</a></li>
                  <li><a class="" href="../rest_api/api/v1.ConfigMap.html">v1.ConfigMap</a></li>
                  <li><a class="" href="../rest_api/api/v1.Endpoints.html">v1.Endpoints</a></li>
                  <li><a class="" href="../rest_api/api/v1.Event.html">v1.Event</a></li>
                  <li><a class="" href="../rest_api/api/v1.LimitRange.html">v1.LimitRange</a></li>
                  <li><a class="" href="../rest_api/api/v1.Namespace.html">v1.Namespace</a></li>
                  <li><a class="" href="../rest_api/api/v1.Node.html">v1.Node</a></li>
                  <li><a class="" href="../rest_api/api/v1.PersistentVolume.html">v1.PersistentVolume</a></li>
                  <li><a class="" href="../rest_api/api/v1.PersistentVolumeClaim.html">v1.PersistentVolumeClaim</a></li>
                  <li><a class="" href="../rest_api/api/v1.Pod.html">v1.Pod</a></li>
                  <li><a class="" href="../rest_api/api/v1.PodTemplate.html">v1.PodTemplate</a></li>
                  <li><a class="" href="../rest_api/api/v1.ReplicationController.html">v1.ReplicationController</a></li>
                  <li><a class="" href="../rest_api/api/v1.ResourceQuota.html">v1.ResourceQuota</a></li>
                  <li><a class="" href="../rest_api/api/v1.Secret.html">v1.Secret</a></li>
                  <li><a class="" href="../rest_api/api/v1.SecurityContextConstraints.html">v1.SecurityContextConstraints</a></li>
                  <li><a class="" href="../rest_api/api/v1.Service.html">v1.Service</a></li>
                  <li><a class="" href="../rest_api/api/v1.ServiceAccount.html">v1.ServiceAccount</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-4">
                <span id="sgSpan-14-4" class="fa fa-caret-right"></span>&nbsp;/apis/v1
              </a>
              <ul id="topicSubGroup-14-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis/v1.APIGroup.html">v1.APIGroup</a></li>
                  <li><a class="" href="../rest_api/apis/v1.APIGroupList.html">v1.APIGroupList</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-5">
                <span id="sgSpan-14-5" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta1
              </a>
              <ul id="topicSubGroup-14-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-apps/v1beta1.ControllerRevision.html">v1beta1.ControllerRevision</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta1.StatefulSet.html">v1beta1.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-6">
                <span id="sgSpan-14-6" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta2
              </a>
              <ul id="topicSubGroup-14-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.ControllerRevision.html">v1beta2.ControllerRevision</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.DaemonSet.html">v1beta2.DaemonSet</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.Deployment.html">v1beta2.Deployment</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.ReplicaSet.html">v1beta2.ReplicaSet</a></li>
                  <li><a class="" href="../rest_api/apis-apps/v1beta2.StatefulSet.html">v1beta2.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-7">
                <span id="sgSpan-14-7" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v1
              </a>
              <ul id="topicSubGroup-14-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-autoscaling/v1.HorizontalPodAutoscaler.html">v1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-8">
                <span id="sgSpan-14-8" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v2beta1
              </a>
              <ul id="topicSubGroup-14-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-autoscaling/v2beta1.HorizontalPodAutoscaler.html">v2beta1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-9">
                <span id="sgSpan-14-9" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1
              </a>
              <ul id="topicSubGroup-14-9" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-batch/v1.Job.html">v1.Job</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-10">
                <span id="sgSpan-14-10" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1beta1
              </a>
              <ul id="topicSubGroup-14-10" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-batch/v1beta1.CronJob.html">v1beta1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-11">
                <span id="sgSpan-14-11" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v2alpha1
              </a>
              <ul id="topicSubGroup-14-11" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-batch/v2alpha1.CronJob.html">v2alpha1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-12">
                <span id="sgSpan-14-12" class="fa fa-caret-right"></span>&nbsp;/apis/extensions/v1beta1
              </a>
              <ul id="topicSubGroup-14-12" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.DaemonSet.html">v1beta1.DaemonSet</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.Ingress.html">v1beta1.Ingress</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.NetworkPolicy.html">v1beta1.NetworkPolicy</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.PodSecurityPolicy.html">v1beta1.PodSecurityPolicy</a></li>
                  <li><a class="" href="../rest_api/apis-extensions/v1beta1.ReplicaSet.html">v1beta1.ReplicaSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-13">
                <span id="sgSpan-14-13" class="fa fa-caret-right"></span>&nbsp;/apis/policy/v1beta1
              </a>
              <ul id="topicSubGroup-14-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-policy/v1beta1.PodDisruptionBudget.html">v1beta1.PodDisruptionBudget</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-14">
                <span id="sgSpan-14-14" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authentication.k8s.io/v1.TokenReview.html">v1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-15">
                <span id="sgSpan-14-15" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authentication.k8s.io/v1beta1.TokenReview.html">v1beta1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-16">
                <span id="sgSpan-14-16" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-16" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.LocalSubjectAccessReview.html">v1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.SelfSubjectAccessReview.html">v1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.SelfSubjectRulesReview.html">v1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1.SubjectAccessReview.html">v1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-17">
                <span id="sgSpan-14-17" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-17" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.LocalSubjectAccessReview.html">v1beta1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectAccessReview.html">v1beta1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectRulesReview.html">v1beta1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../rest_api/apis-authorization.k8s.io/v1beta1.SubjectAccessReview.html">v1beta1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-18">
                <span id="sgSpan-14-18" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-18" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRole.html">v1.ClusterRole</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRoleBinding.html">v1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.Role.html">v1.Role</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1.RoleBinding.html">v1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-19">
                <span id="sgSpan-14-19" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-19" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRole.html">v1beta1.ClusterRole</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRoleBinding.html">v1beta1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.Role.html">v1beta1.Role</a></li>
                  <li><a class="" href="../rest_api/apis-rbac.authorization.k8s.io/v1beta1.RoleBinding.html">v1beta1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-20">
                <span id="sgSpan-14-20" class="fa fa-caret-right"></span>&nbsp;/apis/certificates.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-20" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-certificates.k8s.io/v1beta1.CertificateSigningRequest.html">v1beta1.CertificateSigningRequest</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-21">
                <span id="sgSpan-14-21" class="fa fa-caret-right"></span>&nbsp;/apis/networking.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-21" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-networking.k8s.io/v1.NetworkPolicy.html">v1.NetworkPolicy</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-22">
                <span id="sgSpan-14-22" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1
              </a>
              <ul id="topicSubGroup-14-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-storage.k8s.io/v1.StorageClass.html">v1.StorageClass</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-23">
                <span id="sgSpan-14-23" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-14-23" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../rest_api/apis-storage.k8s.io/v1beta1.StorageClass.html">v1beta1.StorageClass</a></li>
              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>Backup and Restore</h1>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#backup-restore-prerequisites">Prerequisites</a></li>
<li><a href="#cluster-backup">Cluster Backup</a>
<ul class="sectlevel2">
<li><a href="#master-backup">Master Backup</a></li>
<li><a href="#etcd-backup">Etcd Backup</a></li>
<li><a href="#registry-certificates-backup">Registry Certificates Backup</a></li>
</ul>
</li>
<li><a href="#cluster-restore-single-member-etcd-clusters">Cluster Restore for Single-member etcd Clusters</a></li>
<li><a href="#cluster-restore-multiple-member-etcd-clusters">Cluster Restore for Multiple-member etcd Clusters</a>
<ul class="sectlevel2">
<li><a href="#backup-containerized-etcd-deployments">Containerized etcd Deployments</a></li>
<li><a href="#backup-non-containerized-etcd-deployments">Non-Containerized etcd Deployments</a></li>
<li><a href="#adding-addtl-etcd-members">Adding Additional etcd Members</a></li>
</ul>
</li>
<li><a href="#backup-restore-adding-etcd-hosts">Adding New etcd Hosts</a></li>
<li><a href="#bringing-openshift-services-back-online">Bringing OpenShift Container Platform Services Back Online</a></li>
<li><a href="#project-backup">Project Backup</a>
<ul class="sectlevel2">
<li><a href="#backup-rolebindings">Role Bindings</a></li>
<li><a href="#backup-serviceaccounts">Service Accounts</a></li>
<li><a href="#backup-secrets">Secrets</a></li>
<li><a href="#backup-pvc">Persistent Volume Claims</a></li>
</ul>
</li>
<li><a href="#project-restore">Project Restore</a></li>
<li><a href="#backup-application-data">Application Data Backup</a></li>
<li><a href="#restore-application-data">Application Data Restore</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In OpenShift Container Platform, you can <em>back up</em> (saving state to separate storage) and
<em>restore</em> (recreating state from separate storage) at the cluster level. There
is also some preliminary support for <a href="#project-backup">per-project backup</a>.
The full state of a cluster installation includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>etcd data on each master</p>
</li>
<li>
<p>API objects</p>
</li>
<li>
<p>registry storage</p>
</li>
<li>
<p>volume storage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This topic does not cover how to back up and restore
<a href="../install_config/persistent_storage/index.html#install-config-persistent-storage-index">persistent
storage</a>, as those topics are left to the underlying storage provider. However,
an example of how to perform a <strong>generic</strong> backup of
<a href="#backup-application-data">application data</a> is provided.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This topic only provides a generic way of backing up applications and the
OpenShift Container Platform cluster. It can not take into account custom requirements.
Therefore, you should create a full backup and restore procedure. To prevent
data loss, necessary precautions should be taken.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that the etcd backup still has all the references to the storage volumes.
When you restore etcd, OpenShift Container Platform starts launching the previous pods on
nodes and reattaching the same storage. This is really no different than the
process of when you remove a node from the cluster and add a new one back in its
place. Anything attached to that node will be reattached to the pods on whatever
nodes they get rescheduled to.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backup-restore-prerequisites"><a class="anchor" href="#backup-restore-prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Because the restore procedure involves a complete
reinstallation, save all the files used in the initial installation. This may
include:</p>
<div class="ulist">
<ul>
<li>
<p><strong><em>~/.config/openshift/installer.cfg.yml</em></strong> (from the
<a href="../install_config/install/quick_install.html#install-config-install-quick-install">Quick Installation</a>
method)</p>
</li>
<li>
<p>Ansible playbooks and inventory files (from the
<a href="../install_config/install/advanced_install.html#install-config-install-advanced-install">Advanced
Installation</a> method)</p>
</li>
<li>
<p><strong><em>/etc/yum.repos.d/ose.repo</em></strong> (from the
<a href="../install_config/install/disconnected_install.html#install-config-install-disconnected-install">Disconnected
Installation</a> method)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Backup the procedures for post-installation steps. Some installations may
involve steps that are not included in the installer. This may include changes
to the services outside of the control of OpenShift Container Platform or the installation of
extra services like monitoring agents.
Additional configuration that is not supported yet by the advanced installer
might also be affected, for example when using multiple authentication providers.</p>
</li>
<li>
<p>Install packages that provide various utility commands:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install etcd</pre>
</div>
</div>
</li>
<li>
<p>If using a container-based installation, pull the etcd image instead:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># docker pull rhel7/etcd</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note the location of the <strong>etcd</strong> data directory (or <code>$ETCD_DATA_DIR</code> in the
following sections), which depends on how <strong>etcd</strong> is deployed.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Deployment Type</th>
<th class="tableblock halign-left valign-top">Data Directory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all-in-one cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>/var/lib/origin/openshift.local.etcd</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">external etcd (located either on a master or another host)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>/var/lib/etcd</em></strong></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Embedded etcd is no longer supported starting with OpenShift Container Platform 3.7. See
<a href="../install_config/upgrading/migrating_embedded_etcd.html#install-config-upgrading-etcd-data-migration">Migrating Embedded etcd to External etcd</a> for details.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-backup"><a class="anchor" href="#cluster-backup"></a>Cluster Backup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="master-backup"><a class="anchor" href="#master-backup"></a>Master Backup</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Save all the certificates and keys, on each master:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cd /etc/origin/master
# tar cf /tmp/certs-and-keys-$(hostname).tar *.key *.crt</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="etcd-backup"><a class="anchor" href="#etcd-backup"></a>Etcd Backup</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If <strong>etcd</strong> is running on more than one host, stop it on each host:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sudo systemctl stop etcd</pre>
</div>
</div>
<div class="paragraph">
<p>Although this step is not strictly necessary, doing so ensures that the <strong>etcd</strong>
data is fully synchronized.</p>
</div>
</li>
<li>
<p>Create an <strong>etcd</strong> backup:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl backup \
    --data-dir $ETCD_DATA_DIR \
    --backup-dir $ETCD_DATA_DIR.bak</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <strong>etcd</strong> is running on more than one host,
the various instances regularly synchronize their data,
so creating a backup for one of them is sufficient.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For a container-based installation, you must use <code>docker exec</code> to run <strong>etcdctl</strong>
inside the container.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Copy the <strong><em>db</em></strong> file over to the backup you created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp "$ETCD_DATA_DIR"/member/snap/db "$ETCD_DATA_DIR.bak"/member/snap/db</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="registry-certificates-backup"><a class="anchor" href="#registry-certificates-backup"></a>Registry Certificates Backup</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Save all the registry certificates, on every master and node host.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cd /etc/docker/certs.d/
# tar cf /tmp/docker-registry-certs-$(hostname).tar *</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When working with one or more
<a href="../install_config/registry/securing_and_exposing_registry.html#exposing-the-registry">external
secured registry</a>, any host required to pull or push images must trust registry
certificates in order to run pods.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-restore-single-member-etcd-clusters"><a class="anchor" href="#cluster-restore-single-member-etcd-clusters"></a>Cluster Restore for Single-member etcd Clusters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To restore the cluster:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reinstall OpenShift Container Platform.</p>
<div class="paragraph">
<p>This should be done in the
<a href="../install_config/install/planning.html#installation-methods">same way</a> that
OpenShift Container Platform was previously installed.</p>
</div>
</li>
<li>
<p>Run all necessary post-installation steps.</p>
</li>
<li>
<p>Restore the certificates and keys, on each master:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cd /etc/origin/master
# tar xvf /tmp/certs-and-keys-$(hostname).tar</pre>
</div>
</div>
</li>
<li>
<p>Restore from the <strong>etcd</strong> backup:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mv $ETCD_DATA_DIR $ETCD_DATA_DIR.orig
# cp -Rp $ETCD_DATA_DIR.bak $ETCD_DATA_DIR
# chcon -R --reference $ETCD_DATA_DIR.orig $ETCD_DATA_DIR
# chown -R etcd:etcd $ETCD_DATA_DIR</pre>
</div>
</div>
</li>
<li>
<p>Create the new single node cluster using etcd&#8217;s <code>--force-new-cluster</code> option.
You can do this using the values from <strong><em>/etc/etcd/etcd.conf</em></strong>, or you can
temporarily modify the <strong>systemd</strong> unit file and start the service normally.</p>
<div class="paragraph">
<p>To do so, edit the <strong><em>/usr/lib/systemd/system/etcd.service</em></strong> file, and add
<code>--force-new-cluster</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed -i '/ExecStart/s/"$/  --force-new-cluster"/' /usr/lib/systemd/system/etcd.service
# systemctl show etcd.service --property ExecStart --no-pager

ExecStart=/bin/bash -c "GOMAXPROCS=$(nproc) /usr/bin/etcd --force-new-cluster"</pre>
</div>
</div>
<div class="paragraph">
<p>Then, restart the <strong>etcd</strong> service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl daemon-reload
# systemctl start etcd</pre>
</div>
</div>
</li>
<li>
<p>Verify the <strong>etcd</strong> service started correctly, then re-edit the
<strong><em>/usr/lib/systemd/system/etcd.service</em></strong> file and remove the
<code>--force-new-cluster</code> option:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed -i '/ExecStart/s/ --force-new-cluster//' /usr/lib/systemd/system/etcd.service
# systemctl show etcd.service --property ExecStart --no-pager

ExecStart=/bin/bash -c "GOMAXPROCS=$(nproc) /usr/bin/etcd"</pre>
</div>
</div>
</li>
<li>
<p>Restart the <strong>etcd</strong> service, then verify the etcd cluster is running correctly
and displays OpenShift Container Platform&#8217;s configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl daemon-reload
# systemctl restart etcd</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-restore-multiple-member-etcd-clusters"><a class="anchor" href="#cluster-restore-multiple-member-etcd-clusters"></a>Cluster Restore for Multiple-member etcd Clusters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using an external etcd host, you must first restore the etcd backup
by creating a new, single node etcd cluster. If using external etcd with
multiple members, you must then also add any additional etcd members to the
cluster one by one.</p>
</div>
<div class="paragraph">
<p>Choose a system to be the initial etcd member, and restore its etcd backup and
configuration:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following on the etcd host:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ETCD_DIR=/var/lib/etcd/
# mv $ETCD_DIR /var/lib/etcd.orig
# cp -Rp /var/lib/origin/etcd-backup-&lt;timestamp&gt;/ $ETCD_DIR
# chcon -R --reference /var/lib/etcd.orig/ $ETCD_DIR
# chown -R etcd:etcd $ETCD_DIR</pre>
</div>
</div>
</li>
<li>
<p>Restore your <strong><em>/etc/etcd/etcd.conf</em></strong> file from backup or <strong><em>.rpmsave</em></strong>.</p>
</li>
<li>
<p>Depending on your environment, follow the instructions for
<a href="#backup-containerized-etcd-deployments">Containerized etcd Deployments</a> or
<a href="#backup-non-containerized-etcd-deployments">Non-Containerized etcd
Deployments</a>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="backup-containerized-etcd-deployments"><a class="anchor" href="#backup-containerized-etcd-deployments"></a>Containerized etcd Deployments</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the new single node cluster using etcd&#8217;s <code>--force-new-cluster</code>
option. You can do this with a long, complex command using the values from
<strong><em>/etc/etcd/etcd.conf</em></strong>, or you can temporarily modify the <strong>systemd</strong> unit file
and start the service normally.</p>
<div class="paragraph">
<p>To do so, edit the <strong><em>/etc/systemd/system/etcd_container.service</em></strong> file, and add
<code>--force-new-cluster</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed -i '/ExecStart=/s/$/  --force-new-cluster/' /etc/systemd/system/etcd_container.service

ExecStart=/usr/bin/docker run --name etcd --rm -v \
/var/lib/etcd:/var/lib/etcd:z -v /etc/etcd:/etc/etcd:ro --env-file=/etc/etcd/etcd.conf \
--net=host --entrypoint=/usr/bin/etcd rhel7/etcd:3.1.9  --force-new-cluster</pre>
</div>
</div>
<div class="paragraph">
<p>Then, restart the <strong>etcd</strong> service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl daemon-reload
# systemctl start etcd_container</pre>
</div>
</div>
</li>
<li>
<p>Verify the <strong>etcd</strong> service started correctly, then re-edit the
<strong><em>/etc/systemd/system/etcd_container.service</em></strong> file and remove the
<code>--force-new-cluster</code> option:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed  -i '/ExecStart=/s/ --force-new-cluster//' /etc/systemd/system/etcd_container.service

ExecStart=/usr/bin/docker run --name etcd --rm -v /var/lib/etcd:/var/lib/etcd:z -v \
/etc/etcd:/etc/etcd:ro --env-file=/etc/etcd/etcd.conf --net=host \
--entrypoint=/usr/bin/etcd rhel7/etcd:3.1.9</pre>
</div>
</div>
</li>
<li>
<p>Restart the <strong>etcd</strong> service, then verify the etcd cluster is running correctly
and displays OpenShift Container Platform&#8217;s configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl daemon-reload
# systemctl restart etcd_container
# etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.16.4.18:2379,https://172.16.4.27:2379" \
    ls /</pre>
</div>
</div>
</li>
<li>
<p>If you have additional etcd members to add to your cluster, continue to
<a href="#adding-addtl-etcd-members">Adding Additional etcd Members</a>.
Otherwise, if you only want a single node external etcd, continue to
<a href="#bringing-openshift-services-back-online">Bringing OpenShift Container Platform
Services Back Online</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="backup-non-containerized-etcd-deployments"><a class="anchor" href="#backup-non-containerized-etcd-deployments"></a>Non-Containerized etcd Deployments</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the new single node cluster using etcd&#8217;s <code>--force-new-cluster</code>
option. You can do this with a long, complex command using the values from
<strong><em>/etc/etcd/etcd.conf</em></strong>, or you can temporarily modify the <strong>systemd</strong> unit file
and start the service normally.</p>
<div class="paragraph">
<p>To do so, edit the <strong><em>/usr/lib/systemd/system/etcd.service</em></strong> file, and add
<code>--force-new-cluster</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed -i '/ExecStart/s/"$/  --force-new-cluster"/' /usr/lib/systemd/system/etcd.service
# systemctl show etcd.service --property ExecStart --no-pager

ExecStart=/bin/bash -c "GOMAXPROCS=$(nproc) /usr/bin/etcd --force-new-cluster"</pre>
</div>
</div>
<div class="paragraph">
<p>Then restart the <strong>etcd</strong> service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl daemon-reload
# systemctl start etcd</pre>
</div>
</div>
</li>
<li>
<p>Verify the <strong>etcd</strong> service started correctly, then re-edit the
<strong><em>/usr/lib/systemd/system/etcd.service</em></strong> file and remove the
<code>--force-new-cluster</code> option:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed -i '/ExecStart/s/ --force-new-cluster//' /usr/lib/systemd/system/etcd.service
# systemctl show etcd.service --property ExecStart --no-pager

ExecStart=/bin/bash -c "GOMAXPROCS=$(nproc) /usr/bin/etcd"</pre>
</div>
</div>
</li>
<li>
<p>Restart the <strong>etcd</strong> service, then verify the etcd cluster is running correctly
and displays OpenShift Container Platform&#8217;s configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl daemon-reload
# systemctl restart etcd
# etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.16.4.18:2379,https://172.16.4.27:2379" \
    ls /</pre>
</div>
</div>
</li>
<li>
<p>If you have additional etcd members to add to your cluster, continue to
<a href="#adding-addtl-etcd-members">Adding Additional etcd Members</a>.
Otherwise, if you only want a single node external etcd, continue to
<a href="#bringing-openshift-services-back-online">Bringing OpenShift Container Platform
Services Back Online</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-addtl-etcd-members"><a class="anchor" href="#adding-addtl-etcd-members"></a>Adding Additional etcd Members</h3>
<div class="paragraph">
<p>To add additional etcd members to the cluster, you must first adjust the default
<strong>localhost</strong> peer in the <code><strong>peerURLs</strong></code> value for the first member:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the member ID for the first member using the <code>member list</code> command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.18.1.18:2379,https://172.18.9.202:2379,https://172.18.0.75:2379" \
    member list</pre>
</div>
</div>
</li>
<li>
<p>Update the value of <code><strong>peerURLs</strong></code> using the <code>etcdctl member update</code> command by
passing the member ID obtained from the previous step:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.18.1.18:2379,https://172.18.9.202:2379,https://172.18.0.75:2379" \
    member update 511b7fb6cc0001 https://172.18.1.18:2380</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can use <code>curl</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl --cacert /etc/etcd/ca.crt \
    --cert /etc/etcd/peer.crt \
    --key /etc/etcd/peer.key \
    https://172.18.1.18:2379/v2/members/511b7fb6cc0001 \
    -XPUT -H "Content-Type: application/json" \
    -d '{"peerURLs":["https://172.18.1.18:2380"]}'</pre>
</div>
</div>
</li>
<li>
<p>Re-run the <code>member list</code> command and ensure the peer URLs no longer include
<strong>localhost</strong>.</p>
</li>
<li>
<p>Now, add each additional member to the cluster one at a time.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Each member must be fully added and brought online one at a time. When adding
each additional member to the cluster, the <code><strong>peerURLs</strong></code> list must be correct for
that point in time, so it will grow by one for each member added. The <code>etcdctl
member add</code> command will output the values that need to be set in the
<strong><em>etcd.conf</em></strong> file as you add each member, as described in the following
instructions.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For each member, add it to the cluster using the values that can be found in
that system&#8217;s <strong><em>etcd.conf</em></strong> file:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.16.4.18:2379,https://172.16.4.27:2379" \
    member add 10.3.9.222 https://172.16.4.27:2380

Added member named 10.3.9.222 with ID 4e1db163a21d7651 to cluster

ETCD_NAME="10.3.9.222"
ETCD_INITIAL_CLUSTER="10.3.9.221=https://172.16.4.18:2380,10.3.9.222=https://172.16.4.27:2380"
ETCD_INITIAL_CLUSTER_STATE="existing"</pre>
</div>
</div>
</li>
<li>
<p>Using the environment variables provided in the output of the above <code>etcdctl
member add</code> command, edit the <strong><em>/etc/etcd/etcd.conf</em></strong> file on the member system
itself and ensure these settings match.</p>
</li>
<li>
<p>Now start etcd on the new member:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rm -rf /var/lib/etcd/member
# systemctl enable etcd
# systemctl start etcd</pre>
</div>
</div>
</li>
<li>
<p>Ensure the service starts correctly and the etcd cluster is now healthy:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.16.4.18:2379,https://172.16.4.27:2379" \
    member list

51251b34b80001: name=10.3.9.221 peerURLs=https://172.16.4.18:2380 clientURLs=https://172.16.4.18:2379
d266df286a41a8a4: name=10.3.9.222 peerURLs=https://172.16.4.27:2380 clientURLs=https://172.16.4.27:2379

# etcdctl --cert-file=/etc/etcd/peer.crt \
    --key-file=/etc/etcd/peer.key \
    --ca-file=/etc/etcd/ca.crt \
    --peers="https://172.16.4.18:2379,https://172.16.4.27:2379" \
    cluster-health

cluster is healthy
member 51251b34b80001 is healthy
member d266df286a41a8a4 is healthy</pre>
</div>
</div>
</li>
<li>
<p>Now repeat this process for the next member to add to the cluster.</p>
</li>
</ol>
</div>
</li>
<li>
<p>After all additional etcd members have been added, continue to
<a href="#bringing-openshift-services-back-online">Bringing OpenShift Container Platform
Services Back Online</a>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backup-restore-adding-etcd-hosts"><a class="anchor" href="#backup-restore-adding-etcd-hosts"></a>Adding New etcd Hosts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In cases where etcd members have failed and you still have a quorum of etcd
cluster members running, you can use the surviving members to
add additional etcd members without downtime.</p>
</div>
<div class="paragraph">
<p><strong>Suggested Cluster Size</strong></p>
</div>
<div class="paragraph">
<p>Having a cluster with an odd number of etcd hosts can account for fault
tolerance. Having an odd number of etcd hosts does not change the number needed
for a quorum, but increases the tolerance for failure. For example, a cluster
size of three members, quorum is two leaving a failure tolerance of
one. This ensures the cluster will continue to operate if two of the members are
healthy.</p>
</div>
<div class="paragraph">
<p>Having an in-production cluster of three etcd hosts is recommended.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The following presumes you have a backup of the <strong>/etc/etcd</strong> configuration for
the etcd hosts.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the new etcd members will also be OpenShift Container Platform nodes, see <a href="../install_config/adding_hosts_to_existing_cluster.html#install-config-adding-hosts-to-cluster">Add
the desired number of hosts to the cluster</a>. The rest of this procedure presumes
you have added just one host, but if adding multiple, perform all steps on each
host.</p>
</li>
<li>
<p>Upgrade etcd and iptables on the surviving nodes:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum update etcd iptables-services</pre>
</div>
</div>
<div class="paragraph">
<p>Ensure version <code>etcd-2.3.7-4.el7.x86_64</code> or greater is installed, and that the
same version is installed on each host.</p>
</div>
</li>
<li>
<p>Install etcd and iptables on the new host</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install etcd iptables-services</pre>
</div>
</div>
<div class="paragraph">
<p>Ensure version <code>etcd-2.3.7-4.el7.x86_64</code> or greater is installed, and that the
same version is installed on the new host.</p>
</div>
</li>
<li>
<p><a href="#cluster-backup">Backup the etcd data store</a> on surviving hosts before making any cluster configuration changes.</p>
</li>
<li>
<p>If replacing a failed etcd member, remove the failed member <em>before</em> adding the new member.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl -C https://&lt;surviving host IP&gt;:2379 \
  --ca-file=/etc/etcd/ca.crt     \
  --cert-file=/etc/etcd/peer.crt     \
  --key-file=/etc/etcd/peer.key cluster-health

# etcdctl -C https://&lt;surviving host IP&gt;:2379 \
  --ca-file=/etc/etcd/ca.crt     \
  --cert-file=/etc/etcd/peer.crt     \
  --key-file=/etc/etcd/peer.key member remove &lt;failed member identifier&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Stop the etcd service on the failed etcd member:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl stop etcd</pre>
</div>
</div>
</li>
<li>
<p>On the new host, add the appropriate iptables rules:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl enable iptables.service --now
# iptables -N OS_FIREWALL_ALLOW
# iptables -t filter -I INPUT -j OS_FIREWALL_ALLOW
# iptables -A OS_FIREWALL_ALLOW -p tcp -m state \
  --state NEW -m tcp --dport 2379 -j ACCEPT
# iptables -A OS_FIREWALL_ALLOW -p tcp -m state \
  --state NEW -m tcp --dport 2380 -j ACCEPT
# iptables-save</pre>
</div>
</div>
</li>
<li>
<p>Generate the required certificates for the new host. On a surviving etcd host:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make a backup of the <strong><em>/etc/etcd/ca/</em></strong> directory.</p>
</li>
<li>
<p>Set the variables and working directory for the certificates, ensuring to create the <strong><em>PREFIX</em></strong> directory if one has not been created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cd /etc/etcd
# export NEW_ETCD="&lt;NEW_HOST_NAME&gt;"

# export CN=$NEW_ETCD
# export SAN="IP:&lt;NEW_HOST_IP&gt;"
# export PREFIX="./generated_certs/etcd-$CN/"</pre>
</div>
</div>
</li>
<li>
<p>Create the $PREFIX directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ mkdir -p $PREFIX</pre>
</div>
</div>
</li>
<li>
<p>Create the <strong><em>server.csr</em></strong> and <strong><em>server.crt</em></strong> certificates:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># openssl req -new -keyout ${PREFIX}server.key \
  -config ca/openssl.cnf \
  -out ${PREFIX}server.csr \
  -reqexts etcd_v3_req -batch -nodes \
  -subj /CN=$CN

# openssl ca -name etcd_ca -config ca/openssl.cnf \
  -out ${PREFIX}server.crt \
  -in ${PREFIX}server.csr \
  -extensions etcd_v3_ca_server -batch</pre>
</div>
</div>
</li>
<li>
<p>Create the <strong><em>peer.csr</em></strong> and <strong><em>peer.crt</em></strong> certificates:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># openssl req -new -keyout ${PREFIX}peer.key \
  -config ca/openssl.cnf \
  -out ${PREFIX}peer.csr \
  -reqexts etcd_v3_req -batch -nodes \
  -subj /CN=$CN

# openssl ca -name etcd_ca -config ca/openssl.cnf \
  -out ${PREFIX}peer.crt \
  -in ${PREFIX}peer.csr \
  -extensions etcd_v3_ca_peer -batch</pre>
</div>
</div>
</li>
<li>
<p>Copy the <strong><em>etcd.conf</em></strong> and <strong><em>ca.crt</em></strong> files, and archive the contents of the directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp etcd.conf ${PREFIX}
# cp ca.crt ${PREFIX}
# tar -czvf ${PREFIX}${CN}.tgz -C ${PREFIX} .</pre>
</div>
</div>
</li>
<li>
<p>Transfer the files to the new etcd hosts:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># scp ${PREFIX}${CN}.tgz  $CN:/etc/etcd/</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>While still on the surviving etcd host, add the new host to the cluster:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add the new host to the cluster:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># export ETCD_CA_HOST="&lt;SURVIVING_ETCD_HOSTNAME&gt;"
# export NEW_ETCD="&lt;NEW_ETCD_HOSTNAME&gt;"
# export NEW_ETCD_IP="&lt;NEW_HOST_IP&gt;"

# etcdctl -C https://${ETCD_CA_HOST}:2379 \
  --ca-file=/etc/etcd/ca.crt     \
  --cert-file=/etc/etcd/peer.crt     \
  --key-file=/etc/etcd/peer.key member add ${NEW_ETCD} https://${NEW_ETCD_IP}:2380

ETCD_NAME="&lt;NEW_ETCD_HOSTNAME&gt;"
ETCD_INITIAL_CLUSTER="&lt;NEW_ETCD_HOSTNAME&gt;=https://&lt;NEW_HOST_IP&gt;:2380,&lt;SURVIVING_ETCD_HOST&gt;=https:/&lt;SURVIVING_HOST_IP&gt;:2380
ETCD_INITIAL_CLUSTER_STATE="existing"</pre>
</div>
</div>
<div class="paragraph">
<p>Copy the three environment variables in the etcdctl member add output. They will be used later.</p>
</div>
</li>
<li>
<p>On the new host, extract the copied configuration data and set the permissions:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># tar -xf /etc/etcd/&lt;NEW_ETCD_HOSTNAME&gt;.tgz -C /etc/etcd/ --overwrite
# chown -R etcd:etcd /etc/etcd/*</pre>
</div>
</div>
</li>
<li>
<p>On the new host, remove any etcd data:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rm -rf /var/lib/etcd/member
# chown -R etcd:etcd /var/lib/etcd</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>On the new etcd host&#8217;s <strong><em>etcd.conf</em></strong> file:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Replace the following with the values generated in the previous step:</p>
<div class="ulist">
<ul>
<li>
<p>ETCD_NAME</p>
</li>
<li>
<p>ETCD_INITIAL_CLUSTER</p>
</li>
<li>
<p>ETCD_INITIAL_CLUSTER_STATE</p>
<div class="paragraph">
<p>Replace the IP address with the "NEW_ETCD" value for:</p>
</div>
</li>
<li>
<p>ETCD_LISTEN_PEER_URLS</p>
</li>
<li>
<p>ETCD_LISTEN_CLIENT_URLS</p>
</li>
<li>
<p>ETCD_INITIAL_ADVERTISE_PEER_URLS</p>
</li>
<li>
<p>ETCD_ADVERTISE_CLIENT_URLS</p>
<div class="paragraph">
<p>For replacing failed members, you will need to remove the failed hosts from the
etcd configuration.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Start etcd on the new host:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl enable etcd --now</pre>
</div>
</div>
</li>
<li>
<p>To verify that the new member has been added successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">etcdctl -C https://${ETCD_CA_HOST}:2379 --ca-file=/etc/etcd/ca.crt \
  --cert-file=/etc/etcd/peer.crt     \
  --key-file=/etc/etcd/peer.key cluster-health</pre>
</div>
</div>
</li>
<li>
<p>Update the master configuration on all masters to point to the new etcd host</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On every master in the cluster, edit <strong><em>/etc/origin/master/master-config.yaml</em></strong></p>
</li>
<li>
<p>Find the <strong>etcdClientInfo</strong> section.</p>
</li>
<li>
<p>Add the new etcd host to the <strong>urls</strong> list.</p>
</li>
<li>
<p>If a failed etcd host was replaced, remove it from the list.</p>
</li>
<li>
<p>Restart the master API service.</p>
<div class="paragraph">
<p>On a single master cluster installation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl restart atomic-openshift-master</pre>
</div>
</div>
<div class="paragraph">
<p>On a multi-master cluster installation, on each master:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl restart atomic-openshift-master-api</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The procedure to add an etcd member is complete.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bringing-openshift-services-back-online"><a class="anchor" href="#bringing-openshift-services-back-online"></a>Bringing OpenShift Container Platform Services Back Online</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On each OpenShift Container Platform master, restore your master and node configuration from
backup and enable and restart all relevant services.</p>
</div>
<div class="paragraph">
<p>On the master in a single master cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp /etc/sysconfig/atomic-openshift-master.rpmsave /etc/sysconfig/atomic-openshift-master
# cp /etc/origin/master/master-config.yaml.&lt;timestamp&gt; /etc/origin/master/master-config.yaml
# cp /etc/origin/node/node-config.yaml.&lt;timestamp&gt; /etc/origin/node/node-config.yaml
# systemctl enable atomic-openshift-master
# systemctl enable atomic-openshift-node
# systemctl start atomic-openshift-master
# systemctl start atomic-openshift-node</pre>
</div>
</div>
<div class="paragraph">
<p>On each master in a multi-master cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp /etc/sysconfig/atomic-openshift-master-api.rpmsave /etc/sysconfig/atomic-openshift-master-api
# cp /etc/sysconfig/atomic-openshift-master-controllers.rpmsave /etc/sysconfig/atomic-openshift-master-controllers
# cp /etc/origin/master/master-config.yaml.&lt;timestamp&gt; /etc/origin/master/master-config.yaml
# cp /etc/origin/node/node-config.yaml.&lt;timestamp&gt; /etc/origin/node/node-config.yaml
# systemctl enable atomic-openshift-master-api
# systemctl enable atomic-openshift-master-controllers
# systemctl enable atomic-openshift-node
# systemctl start atomic-openshift-master-api
# systemctl start atomic-openshift-master-controllers
# systemctl start atomic-openshift-node</pre>
</div>
</div>
<div class="paragraph">
<p>On each OpenShift Container Platform node, restore your <strong><em>node-config.yaml</em></strong> file from backup
and enable and restart the <strong>atomic-openshift-node</strong> service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp /etc/origin/node/node-config.yaml.&lt;timestamp&gt; /etc/origin/node/node-config.yaml
# systemctl enable atomic-openshift-node
# systemctl start atomic-openshift-node</pre>
</div>
</div>
<div class="paragraph">
<p>Your OpenShift Container Platform cluster should now be back online.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-backup"><a class="anchor" href="#project-backup"></a>Project Backup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A future release of OpenShift Container Platform will feature specific support for
per-project back up and restore.</p>
</div>
<div class="paragraph">
<p>For now, to back up API objects at the project level, use <code>oc export</code> for each
object to be saved. For example, to save the deployment configuration <code>frontend</code>
in YAML format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc export dc frontend -o yaml &gt; dc-frontend.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>To back up all of the project (with the exception of cluster objects like
namespaces and projects):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc export all -o yaml &gt; project.yaml</pre>
</div>
</div>
<div class="sect2">
<h3 id="backup-rolebindings"><a class="anchor" href="#backup-rolebindings"></a>Role Bindings</h3>
<div class="paragraph">
<p>Sometimes custom policy
<a href="../admin_guide/manage_rbac.html#managing-role-bindings">role
bindings</a> are used in a project. For example, a project administrator can give
another user a certain role in the project and grant that user project access.</p>
</div>
<div class="paragraph">
<p>These role bindings can be exported:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get rolebindings -o yaml --export=true &gt; rolebindings.yaml</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-serviceaccounts"><a class="anchor" href="#backup-serviceaccounts"></a>Service Accounts</h3>
<div class="paragraph">
<p>If custom service accounts are created in a project, these need to be exported:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get serviceaccount -o yaml --export=true &gt; serviceaccount.yaml</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-secrets"><a class="anchor" href="#backup-secrets"></a>Secrets</h3>
<div class="paragraph">
<p>Custom secrets like source control management secrets (SSH Public Keys,
Username/Password) should be exported if they are used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get secret -o yaml --export=true &gt; secret.yaml</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-pvc"><a class="anchor" href="#backup-pvc"></a>Persistent Volume Claims</h3>
<div class="paragraph">
<p>If the application within a project uses a persistent volume through a
persistent volume claim (PVC), these should be backed up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get pvc -o yaml --export=true &gt; pvc.yaml</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-restore"><a class="anchor" href="#project-restore"></a>Project Restore</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To restore a project, recreate the project and recreate all of the objects
that were exported during the backup:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc new-project myproject
$ oc create -f project.yaml
$ oc create -f secret.yaml
$ oc create -f serviceaccount.yaml
$ oc create -f pvc.yaml
$ oc create -f rolebindings.yaml</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some resources can fail to be created (for example, pods and default service
accounts).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backup-application-data"><a class="anchor" href="#backup-application-data"></a>Application Data Backup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In many cases, application data can be backed up using the <code>oc rsync</code> command,
assuming <code>rsync</code> is installed within the container image. The Red Hat <strong>rhel7</strong>
base image does contain <code>rsync</code>. Therefore, all images that are based on <strong>rhel7</strong>
contain it as well. See <a href="../cli_reference/basic_cli_operations.html#cli-operations-rsync">Troubleshooting and Debugging CLI Operations - rsync</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is a <em>generic</em> backup of application data and does not take into account
application-specific backup procedures, for example, special export/import
procedures for database systems.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Other means of backup may exist depending on the type of the persistent volume
(for example, Cinder, NFS, Gluster, or others).</p>
</div>
<div class="paragraph">
<p>The paths to back up are also <em>application specific</em>. You can determine
what path to back up by looking at the <code><strong>mountPath</strong></code> for volumes in the
<code><strong>deploymentconfig</strong></code>.</p>
</div>
<div class="olist arabic">
<div class="title">Example of Backing up a Jenkins Deployment&#8217;s Application Data</div>
<ol class="arabic">
<li>
<p>Get the application data <code><strong>mountPath</strong></code> from the <code><strong>deploymentconfig</strong></code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get dc/jenkins -o jsonpath='{ .spec.template.spec.containers[?(@.name=="jenkins")].volumeMounts[?(@.name=="jenkins-data")].mountPath }'
/var/lib/jenkins</pre>
</div>
</div>
</li>
<li>
<p>Get the name of the pod that is currently running:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get pod --selector=deploymentconfig=jenkins -o jsonpath='{ .metadata.name }'
jenkins-1-37nux</pre>
</div>
</div>
</li>
<li>
<p>Use the <code>oc rsync</code> command to copy application data:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc rsync jenkins-1-37nux:/var/lib/jenkins /tmp/</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This type of application data backup can only be performed while an application
pod is currently running.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="restore-application-data"><a class="anchor" href="#restore-application-data"></a>Application Data Restore</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The process for restoring application data is similar to the
<a href="#backup-application-data">application backup procedure</a> using the <code>oc rsync</code>
tool. The same restrictions apply and the process of restoring application data
requires a persistent volume.</p>
</div>
<div class="olist arabic">
<div class="title">Example of Restoring a Jenkins Deployment&#8217;s Application Data</div>
<ol class="arabic">
<li>
<p>Verify the backup:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ls -la /tmp/jenkins-backup/
total 8
drwxrwxr-x.  3 user     user   20 Sep  6 11:14 .
drwxrwxrwt. 17 root     root 4096 Sep  6 11:16 ..
drwxrwsrwx. 12 user     user 4096 Sep  6 11:14 jenkins</pre>
</div>
</div>
</li>
<li>
<p>Use the <code>oc rsync</code> tool to copy the data into the running pod:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc rsync /tmp/jenkins-backup/jenkins jenkins-1-37nux:/var/lib</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Depending on the application, you may be required to restart the application.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Restart the application with new data (<em>optional</em>):</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc delete pod jenkins-1-37nux</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can scale down the deployment to 0, and then up again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc scale --replicas=0 dc/jenkins
$ oc scale --replicas=1 dc/jenkins</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-openshift">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3 logo">
        <a href="https://www.redhat.com/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
            <a href="https://www.openshift.com/legal/privacy.html">
              Privacy Policy
            </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="https://www.openshift.com/legal/terms.html">
            Terms and Conditions
          </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="http://www.openshift.org/">
            Open Source
          </a>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="../../trello143-jenkins-memory-usage-tuning/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>

<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->
</body>
</html>