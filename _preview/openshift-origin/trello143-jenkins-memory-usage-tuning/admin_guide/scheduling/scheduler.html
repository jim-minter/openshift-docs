<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Default Scheduling - Scheduling | Cluster Administration | OpenShift Origin Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../../trello143-jenkins-memory-usage-tuning/_stylesheets/docs.css" rel="stylesheet" />
  <link href="../../../trello143-jenkins-memory-usage-tuning/_stylesheets/search.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../../trello143-jenkins-memory-usage-tuning/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../../trello143-jenkins-memory-usage-tuning/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../../trello143-jenkins-memory-usage-tuning/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="../../../trello143-jenkins-memory-usage-tuning/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="../../../trello143-jenkins-memory-usage-tuning/_javascripts/hc-search.js" type="text/javascript"></script>
  <script async src="//www.google-analytics.com/analytics.js" type="text/javascript"></script>
<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-40375612-1', 'openshift.org');
  ga('set', 'forceSSL', true);
  ga('send', 'pageview');
</script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift navbar-origin" role="navigation">
  <div class="navbar-header">
    <a class="navbar-brand origin" href="/"></a>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../welcome/index.html">OpenShift Origin Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../admin_guide/index.html">Cluster Administration</a>
      </li>
      <li class="hidden-xs active"><a href="../../admin_guide/scheduling/index.html">Scheduling</a></li>
      <li class="hidden-xs active">
        Default Scheduling
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <div id="hc-search">
  <input id="hc-search-input" type="text">
  <button id="hc-search-btn">Search</button>
</div>

<div id="hc-search-modal">
  <div id="hc-modal-content">
    <span id="hc-modal-close">&times;</span>
    <div id="hc-search-results"></div>
  </div>
</div>

<script>
  hcSearchCategory("docs_origin", "Branch Build");
</script>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../../welcome/legal_notice.html">Legal Notice</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>What's New?
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../../whats_new/index.html">Overview</a></li>
            <li><a class="" href="../../whats_new/applications.html">Applications</a></li>
            <li><a class="" href="../../whats_new/carts_vs_images.html">Cartridges vs Images</a></li>
            <li><a class="" href="../../whats_new/terminology.html">Terminology</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../../getting_started/administrators.html">Setting Up a Cluster</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../../architecture/infrastructure_components/image_registry.html">Container Registry</a></li>
                  <li><a class="" href="../../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-4">
                <span id="sgSpan-3-4" class="fa fa-caret-right"></span>&nbsp;Networking
              </a>
              <ul id="topicSubGroup-3-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/networking/networking.html">Networking</a></li>
                  <li><a class="" href="../../architecture/networking/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../../architecture/networking/network_plugins.html">Network Plug-ins</a></li>
                  <li><a class="" href="../../architecture/networking/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../../architecture/networking/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../../architecture/networking/haproxy-router.html">HAProxy Router Plug-in</a></li>
                  <li><a class="" href="../../architecture/networking/routes.html">Routes</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-5">
                <span id="sgSpan-3-5" class="fa fa-caret-right"></span>&nbsp;Service Catalog Components
              </a>
              <ul id="topicSubGroup-3-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/service_catalog/index.html">Service Catalog</a></li>
                  <li><a class="" href="../../architecture/service_catalog/template_service_broker.html">Template Service Broker</a></li>
                  <li><a class="" href="../../architecture/service_catalog/ansible_service_broker.html">OpenShift Ansible Broker</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>Container Security Guide
      </a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../../security/index.html">Introduction</a></li>
            <li><a class="" href="../../security/hosts_multitenancy.html">Container Hosts and Multi-tenancy</a></li>
            <li><a class="" href="../../security/container_content.html">Container Content</a></li>
            <li><a class="" href="../../security/registries.html">Registries</a></li>
            <li><a class="" href="../../security/build_process.html">Build Process</a></li>
            <li><a class="" href="../../security/deployment.html">Deployment</a></li>
            <li><a class="" href="../../security/securing_container_platform.html">Securing the Container Platform</a></li>
            <li><a class="" href="../../security/network_security.html">Network Security</a></li>
            <li><a class="" href="../../security/storage.html">Attached Storage</a></li>
            <li><a class="" href="../../security/monitoring.html">Monitoring Events and Logs</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Installation and Configuration
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-1">
                <span id="sgSpan-5-1" class="fa fa-caret-right"></span>&nbsp;Installing a Cluster
              </a>
              <ul id="topicSubGroup-5-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/install/planning.html">Planning</a></li>
                  <li><a class="" href="../../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../../install_config/install/host_preparation.html">Host Preparation</a></li>
                  <li><a class="" href="../../install_config/install/rpm_vs_containerized.html">Installing on Containerized Hosts</a></li>
                  <li><a class="" href="../../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class="" href="../../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../../install_config/install/stand_alone_registry.html">Installing a Stand-alone Deployment of OpenShift Container Registry</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-2">
                <span id="sgSpan-5-2" class="fa fa-caret-right"></span>&nbsp;Setting up the Registry
              </a>
              <ul id="topicSubGroup-5-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/registry/index.html">Registry Overview</a></li>
                  <li><a class="" href="../../install_config/registry/deploy_registry_existing_clusters.html">Deploying a Registry on Existing Clusters</a></li>
                  <li><a class="" href="../../install_config/registry/accessing_registry.html">Accessing the Registry</a></li>
                  <li><a class="" href="../../install_config/registry/securing_and_exposing_registry.html">Securing and Exposing the Registry</a></li>
                  <li><a class="" href="../../install_config/registry/extended_registry_configuration.html">Extended Registry Configuration</a></li>
                  <li><a class="" href="../../install_config/registry/registry_known_issues.html">Known Issues</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-3">
                <span id="sgSpan-5-3" class="fa fa-caret-right"></span>&nbsp;Setting up a Router
              </a>
              <ul id="topicSubGroup-5-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/router/index.html">Router Overview</a></li>
                  <li><a class="" href="../../install_config/router/default_haproxy_router.html">Using the Default HAProxy Router</a></li>
                  <li><a class="" href="../../install_config/router/customized_haproxy_router.html">Deploying a Customized HAProxy Router</a></li>
                  <li><a class="" href="../../install_config/router/proxy_protocol.html">Configuring the HAProxy Router to Use the PROXY Protocol</a></li>
                  <li><a class="" href="../../install_config/router/f5_router.html">Using the F5 Router Plug-in</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-4">
                <span id="sgSpan-5-4" class="fa fa-caret-right"></span>&nbsp;Upgrading a Cluster
              </a>
              <ul id="topicSubGroup-5-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/upgrading/automated_upgrades.html">Automated In-place Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/manual_upgrades.html">Manual In-place Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/blue_green_deployments.html">Blue-Green Deployments</a></li>
                  <li><a class="" href="../../install_config/upgrading/os_upgrades.html">Operating System Updates and Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/migrating_embedded_etcd.html">Migrating Embedded etcd to External etcd</a></li>
                  <li><a class="" href="../../install_config/upgrading/migrating_etcd.html">Migrating etcd Data (v2 to v3)</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../../install_config/adding_hosts_to_existing_cluster.html">Adding Hosts to an Existing Cluster</a></li>
            <li><a class="" href="../../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../../install_config/redeploying_certificates.html">Redeploying Certificates</a></li>
            <li><a class="" href="../../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-12">
                <span id="sgSpan-5-12" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-5-12" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../../install_config/configuring_nuagesdn.html">Configuring Nuage SDN</a></li>
            <li><a class="" href="../../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li><a class="" href="../../install_config/configuring_azure.html">Configuring for Azure</a></li>
            <li><a class="" href="../../install_config/configuring_vsphere.html">Configuring for VMWare vSphere</a></li>
            <li><a class="" href="../../install_config/configuring_local.html">Configuring for local Volume</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-21">
                <span id="sgSpan-5-21" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-5-21" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_azure.html">Using Azure Disk</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_azure_file.html">Using Azure File</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_flex_volume.html">Using FlexVolume</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_vsphere.html">Using VMWare vSphere</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_local.html">Using Local Volume</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning and Creating Storage Classes</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/selector_label_binding.html">Selector-Label Volume Binding</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/enabling_controller_attach_detach.html">Enabling Controller-managed Attachment and Detachment</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-22">
                <span id="sgSpan-5-22" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-5-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../../install_config/storage_examples/ceph_rbd_dynamic_example.html">Complete Example Using Ceph RBD for Dynamic Provisioning</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_dynamic_example.html">Dynamic Provisioning Example Using Containerized GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/dedicated_gluster_dynamic_example.html">Dynamic Provisioning Example Using Dedicated GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/containerized_heketi_with_dedicated_gluster.html">Containerized Heketi for Managing Dedicated GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
                  <li><a class="" href="../../install_config/storage_examples/binding_pv_by_label.html">Binding Persistent Volumes by Label</a></li>
                  <li><a class="" href="../../install_config/storage_examples/storage_classes_dynamic_provisioning.html">Using StorageClasses for Dynamic Provisioning</a></li>
                  <li><a class="" href="../../install_config/storage_examples/storage_classes_legacy.html">Using StorageClasses for Existing Legacy Storage</a></li>
                  <li><a class="" href="../../install_config/storage_examples/azure_blob_docker_registry_example.html">Configuring Azure Blob Storage for Integrated Docker Registry</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../../install_config/configuring_pipeline_execution.html">Configuring Pipeline Execution</a></li>
            <li><a class="" href="../../install_config/configuring_routing.html">Configuring Route Timeouts</a></li>
            <li><a class="" href="../../install_config/configuring_native_container_routing.html">Configuring Native Container Routing</a></li>
            <li><a class="" href="../../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../../install_config/aggregate_logging_sizing.html">Aggregate Logging Sizing Guidelines</a></li>
            <li><a class="" href="../../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../../install_config/provisioners.html">Deploying External Persistent Volume Provisioners</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-down"></span>Cluster Administration
      </a>
      <ul id="topicGroup6" class="collapse in list-unstyled">
            <li><a class="" href="../../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../../admin_guide/managing_pods.html">Managing Pods</a></li>
            <li><a class="" href="../../admin_guide/managing_networking.html">Managing Networking</a></li>
            <li><a class="" href="../../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../../admin_guide/manage_rbac.html">Managing Role-based Access Control</a></li>
            <li><a class="" href="../../admin_guide/image_policy.html">Image Policy</a></li>
            <li><a class="" href="../../admin_guide/image_signatures.html">Image Signatures</a></li>
            <li><a class="" href="../../admin_guide/scoped_tokens.html">Scoped Tokens</a></li>
            <li><a class="" href="../../admin_guide/monitoring_images.html">Monitoring Images</a></li>
            <li><a class="" href="../../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-13">
                <span id="sgSpan-6-13" class="fa fa-caret-down"></span>&nbsp;Scheduling
              </a>
              <ul id="topicSubGroup-6-13" class="nav-tertiary list-unstyled collapse in">
                  <li><a class="" href="../../admin_guide/scheduling/index.html">Overview</a></li>
                  <li><a class=" active" href="../../admin_guide/scheduling/scheduler.html">Default Scheduling</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/custom_scheduler.html">Custom Scheduling</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/scheduler-advanced.html">Advanced Scheduling</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/node_affinity.html">Advanced Scheduling and Node Affinity</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/pod_affinity.html">Advanced Scheduling and Pod Affinity/Anti-affinity</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/node_selector.html">Advanced Scheduling and Node Selectors</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/taints_tolerations.html">Advanced Scheduling and Taints and Tolerations</a></li>
              </ul>
            </li>
            <li><a class="" href="../../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../../admin_guide/multiproject_quota.html">Setting Multi-Project Quotas</a></li>
            <li><a class="" href="../../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../../admin_guide/custom_resource_definitions.html">Extending the Kubernetes API with Custom Resources</a></li>
            <li><a class="" href="../../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../../admin_guide/opaque_integer_resources.html">Opaque Integer Resources</a></li>
            <li><a class="" href="../../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../../admin_guide/tcp_ingress_external_ports.html">Assigning Unique External IPs for Ingress Traffic</a></li>
            <li><a class="" href="../../admin_guide/out_of_resource_handling.html">Out of Resource Handling</a></li>
            <li><a class="" href="../../admin_guide/router.html">Monitoring and Debugging Routers</a></li>
            <li><a class="" href="../../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../../admin_guide/seccomp.html">Restricting Application Capabilities Using Seccomp</a></li>
            <li><a class="" href="../../admin_guide/sysctls.html">Sysctls</a></li>
            <li><a class="" href="../../admin_guide/encrypting_data.html">Encrypting Data at Datastore Layer</a></li>
            <li><a class="" href="../../admin_guide/ipsec.html">Encrypting Hosts with IPsec</a></li>
            <li><a class="" href="../../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../../admin_guide/backup_restore.html">Backup and Restore</a></li>
            <li><a class="" href="../../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../../admin_guide/diagnostics_tool.html">Diagnostics Tool</a></li>
            <li><a class="" href="../../admin_guide/idling_applications.html">Idling Applications</a></li>
            <li><a class="" href="../../admin_guide/cluster_capacity.html">Analyzing Cluster Capacity</a></li>
            <li><a class="" href="../../admin_guide/aws_cluster_labeling.html">Labeling Clusters for Amazon Web Services</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>Scaling and Performance Guide
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../../scaling_performance/index.html">Overview</a></li>
            <li><a class="" href="../../scaling_performance/install_practices.html">Recommended Installation Practices</a></li>
            <li><a class="" href="../../scaling_performance/host_practices.html">Recommended Host Practices</a></li>
            <li><a class="" href="../../scaling_performance/optimizing_compute_resources.html">Optimizing Compute Resources</a></li>
            <li><a class="" href="../../scaling_performance/optimizing_storage.html">Optimizing Storage</a></li>
            <li><a class="" href="../../scaling_performance/network_optimization.html">Network Optimization</a></li>
            <li><a class="" href="../../scaling_performance/routing_optimization.html">Routing Optimization</a></li>
            <li><a class="" href="../../scaling_performance/scaling_cluster_metrics.html">Scaling Cluster Metrics</a></li>
            <li><a class="" href="../../scaling_performance/cluster_limits.html">Cluster Limits</a></li>
            <li><a class="" href="../../scaling_performance/using_cluster_loader.html">Using Cluster Loader</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/extend_cli.html">Extending the CLI</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../../dev_guide/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-1">
                <span id="sgSpan-9-1" class="fa fa-caret-right"></span>&nbsp;Application Life Cycle Management
              </a>
              <ul id="topicSubGroup-9-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/application_lifecycle/development_process.html">Planning Your Development Process</a></li>
                  <li><a class="" href="../../dev_guide/application_lifecycle/new_app.html">Creating New Applications</a></li>
                  <li><a class="" href="../../dev_guide/application_lifecycle/promoting_applications.html">Promoting Applications Across Environments</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../../dev_guide/authorization.html">Authorization</a></li>
            <li><a class="" href="../../dev_guide/projects.html">Projects</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-5">
                <span id="sgSpan-9-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-9-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/migrating_applications/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-6">
                <span id="sgSpan-9-6" class="fa fa-caret-right"></span>&nbsp;Tutorials
              </a>
              <ul id="topicSubGroup-9-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/dev_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/openshift_pipeline.html">OpenShift Pipeline Builds</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/binary_builds.html">Binary Builds</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-7">
                <span id="sgSpan-9-7" class="fa fa-caret-right"></span>&nbsp;Builds
              </a>
              <ul id="topicSubGroup-9-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/builds/index.html">How Builds Work</a></li>
                  <li><a class="" href="../../dev_guide/builds/basic_build_operations.html">Basic Build Operations</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_inputs.html">Build Inputs</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_output.html">Build Output</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_strategies.html">Build Strategy Options</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_environment.html">Build Environment</a></li>
                  <li><a class="" href="../../dev_guide/builds/triggering_builds.html">Triggering Builds</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_hooks.html">Build Hooks</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_run_policy.html">Build Run Policy</a></li>
                  <li><a class="" href="../../dev_guide/builds/advanced_build_operations.html">Advanced Build Operations</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_troubleshooting.html">Troubleshooting</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-8">
                <span id="sgSpan-9-8" class="fa fa-caret-right"></span>&nbsp;Deployments
              </a>
              <ul id="topicSubGroup-9-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/deployments/how_deployments_work.html">How Deployments Work</a></li>
                  <li><a class="" href="../../dev_guide/deployments/basic_deployment_operations.html">Basic Deployment Operations</a></li>
                  <li><a class="" href="../../dev_guide/deployments/deployment_strategies.html">Deployment Strategies</a></li>
                  <li><a class="" href="../../dev_guide/deployments/advanced_deployment_strategies.html">Advanced Deployment Strategies</a></li>
                  <li><a class="" href="../../dev_guide/deployments/kubernetes_deployments.html">Kubernetes Deployments Support</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../../dev_guide/pod_preset.html">Injecting Information into Pods Using Pod Presets</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-15">
                <span id="sgSpan-9-15" class="fa fa-caret-right"></span>&nbsp;Getting Traffic into a Cluster over Non-Standard Ports
              </a>
              <ul id="topicSubGroup-9-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/expose_service/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_router.html">Using a Router</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_load_balancer.html">Using a Load Balancer</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_service.html">Using a Service ExternalIP</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_nodeport.html">Using a NodePort</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../../dev_guide/projected_volumes.html">Projected Volumes</a></li>
            <li><a class="" href="../../dev_guide/daemonsets.html">Using Daemonsets</a></li>
            <li><a class="" href="../../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../../dev_guide/openshift_pipeline.html">OpenShift Pipeline</a></li>
            <li><a class="" href="../../dev_guide/cron_jobs.html">Cron Jobs</a></li>
            <li><a class="" href="../../dev_guide/create_from_url.html">Create from URL</a></li>
            <li><a class="" href="../../dev_guide/application_memory_sizing.html">Application memory sizing</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../../creating_images/custom.html">Custom Builder</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../../using_images/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-1">
                <span id="sgSpan-11-1" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-11-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../../using_images/s2i_images/python.html">Python</a></li>
                  <li><a class="" href="../../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../../using_images/s2i_images/wildfly.html">Wildfly</a></li>
                  <li><a class="" href="../../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I Images</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-2">
                <span id="sgSpan-11-2" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-11-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../../using_images/db_images/mongodb.html">MongoDB</a></li>
                  <li><a class="" href="../../using_images/db_images/mariadb.html">MariaDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-3">
                <span id="sgSpan-11-3" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-11-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-4">
                <span id="sgSpan-11-4" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-11-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/other_images/jenkins.html">Jenkins</a></li>
                  <li><a class="" href="../../using_images/other_images/jenkins_slaves.html">Jenkins Slaves</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12">
        <span id="tgSpan12" class="fa fa-angle-right"></span>Ansible Playbook Bundle Development Guide
      </a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../../apb_devel/index.html">Introduction</a></li>
            <li><a class="" href="../../apb_devel/cli_tooling.html">CLI Tooling</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-2">
                <span id="sgSpan-12-2" class="fa fa-caret-right"></span>&nbsp;Writing APBs
              </a>
              <ul id="topicSubGroup-12-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../apb_devel/writing/getting_started.html">Getting Started</a></li>
                  <li><a class="" href="../../apb_devel/writing/reference.html">Reference</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13">
        <span id="tgSpan13" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../../rest_api/examples.html">Examples</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-2">
                <span id="sgSpan-13-2" class="fa fa-caret-right"></span>&nbsp;/api/v1
              </a>
              <ul id="topicSubGroup-13-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/api/v1.APIResourceList.html">v1.APIResourceList</a></li>
                  <li><a class="" href="../../rest_api/api/v1.APIVersions.html">v1.APIVersions</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Binding.html">v1.Binding</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ComponentStatus.html">v1.ComponentStatus</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ConfigMap.html">v1.ConfigMap</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Endpoints.html">v1.Endpoints</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Event.html">v1.Event</a></li>
                  <li><a class="" href="../../rest_api/api/v1.LimitRange.html">v1.LimitRange</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Namespace.html">v1.Namespace</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Node.html">v1.Node</a></li>
                  <li><a class="" href="../../rest_api/api/v1.PersistentVolume.html">v1.PersistentVolume</a></li>
                  <li><a class="" href="../../rest_api/api/v1.PersistentVolumeClaim.html">v1.PersistentVolumeClaim</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Pod.html">v1.Pod</a></li>
                  <li><a class="" href="../../rest_api/api/v1.PodTemplate.html">v1.PodTemplate</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ReplicationController.html">v1.ReplicationController</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ResourceQuota.html">v1.ResourceQuota</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Secret.html">v1.Secret</a></li>
                  <li><a class="" href="../../rest_api/api/v1.SecurityContextConstraints.html">v1.SecurityContextConstraints</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Service.html">v1.Service</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ServiceAccount.html">v1.ServiceAccount</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-3">
                <span id="sgSpan-13-3" class="fa fa-caret-right"></span>&nbsp;/apis/v1
              </a>
              <ul id="topicSubGroup-13-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis/v1.APIGroup.html">v1.APIGroup</a></li>
                  <li><a class="" href="../../rest_api/apis/v1.APIGroupList.html">v1.APIGroupList</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-4">
                <span id="sgSpan-13-4" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta1
              </a>
              <ul id="topicSubGroup-13-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apps/v1beta1.ControllerRevision.html">v1beta1.ControllerRevision</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta1.StatefulSet.html">v1beta1.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-5">
                <span id="sgSpan-13-5" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta2
              </a>
              <ul id="topicSubGroup-13-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.ControllerRevision.html">v1beta2.ControllerRevision</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.DaemonSet.html">v1beta2.DaemonSet</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.Deployment.html">v1beta2.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.ReplicaSet.html">v1beta2.ReplicaSet</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.StatefulSet.html">v1beta2.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-6">
                <span id="sgSpan-13-6" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v1
              </a>
              <ul id="topicSubGroup-13-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-autoscaling/v1.HorizontalPodAutoscaler.html">v1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-7">
                <span id="sgSpan-13-7" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v2beta1
              </a>
              <ul id="topicSubGroup-13-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-autoscaling/v2beta1.HorizontalPodAutoscaler.html">v2beta1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-8">
                <span id="sgSpan-13-8" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1
              </a>
              <ul id="topicSubGroup-13-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-batch/v1.Job.html">v1.Job</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-9">
                <span id="sgSpan-13-9" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1beta1
              </a>
              <ul id="topicSubGroup-13-9" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-batch/v1beta1.CronJob.html">v1beta1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-10">
                <span id="sgSpan-13-10" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v2alpha1
              </a>
              <ul id="topicSubGroup-13-10" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-batch/v2alpha1.CronJob.html">v2alpha1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-11">
                <span id="sgSpan-13-11" class="fa fa-caret-right"></span>&nbsp;/apis/extensions/v1beta1
              </a>
              <ul id="topicSubGroup-13-11" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.DaemonSet.html">v1beta1.DaemonSet</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.Ingress.html">v1beta1.Ingress</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.NetworkPolicy.html">v1beta1.NetworkPolicy</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.PodSecurityPolicy.html">v1beta1.PodSecurityPolicy</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.ReplicaSet.html">v1beta1.ReplicaSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-12">
                <span id="sgSpan-13-12" class="fa fa-caret-right"></span>&nbsp;/apis/policy/v1beta1
              </a>
              <ul id="topicSubGroup-13-12" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-policy/v1beta1.PodDisruptionBudget.html">v1beta1.PodDisruptionBudget</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-13">
                <span id="sgSpan-13-13" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1
              </a>
              <ul id="topicSubGroup-13-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authentication.k8s.io/v1.TokenReview.html">v1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-14">
                <span id="sgSpan-13-14" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-13-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authentication.k8s.io/v1beta1.TokenReview.html">v1beta1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-15">
                <span id="sgSpan-13-15" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-13-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.LocalSubjectAccessReview.html">v1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.SelfSubjectAccessReview.html">v1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.SelfSubjectRulesReview.html">v1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.SubjectAccessReview.html">v1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-16">
                <span id="sgSpan-13-16" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-13-16" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.LocalSubjectAccessReview.html">v1beta1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectAccessReview.html">v1beta1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectRulesReview.html">v1beta1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.SubjectAccessReview.html">v1beta1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-17">
                <span id="sgSpan-13-17" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-13-17" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRole.html">v1.ClusterRole</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRoleBinding.html">v1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.Role.html">v1.Role</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.RoleBinding.html">v1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-18">
                <span id="sgSpan-13-18" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-13-18" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRole.html">v1beta1.ClusterRole</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRoleBinding.html">v1beta1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.Role.html">v1beta1.Role</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.RoleBinding.html">v1beta1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-19">
                <span id="sgSpan-13-19" class="fa fa-caret-right"></span>&nbsp;/apis/certificates.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-13-19" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-certificates.k8s.io/v1beta1.CertificateSigningRequest.html">v1beta1.CertificateSigningRequest</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-20">
                <span id="sgSpan-13-20" class="fa fa-caret-right"></span>&nbsp;/apis/networking.k8s.io/v1
              </a>
              <ul id="topicSubGroup-13-20" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-networking.k8s.io/v1.NetworkPolicy.html">v1.NetworkPolicy</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-21">
                <span id="sgSpan-13-21" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1
              </a>
              <ul id="topicSubGroup-13-21" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-storage.k8s.io/v1.StorageClass.html">v1.StorageClass</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-22">
                <span id="sgSpan-13-22" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-13-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-storage.k8s.io/v1beta1.StorageClass.html">v1beta1.StorageClass</a></li>
              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>Default Scheduling</h1>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#generic-scheduler">Generic Scheduler</a>
<ul class="sectlevel2">
<li><a href="#filter-the-nodes">Filter the Nodes</a></li>
<li><a href="#prioritize-filtered-list-nodes">Prioritize the Filtered List of Nodes</a></li>
<li><a href="#select-best-fit-node">Select the Best Fit Node</a></li>
</ul>
</li>
<li><a href="#available-predicates">Available Predicates</a>
<ul class="sectlevel2">
<li><a href="#static-predicates">Static Predicates</a></li>
<li><a href="#configurable-predicates">Configurable Predicates</a></li>
</ul>
</li>
<li><a href="#available-priority-functions">Available Priority Functions</a>
<ul class="sectlevel2">
<li><a href="#static-priority-functions">Static Priority Functions</a></li>
<li><a href="#configurable-priority-functions">Configurable Priority Functions</a></li>
</ul>
</li>
<li><a href="#scheduler-policy">Scheduler Policy</a>
<ul class="sectlevel2">
<li><a href="#default-scheduler-policy">Default Scheduler Policy</a></li>
<li><a href="#modifying-scheduler-policy">Modifying Scheduler Policy</a></li>
</ul>
</li>
<li><a href="#use-cases">Use Cases</a>
<ul class="sectlevel2">
<li><a href="#infrastructure-topological-levels">Infrastructure Topological Levels</a></li>
<li><a href="#affinity">Affinity</a></li>
<li><a href="#anti-affinity">Anti Affinity</a></li>
</ul>
</li>
<li><a href="#scheduler-sample-policies">Sample Policy Configurations</a></li>
<li><a href="#scheduler-extensibility">Scheduler Extensibility</a>
<ul class="sectlevel2">
<li><a href="#enhancements">Enhancements</a></li>
<li><a href="#replacement">Replacement</a></li>
</ul>
</li>
<li><a href="#controlling-pod-placement">Controlling Pod Placement</a>
<ul class="sectlevel2">
<li><a href="#constraining-pod-placement-labels">Constraining Pod Placement Using Node Name</a></li>
<li><a href="#constraining-pod-placement-nodeselector">Constraining Pod Placement Using a Node Selector</a></li>
</ul>
</li>
<li><a href="#control-pod-placement-to-projects">Control Pod Placement to Projects</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default OpenShift Origin pod scheduler is responsible for determining placement of new
pods onto nodes within the cluster. It reads data from the pod and tries to find
a node that is a good fit based on configured policies. It is completely
independent and exists as a standalone/pluggable solution. It does not modify
the pod and just creates a binding for the pod that ties the pod to the
particular node.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generic-scheduler"><a class="anchor" href="#generic-scheduler"></a>Generic Scheduler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The existing generic scheduler is the default platform-provided scheduler
"engine" that selects a node to host the pod in a 3-step operation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Filter the nodes</p>
</li>
<li>
<p>Prioritize the filtered list of nodes</p>
</li>
<li>
<p>Select the best fit node</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="filter-the-nodes"><a class="anchor" href="#filter-the-nodes"></a>Filter the Nodes</h3>
<div class="paragraph">
<p>The available nodes are filtered based on the constraints or requirements
specified. This is done by running each of the nodes through the list of filter
functions called 'predicates'.</p>
</div>
</div>
<div class="sect2">
<h3 id="prioritize-filtered-list-nodes"><a class="anchor" href="#prioritize-filtered-list-nodes"></a>Prioritize the Filtered List of Nodes</h3>
<div class="paragraph">
<p>This is achieved by passing each node through a series of 'priority' functions
that assign it a score between 0 - 10, with 0 indicating a bad fit and 10
indicating a good fit to host the pod. The scheduler configuration can also take
in a simple "weight" (positive numeric value) for each priority function. The
node score provided by each priority function is multiplied by the "weight"
(default weight is 1) and then combined by just adding the scores for each node
provided by all the priority functions. This weight attribute can be used by
administrators to give higher importance to some priority functions.</p>
</div>
</div>
<div class="sect2">
<h3 id="select-best-fit-node"><a class="anchor" href="#select-best-fit-node"></a>Select the Best Fit Node</h3>
<div class="paragraph">
<p>The nodes are sorted based on their scores and the node with the highest score
is selected to host the pod. If multiple nodes have the same high score, then
one of them is selected at random.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="available-predicates"><a class="anchor" href="#available-predicates"></a>Available Predicates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several predicates provided out of the box in Kubernetes. Some of
these predicates can be customized by providing certain parameters. Multiple
predicates can be combined to provide additional filtering of nodes.</p>
</div>
<div class="sect2">
<h3 id="static-predicates"><a class="anchor" href="#static-predicates"></a>Static Predicates</h3>
<div class="paragraph">
<p>These predicates do not take any configuration parameters or inputs from the
user. These are specified in the scheduler configuration using their exact
name.</p>
</div>
<div class="paragraph">
<p><strong><em>PodFitsPorts</em></strong> deems a node to be fit for hosting a pod based on the absence
of port conflicts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "PodFitsPorts"}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>PodFitsResources</em></strong> determines a fit based on resource availability. The
nodes can declare their resource capacities and then pods can specify what
resources they require. Fit is based on requested, rather than used
resources.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "PodFitsResources"}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>NoDiskConflict</em></strong> determines fit based on non-conflicting disk volumes.
It evaluates if a pod can fit due to the volumes it requests, and those that are
already mounted. It is GCE PD, Amazon EBS, and Ceph RBD specific.
Only Persistent Volume Claims for those supported types are checked.
Persistent Volumes added directly to pods are not evaluated and are not constrained by this policy.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "NoDiskConflict"}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>MatchNodeSelector</em></strong> determines fit based on node selector query that is
defined in the pod.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "MatchNodeSelector"}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>HostName</em></strong> determines fit based on the presence of the Host parameter
and a string match with the name of the host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "HostName"}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-predicates"><a class="anchor" href="#configurable-predicates"></a>Configurable Predicates</h3>
<div class="paragraph">
<p>These predicates can be configured by the user to tweak their functioning. They
can be given any user-defined name. The type of the predicate is identified by
the argument that they take. Since these are configurable, multiple predicates
of the same type (but different configuration parameters) can be combined as
long as their user-defined names are different.</p>
</div>
<div class="paragraph">
<p><strong><em>ServiceAffinity</em></strong> filters out nodes that do not belong to the specified
topological level defined by the provided labels. This predicate takes in a list
of labels and ensures affinity within the nodes (that have the same label
values) for pods belonging to the same service. If the pod specifies a value for
the labels in its NodeSelector, then the nodes matching those labels are the
ones where the pod is scheduled. If the pod does not specify the labels in its
NodeSelector, then the first pod can be placed on any node based on availability
and all subsequent pods of the service are scheduled on nodes that have the
same label values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "Zone", "argument" : {"serviceAffinity" : {"labels" : ["zone"]}}}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>LabelsPresence</em></strong> checks whether a particular node has a certain label
defined or not, regardless of its value. Matching by label can be useful, for
example, where nodes have their physical location or status defined by labels.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "RequireRegion", "argument" : {"labelsPresence" : {"labels" : ["region"], "presence" : true}}}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If "presence" is false, and any of the requested labels match any of the
node labels, it returns false. Otherwise, it returns true.</p>
</li>
<li>
<p>If "presence" is true, and any of the requested labels do not match any of
the node&#8217;s labels, it returns false. Otherwise, it returns true.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="available-priority-functions"><a class="anchor" href="#available-priority-functions"></a>Available Priority Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A custom set of priority functions can be specified to configure the scheduler.
There are several priority functions provided out-of-the-box in Kubernetes.
Some of these priority functions can be customized by providing certain
parameters. Multiple priority functions can be combined and different weights
can be given to each in order to impact the prioritization. A weight is required
to be specified and cannot be 0 or negative.</p>
</div>
<div class="sect2">
<h3 id="static-priority-functions"><a class="anchor" href="#static-priority-functions"></a>Static Priority Functions</h3>
<div class="paragraph">
<p>These priority functions do not take any configuration parameters or inputs from
the user. These are specified in the scheduler configuration using their exact
name as well as the weight.</p>
</div>
<div class="paragraph">
<p><strong><em>LeastRequestedPriority</em></strong> favors nodes with fewer requested resources. It
calculates the percentage of memory and CPU requested by pods scheduled on the
node, and prioritizes nodes that have the highest available/remaining capacity.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "LeastRequestedPriority", "weight" : 1}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>BalancedResourceAllocation</em></strong> favors nodes with balanced resource usage rate.
It calculates the difference between the consumed CPU and memory as a fraction
of capacity, and prioritizes the nodes based on how close the two metrics are to
each other. This should always be used together with <em>LeastRequestedPriority</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "BalancedResourceAllocation", "weight" : 1}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>ServiceSpreadingPriority</em></strong> spreads pods by minimizing the number of pods
belonging to the same service onto the same machine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "ServiceSpreadingPriority", "weight" : 1}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>EqualPriority</em></strong> gives an equal weight of one to all nodes, if no priority
configs are provided. It is not required/recommended outside of testing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "EqualPriority", "weight" : 1}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-priority-functions"><a class="anchor" href="#configurable-priority-functions"></a>Configurable Priority Functions</h3>
<div class="paragraph">
<p>These priority functions can be configured by the user by providing certain
parameters.  They can be given any user-defined name. The type of the priority
function is identified by the argument that they take. Since these are
configurable, multiple priority functions of the same type (but different
configuration parameters) can be combined as long as their user-defined names
are different.</p>
</div>
<div class="paragraph">
<p><strong><em>ServiceAntiAffinity</em></strong> takes a label and ensures a good spread of the pods
belonging to the same service across the group of nodes based on the label
values. It gives the same score to all nodes that have the same value for the
specified label. It gives a higher score to nodes within a group with the least
concentration of pods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "RackSpread", "weight" : 1, "argument" : {"serviceAntiAffinity" : {"label" : "rack"}}}</pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>LabelPreference</em></strong> prefers nodes that have a particular label defined or not,
regardless of its value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" : "RackPreferred", "weight" : 1, "argument" : {"labelPreference" : {"label" : "rack"}}}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduler-policy"><a class="anchor" href="#scheduler-policy"></a>Scheduler Policy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The selection of the predicate and priority functions defines the policy for the
scheduler. Administrators can provide a JSON file that specifies the predicates
and priority functions to configure the scheduler. The path to the scheduler
policy file can be specified in the master configuration file. In the absence of
the scheduler policy file, the default configuration gets applied.</p>
</div>
<div class="paragraph">
<p>It is important to note that the predicates and priority functions defined in
the scheduler configuration file completely override the default scheduler
policy. If any of the default predicates and priority functions are required,
they have to be explicitly specified in the scheduler configuration file.</p>
</div>
<div class="sect2">
<h3 id="default-scheduler-policy"><a class="anchor" href="#default-scheduler-policy"></a>Default Scheduler Policy</h3>
<div class="paragraph">
<p>The default scheduler policy includes the following predicates:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NoVolumeZoneConflict</p>
</li>
<li>
<p>MaxEBSVolumeCount</p>
</li>
<li>
<p>MaxGCEPDVolumeCount</p>
</li>
<li>
<p>MatchInterPodAffinity</p>
</li>
<li>
<p>NoDiskConflict</p>
</li>
<li>
<p>GeneralPredicates</p>
</li>
<li>
<p>PodToleratesNodeTaints</p>
</li>
<li>
<p>CheckNodeMemoryPressure</p>
</li>
<li>
<p>CheckNodeDiskPressure</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The default scheduler policy includes the following priority functions. Each of
the priority function has a weight of <code>1</code> except <code><strong>NodePreferAvoidPodsPriority</strong></code>,
which has a weight of <code>10000</code>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>SelectorSpreadPriority</p>
</li>
<li>
<p>InterPodAffinityPriority</p>
</li>
<li>
<p>LeastRequestedPriority</p>
</li>
<li>
<p>BalancedResourceAllocation</p>
</li>
<li>
<p>NodePreferAvoidPodsPriority</p>
</li>
<li>
<p>NodeAffinityPriority</p>
</li>
<li>
<p>TaintTolerationPriority</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="modifying-scheduler-policy"><a class="anchor" href="#modifying-scheduler-policy"></a>Modifying Scheduler Policy</h3>
<div class="paragraph">
<p>The scheduler policy is defined in a file on the master,
named <strong><em>/etc/origin/master/scheduler.json</em></strong> by default,
unless overridden by the <code>kubernetesMasterConfig.schedulerConfigFile</code>
field in the
<a href="../../install_config/master_node_configuration.html#master-configuration-files">master configuration file</a>.</p>
</div>
<div class="paragraph">
<p>To modify the scheduler policy:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit the scheduler configuration file to set the desired
<a href="#default-scheduler-policy">predicates and priority functions</a>.
You can create a custom configuration, or modify one of the
<a href="#scheduler-sample-policies">sample policy configurations</a>.</p>
</li>
<li>
<p>Restart the OpenShift Origin
<a href="../../install_config/master_node_configuration.html#launching-servers-using-configuration-files">master services</a>
for the changes to take effect.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="anchor" href="#use-cases"></a>Use Cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the important use cases for scheduling within OpenShift Origin is to
support flexible affinity and anti-affinity policies.</p>
</div>
<div class="sect2">
<h3 id="infrastructure-topological-levels"><a class="anchor" href="#infrastructure-topological-levels"></a>Infrastructure Topological Levels</h3>
<div class="paragraph">
<p>Administrators can define multiple topological levels for their infrastructure
(nodes).
This is done by specifying
<a href="../../admin_guide/manage_nodes.html#updating-labels-on-nodes">labels on nodes</a>
(e.g., <code>region=r1</code>, <code>zone=z1</code>, <code>rack=s1</code>).
These label names have no particular meaning and
administrators are free to name their infrastructure levels anything
(eg, city/building/room). Also, administrators can define any number of levels
for their infrastructure topology, with three levels usually being adequate
(eg. regions &#8594; zones &#8594; racks).  Lastly, administrators can specify affinity
and anti-affinity rules at each of these levels in any combination.</p>
</div>
</div>
<div class="sect2">
<h3 id="affinity"><a class="anchor" href="#affinity"></a>Affinity</h3>
<div class="paragraph">
<p>Administrators should be able to configure the scheduler to specify affinity at
any topological level, or even at multiple levels. Affinity at a particular
level indicates that all pods that belong to the same service are scheduled
onto nodes that belong to the same level. This handles any latency requirements
of applications by allowing administrators to ensure that peer pods do not end
up being too geographically separated. If no node is available within the same
affinity group to host the pod, then the pod is not scheduled.</p>
</div>
<div class="paragraph">
<p>If you need greater control over where the pods are scheduled, see
<a href="../../admin_guide/scheduling/node_affinity.html#admin-guide-sched-affinity">Using Node Affinity</a>
and  <a href="../../admin_guide/scheduling/pod_affinity.html#admin-guide-sched-pod-affinity">Using Pod Affinity and Anti-affinity</a>.
These advanced scheduling features allow administrators
to specify which node a pod can be scheduled on and to force or reject scheduling relative to other pods.</p>
</div>
</div>
<div class="sect2">
<h3 id="anti-affinity"><a class="anchor" href="#anti-affinity"></a>Anti Affinity</h3>
<div class="paragraph">
<p>Administrators should be able to configure the scheduler to specify
anti-affinity at any topological level, or even at multiple levels.
Anti-affinity (or 'spread') at a particular level indicates that all pods that
belong to the same service are spread across nodes that belong to that
level. This ensures that the application is well spread for high availability
purposes. The scheduler tries to balance the service pods across all
applicable nodes as evenly as possible.</p>
</div>
<div class="paragraph">
<p>If you need greater control over where the pods are scheduled, see
<a href="../../admin_guide/scheduling/node_affinity.html#admin-guide-sched-affinity">Using Node Affinity</a>
and  <a href="../../admin_guide/scheduling/pod_affinity.html#admin-guide-sched-pod-affinity">Using Pod Affinity and Anti-affinity</a>.
These advanced scheduling features allow administrators
to specify which node a pod can be scheduled on and to force or reject scheduling relative to other pods.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduler-sample-policies"><a class="anchor" href="#scheduler-sample-policies"></a>Sample Policy Configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The configuration below specifies the default scheduler configuration, if it
were to be specified via the scheduler policy file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>kind: "Policy"
version: "v1"
predicates:
  - name: "PodFitsPorts"
  - name: "PodFitsResources"
  - name: "NoDiskConflict"
  - name: "MatchNodeSelector"
  - name: "HostName"
priorities:
  - name: "LeastRequestedPriority"
    weight: 1
  - name: "BalancedResourceAllocation"
    weight: 1
  - name: "ServiceSpreadingPriority"
    weight: 1</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In all of the sample configurations below, the list of predicates and priority
functions is truncated to include only the ones that pertain to the use case
specified.  In practice, a complete/meaningful scheduler policy should include
most, if not all, of the default predicates and priority functions listed above.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Three topological levels defined as region (affinity) -&#8594; zone (affinity) -&#8594; rack (anti-affinity)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>kind: "Policy"
version: "v1"
predicates:
...
  - name: "RegionZoneAffinity"
    argument:
      serviceAffinity:
        labels:
          - "region"
          - "zone"
priorities:
...
  - name: "RackSpread"
    weight: 1
    argument:
      serviceAntiAffinity:
        label: "rack"</pre>
</div>
</div>
<div class="paragraph">
<p>Three topological levels defined as city (affinity) &#8594; building
(anti-affinity) &#8594; room (anti-affinity):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>kind: "Policy"
version: "v1"
predicates:
...
  - name: "CityAffinity"
    argument:
      serviceAffinity:
        labels:
          - "city"
priorities:
...
  - name: "BuildingSpread"
    weight: 1
    argument:
      serviceAntiAffinity:
        label: "building"
  - name: "RoomSpread"
    weight: 1
    argument:
      serviceAntiAffinity:
        label: "room"</pre>
</div>
</div>
<div class="paragraph">
<p>Only use nodes with the 'region' label defined and prefer nodes with the 'zone'
label defined:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>kind: "Policy"
version: "v1"
predicates:
...
  - name: "RequireRegion"
    argument:
      labelsPresence:
        labels:
          - "region"
        presence: true
priorities:
...
  - name: "ZonePreferred"
    weight: 1
    argument:
      labelPreference:
        label: "zone"
        presence: true</pre>
</div>
</div>
<div class="paragraph">
<p>Configuration example combining static and configurable predicates and
priority functions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>kind: "Policy"
version: "v1"
predicates:
...
  - name: "RegionAffinity"
    argument:
      serviceAffinity:
        labels:
          - "region"
  - name: "RequireRegion"
    argument:
      labelsPresence:
        labels:
          - "region"
        presence: true
  - name: "BuildingNodesAvoid"
    argument:
      labelsPresence:
        labels:
          - "building"
        presence: false
  - name: "PodFitsPorts"
  - name: "MatchNodeSelector"
priorities:
...
  - name: "ZoneSpread"
    weight: 2
    argument:
      serviceAntiAffinity:
        label: "zone"
  - name: "ZonePreferred"
    weight: 1
    argument:
      labelPreference:
        label: "zone"
        presence: true
  - name: "ServiceSpreadingPriority"
    weight: 1</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduler-extensibility"><a class="anchor" href="#scheduler-extensibility"></a>Scheduler Extensibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As is the case with almost everything else in Kubernetes/OpenShift Origin, the
scheduler is built using a plug-in model and the current implementation itself
is a plug-in. There are two ways to extend the scheduler functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enhancements</p>
</li>
<li>
<p>Replacement</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="enhancements"><a class="anchor" href="#enhancements"></a>Enhancements</h3>
<div class="paragraph">
<p>The scheduler functionality can be enhanced by adding new predicates and
priority functions. They can either be contributed upstream or maintained
separately. These predicates and priority functions would need to be registered
with the scheduler factory and then specified in the scheduler policy file.</p>
</div>
</div>
<div class="sect2">
<h3 id="replacement"><a class="anchor" href="#replacement"></a>Replacement</h3>
<div class="paragraph">
<p>Since the scheduler is a plug-in, it can be replaced in favor of an alternate
implementation. The scheduler code has a clean separation that watches new pods
as they get created and identifies the most suitable node to host them. It then
creates bindings (pod to node bindings) for the pods using the master API.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="controlling-pod-placement"><a class="anchor" href="#controlling-pod-placement"></a>Controlling Pod Placement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a cluster administrator, you can set a policy to prevent application
developers with certain roles from targeting specific nodes when scheduling
pods.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This process involves the <strong>pods/binding</strong> permission
<a href="../../admin_guide/manage_rbac.html#admin-guide-manage-rbac">role</a>, which is needed to
target particular nodes. The constraint on the use of the <code>nodeSelector</code> field
of a pod configuration is based on the <strong>pods/binding</strong> permission and the
<code>nodeSelectorLabelBlacklist</code> configuration option.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>nodeSelectorLabelBlacklist</code> field of a master configuration file gives you
control over the labels that certain roles can specify in a pod configuration&#8217;s
<code>nodeSelector</code> field. Users, service accounts, and groups that have the
<strong>pods/binding</strong> permission can specify any node selector. Those without the
<strong>pods/binding</strong> permission are prohibited from setting a <code>nodeSelector</code> for any
label that appears in <code>nodeSelectorLabelBlacklist</code>.</p>
</div>
<div class="paragraph">
<p>As a hypothetical example, an OpenShift Origin cluster might consist of five data
centers spread across two regions. In the U.S., "us-east", "us-central", and
"us-west"; and in the Asia-Pacific region (APAC), "apac-east" and "apac-west".
Each node in each geographical region is labeled accordingly. For example,
<code>region: us-east</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>See <a href="../../admin_guide/manage_nodes.html#updating-labels-on-nodes">Updating
Labels on Nodes</a> for details on assigning labels.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As a cluster administrator, you can create an infrastructure where application
developers should be deploying pods only onto the nodes closest to their
geographical location. You can
<a href="../../admin_guide/managing_projects.html#using-node-selectors">create a node
selector</a>, grouping the U.S. data centers into <code>superregion: us</code> and the APAC
data centers into <code>superregion: apac</code>.</p>
</div>
<div class="paragraph">
<p>To maintain an even loading of resources per data center, you can add the
desired <code>region</code> to the <code>nodeSelectorLabelBlacklist</code> section of a master
configuration. Then, whenever a developer located in the U.S. creates a pod, it
is deployed onto a node in one of the regions with the <code>superregion: us</code> label.
If the developer tries to target a specific region for their pod (for example,
<code>region: us-east</code>), they receive an error. If they try again, without the
node selector on their pod, it can still be deployed onto the region they tried
to target, because <code>superregion: us</code> is set as the project-level node selector,
and nodes labeled <code>region: us-east</code> are also labeled <code>superregion: us</code>.</p>
</div>
<div class="sect2">
<h3 id="constraining-pod-placement-labels"><a class="anchor" href="#constraining-pod-placement-labels"></a>Constraining Pod Placement Using Node Name</h3>
<div class="paragraph">
<p>Ensure a pod is deployed onto only a specified node host by assigning it a label
and specifying this in the <code>nodeName</code> setting in a pod configuration.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure you have the desired labels and
<a href="../../admin_guide/managing_projects.html#using-node-selectors">node selector</a>
set up in your environment.</p>
<div class="paragraph">
<p>For example, make sure that your pod configuration features the <code>nodeName</code>
value indicating the desired label:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>apiVersion: v1
kind: Pod
spec:
  nodeName: &lt;value&gt;</pre>
</div>
</div>
</li>
<li>
<p>Modify the master configuration file
(<strong><em>/etc/origin/master/master-config.yaml</em></strong>) in two places:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add <code>nodeSelectorLabelBlacklist</code> to the <code>admissionConfig</code> section:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>...
admissionConfig:
  pluginConfig:
    PodNodeConstraints:
      configuration:
        apiversion: v1
        kind: PodNodeConstraintsConfig
...</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Then, add the same to the <code>kubernetesMasterConfig</code> section to restrict direct pod creation:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>...
kubernetesMasterConfig:
  admissionConfig:
    pluginConfig:
      PodNodeConstraints:
        configuration:
          apiVersion: v1
          kind: PodNodeConstraintsConfig
...</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Restart OpenShift Origin for the changes to take effect.</p>
<div class="listingblock">
<div class="content">
<pre># systemctl restart origin-master</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="constraining-pod-placement-nodeselector"><a class="anchor" href="#constraining-pod-placement-nodeselector"></a>Constraining Pod Placement Using a Node Selector</h3>
<div class="paragraph">
<p>Using <code>nodeSelector</code> in a pod configuration, you can ensure that pods are only
placed onto nodes with specific labels.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure you have the desired labels
(see <a href="../../admin_guide/manage_nodes.html#updating-labels-on-nodes">Updating
Labels on Nodes</a> for details)
and <a href="../../admin_guide/managing_projects.html#using-node-selectors">node selector</a>
set up in your environment.</p>
<div class="paragraph">
<p>For example, make sure that your pod configuration features the <code>nodeSelector</code>
value indicating the desired label:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>apiVersion: v1
kind: Pod
spec:
  nodeSelector:
    &lt;key&gt;: &lt;value&gt;
...</pre>
</div>
</div>
</li>
<li>
<p>Modify the master configuration file
(<strong><em>/etc/origin/master/master-config.yaml</em></strong>) in two places:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add <code>nodeSelectorLabelBlacklist</code> to the <code>admissionConfig</code> section with
the labels that are assigned to the node hosts you want to deny pod placement:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>...
admissionConfig:
  pluginConfig:
    PodNodeConstraints:
      configuration:
        apiversion: v1
        kind: PodNodeConstraintsConfig
        nodeSelectorLabelBlacklist:
          - kubernetes.io/hostname
          - &lt;label&gt;
...</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Then, add the same to the <code>kubernetesMasterConfig</code> section to restrict direct pod creation:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>...
kubernetesMasterConfig:
  admissionConfig:
    pluginConfig:
      PodNodeConstraints:
        configuration:
          apiVersion: v1
          kind: PodNodeConstraintsConfig
          nodeSelectorLabelBlacklist:
            - kubernetes.io/hostname
            - &lt;label_1&gt;
...</pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Restart OpenShift Origin for the changes to take effect.</p>
<div class="listingblock">
<div class="content">
<pre># systemctl restart origin-master</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="control-pod-placement-to-projects"><a class="anchor" href="#control-pod-placement-to-projects"></a>Control Pod Placement to Projects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Pod Node Selector</em> admission controller allows you to force pods onto nodes associated with a specific project and prevent pods from being scheduled in those nodes.</p>
</div>
<div class="paragraph">
<p>The <strong>Pod Node Selector</strong> admission controller determines where a pod can be placed using <a href="../../architecture/core_concepts/pods_and_services.html#labels">labels on projects</a> and node selectors specified in pods. A new pod will be placed on a node associated with a project  only if the node selectors in the pod match the labels in the project.</p>
</div>
<div class="paragraph">
<p>After the pod is created, the node selectors are merged into the pod so that the pod specification includes the labels originally included in the specification and any new labels from the node selectors. The example below illustrates the merging effect.</p>
</div>
<div class="paragraph">
<p>The <strong>Pod Node Selector</strong> admission controller also allows you to create a list of labels that are permitted in a specific project. This list acts as a <em>whitelist</em> that lets developers know what labels are acceptable to use in a project and gives administrators greater control over labeling in a cluster.</p>
</div>
<div class="paragraph">
<p>To activate the <strong>Pod Node Selector</strong> admission controller, add the following to the master configuration file (<strong><em>/etc/origin/master/master-config.yaml</em></strong>) or create a file and reference the file in the master configuration:</p>
</div>
<div class="listingblock">
<div class="title">Master configuration file with the <strong>Pod Node Selector</strong> admission controller and whitelist</div>
<div class="content">
<pre>admissionConfig:
  pluginConfig:
    PodNodeSelector:
      configuration:
        podNodeSelectorPluginConfig: <i class="conum" data-value="1"></i><b>(1)</b>
          clusterDefaultNodeSelector: "k3=v3" <i class="conum" data-value="2"></i><b>(2)</b>
          ns1: region=west,env=test,infra=fedora,os=fedora <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Adds the <strong>Pod Node Selector</strong> admission controller plug-in.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Creates default labels for all nodes.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Creates a whitelist of permitted labels in the specified project. Here, the project is <code>ns1</code> and the labels are the <code>key=value</code> pairs that follow.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, create a file containing the admission controller information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>podNodeSelectorPluginConfig:
    clusterDefaultNodeSelector: "k3=v3"
     ns1: region=west,env=test,infra=fedora,os=fedora</pre>
</div>
</div>
<div class="paragraph">
<p>Then, reference the file in the master configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>admissionConfig:
  pluginConfig:
    PodNodeSelector:
      location: &lt;path-to-file&gt;</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a project does not have a node selectors specified, the pods associated with that project will be merged with the using the default node selector (<code>clusterDefaultNodeSelector</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To schedule pods onto specific project nodes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Activate the <strong>Pod Node Selector</strong> admission controller:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Modify the master configuration file (<strong><em>/etc/origin/master/master-config.yaml</em></strong>) to add the admission controller plug-in and labels:</p>
<div class="listingblock">
<div class="content">
<pre>admissionConfig:
  pluginConfig:
    PodNodeSelector:
      configuration:
        podNodeSelectorPluginConfig:
          clusterDefaultNodeSelector: "k3=v3"
          ns1: region=west,env=test,infra=fedora,os=fedora</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Restart OpenShift Origin for the changes to take effect.</p>
<div class="listingblock">
<div class="content">
<pre># systemctl restart origin-master</pre>
</div>
</div>
</li>
<li>
<p>Create a project object that includes the
<code>scheduler.alpha.kubernetes.io/node-selector</code> annotation and labels.</p>
<div class="listingblock">
<div class="content">
<pre>{
    "kind": "Namespace",
    "apiVersion": "v1",
    "metadata": {
        "name": "ns1",
        "annotations": {
            "scheduler.alpha.kubernetes.io/node-selector": "env=test,infra=fedora" <i class="conum" data-value="1"></i><b>(1)</b>
        }
    },
    "spec": {},
    "status": {}
}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Annotation to create the labels to match the project label selector. Here, the key/value labels are <code>env=test</code> and <code>infra=fedora</code>.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a pod specification that includes the labels in the node selector, for example:</p>
<div class="listingblock">
<div class="content">
<pre>apiVersion: v1
kind: Pod
metadata:
  labels:
    name: hello-pod
  name: hello-pod
spec:
  containers:
    - image: "docker.io/ocpqe/hello-pod:latest"
      imagePullPolicy: IfNotPresent
      name: hello-pod
      ports:
        - containerPort: 8080
          protocol: TCP
      resources: {}
      securityContext:
        capabilities: {}
        privileged: false
      terminationMessagePath: /dev/termination-log
  dnsPolicy: ClusterFirst
  restartPolicy: Always
  nodeSelector: <i class="conum" data-value="1"></i><b>(1)</b>
    env: test
    os: fedora
  serviceAccount: ""
status: {}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Node selectors to match project labels.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create the pod in the project:</p>
<div class="listingblock">
<div class="content">
<pre>oc create -f pod.yaml --namespace=ns1</pre>
</div>
</div>
</li>
<li>
<p>Check that the node selector labels were added to the pod configuration:</p>
<div class="listingblock">
<div class="content">
<pre>get pod pod1 --namespace=ns1 -o json

nodeSelector": {
 "env": "test",
 "infra": "fedora",
 "os": "fedora"
}</pre>
</div>
</div>
<div class="paragraph">
<p>The node selectors are merged into the pod and the pod should be scheduled in the appropriate project.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you create a pod with a label that is not specified in the project specification, the pod is not scheduled on the node.</p>
</div>
<div class="paragraph">
<p>For example, here the label <code>env: production</code> is not in any project specification:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nodeSelector:
 "env: production"
 "infra": "fedora",
 "os": "fedora"</pre>
</div>
</div>
<div class="paragraph">
<p>If there is a node that does not have a node selector annotation, the pod will be scheduled there.</p>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-origin-docs">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div id="footer_social">
          <a href="https://twitter.com/openshift" class="first">
            <span>
              <i class="fa fa-twitter-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://github.com/openshift/origin">
            <span>
              <i class="fa fa-github fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://plus.google.com/communities/114361859072744017486">
            <span>
              <i class="fa fa-google-plus-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://www.facebook.com/openshift">
            <span>
              <i class="fa fa-facebook-square fa-2x fa-inverse"></i>
            </span>
          </a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <a id="footer_logo" href="https://www.redhat.com/">
          <img alt="Red Hat" src="https://assets.openshift.net/app/assets/redhat.svg">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-center">
        <a id="powered_by_openshift" title="Powered by OpenShift Online with the DIY Cartridge" href="https://hub.openshift.com/quickstarts/92-do-it-yourself-0-1">
          <img src="https://www.openshift.com/sites/default/files/images/powered-transparent-white.png" alt="Powered by OpenShift Online">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-right">
        <a id="built_with_asciibinder" title="Built with AsciiBinder docs management system" href="http://asciibinder.org/">
          <img src="../../../trello143-jenkins-memory-usage-tuning/_images/asciibinder_web_logo.svg" alt="AsciiBinder">
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="attribution">
          <button type="button" class="btn btn-link" data-html="true" data-container="body" data-toggle="popover" data-placement="top" data-content="
            '<a target='_blank' href='https://www.flickr.com/photos/eflon/3655695161/'>Spin</a>' by <a target='_blank' href='https://www.flickr.com/photos/eflon/'>eflon</a>,</br> used under <a target='_blank' href='https://creativecommons.org/licenses/by/2.0/'>CC BY 2.0</a> </br>Color tint added to original">
            Image attribution
          </button>
        </div>
      </div>
    </div>
    <script>
    $(function () {
      $('[data-toggle="popover"]').popover()
    })
    </script>
  </div>
</footer>
</body>
</html>