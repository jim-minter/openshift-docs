<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Advanced Installation - Installing a Cluster | Installation and Configuration | OpenShift Origin Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../../go-client-preview/_stylesheets/docs.css" rel="stylesheet" />
  <link href="../../../go-client-preview/_stylesheets/search.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../../go-client-preview/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../../go-client-preview/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../../go-client-preview/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="../../../go-client-preview/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="../../../go-client-preview/_javascripts/hc-search.js" type="text/javascript"></script>
  <script async src="//www.google-analytics.com/analytics.js" type="text/javascript"></script>
<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-40375612-1', 'openshift.org');
  ga('set', 'forceSSL', true);
  ga('send', 'pageview');
</script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift navbar-origin" role="navigation">
  <div class="navbar-header">
    <a class="navbar-brand origin" href="/"></a>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../welcome/index.html">OpenShift Origin Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../install_config/index.html">Installation and Configuration</a>
      </li>
      <li class="hidden-xs active"><a href="../../install_config/install/planning.html">Installing a Cluster</a></li>
      <li class="hidden-xs active">
        Advanced Installation
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <div id="hc-search">
  <input id="hc-search-input" type="text">
  <button id="hc-search-btn">Search</button>
</div>

<div id="hc-search-modal">
  <div id="hc-modal-content">
    <span id="hc-modal-close">&times;</span>
    <div id="hc-search-results"></div>
  </div>
</div>

<script>
  hcSearchCategory("docs_origin", "Branch Build");
</script>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../../welcome/legal_notice.html">Legal Notice</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>What's New?
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../../whats_new/index.html">Overview</a></li>
            <li><a class="" href="../../whats_new/applications.html">Applications</a></li>
            <li><a class="" href="../../whats_new/carts_vs_images.html">Cartridges vs Images</a></li>
            <li><a class="" href="../../whats_new/terminology.html">Terminology</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../../getting_started/administrators.html">Setting Up a Cluster</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../../architecture/infrastructure_components/image_registry.html">Container Registry</a></li>
                  <li><a class="" href="../../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-4">
                <span id="sgSpan-3-4" class="fa fa-caret-right"></span>&nbsp;Networking
              </a>
              <ul id="topicSubGroup-3-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/networking/networking.html">Networking</a></li>
                  <li><a class="" href="../../architecture/networking/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../../architecture/networking/network_plugins.html">Network Plug-ins</a></li>
                  <li><a class="" href="../../architecture/networking/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../../architecture/networking/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../../architecture/networking/haproxy-router.html">HAProxy Router Plug-in</a></li>
                  <li><a class="" href="../../architecture/networking/routes.html">Routes</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-5">
                <span id="sgSpan-3-5" class="fa fa-caret-right"></span>&nbsp;Service Catalog Components
              </a>
              <ul id="topicSubGroup-3-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/service_catalog/index.html">Service Catalog</a></li>
                  <li><a class="" href="../../architecture/service_catalog/template_service_broker.html">Template Service Broker</a></li>
                  <li><a class="" href="../../architecture/service_catalog/ansible_service_broker.html">OpenShift Ansible Broker</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>Container Security Guide
      </a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../../security/index.html">Introduction</a></li>
            <li><a class="" href="../../security/hosts_multitenancy.html">Container Hosts and Multi-tenancy</a></li>
            <li><a class="" href="../../security/container_content.html">Container Content</a></li>
            <li><a class="" href="../../security/registries.html">Registries</a></li>
            <li><a class="" href="../../security/build_process.html">Build Process</a></li>
            <li><a class="" href="../../security/deployment.html">Deployment</a></li>
            <li><a class="" href="../../security/securing_container_platform.html">Securing the Container Platform</a></li>
            <li><a class="" href="../../security/network_security.html">Network Security</a></li>
            <li><a class="" href="../../security/storage.html">Attached Storage</a></li>
            <li><a class="" href="../../security/monitoring.html">Monitoring Events and Logs</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-down"></span>Installation and Configuration
      </a>
      <ul id="topicGroup5" class="collapse in list-unstyled">
            <li><a class="" href="../../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-1">
                <span id="sgSpan-5-1" class="fa fa-caret-down"></span>&nbsp;Installing a Cluster
              </a>
              <ul id="topicSubGroup-5-1" class="nav-tertiary list-unstyled collapse in">
                  <li><a class="" href="../../install_config/install/planning.html">Planning</a></li>
                  <li><a class="" href="../../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../../install_config/install/host_preparation.html">Host Preparation</a></li>
                  <li><a class="" href="../../install_config/install/rpm_vs_containerized.html">Installing on Containerized Hosts</a></li>
                  <li><a class="" href="../../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class=" active" href="../../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../../install_config/install/stand_alone_registry.html">Installing a Stand-alone Deployment of OpenShift Container Registry</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-2">
                <span id="sgSpan-5-2" class="fa fa-caret-right"></span>&nbsp;Setting up the Registry
              </a>
              <ul id="topicSubGroup-5-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/registry/index.html">Registry Overview</a></li>
                  <li><a class="" href="../../install_config/registry/deploy_registry_existing_clusters.html">Deploying a Registry on Existing Clusters</a></li>
                  <li><a class="" href="../../install_config/registry/accessing_registry.html">Accessing the Registry</a></li>
                  <li><a class="" href="../../install_config/registry/securing_and_exposing_registry.html">Securing and Exposing the Registry</a></li>
                  <li><a class="" href="../../install_config/registry/extended_registry_configuration.html">Extended Registry Configuration</a></li>
                  <li><a class="" href="../../install_config/registry/registry_known_issues.html">Known Issues</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-3">
                <span id="sgSpan-5-3" class="fa fa-caret-right"></span>&nbsp;Setting up a Router
              </a>
              <ul id="topicSubGroup-5-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/router/index.html">Router Overview</a></li>
                  <li><a class="" href="../../install_config/router/default_haproxy_router.html">Using the Default HAProxy Router</a></li>
                  <li><a class="" href="../../install_config/router/customized_haproxy_router.html">Deploying a Customized HAProxy Router</a></li>
                  <li><a class="" href="../../install_config/router/proxy_protocol.html">Configuring the HAProxy Router to Use the PROXY Protocol</a></li>
                  <li><a class="" href="../../install_config/router/f5_router.html">Using the F5 Router Plug-in</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-4">
                <span id="sgSpan-5-4" class="fa fa-caret-right"></span>&nbsp;Upgrading a Cluster
              </a>
              <ul id="topicSubGroup-5-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/upgrading/automated_upgrades.html">Automated In-place Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/manual_upgrades.html">Manual In-place Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/blue_green_deployments.html">Blue-Green Deployments</a></li>
                  <li><a class="" href="../../install_config/upgrading/os_upgrades.html">Operating System Updates and Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/migrating_embedded_etcd.html">Migrating Embedded etcd to External etcd</a></li>
                  <li><a class="" href="../../install_config/upgrading/migrating_etcd.html">Migrating etcd Data (v2 to v3)</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../../install_config/oab_broker_configuration.html">OpenShift Ansible Broker Configuration</a></li>
            <li><a class="" href="../../install_config/adding_hosts_to_existing_cluster.html">Adding Hosts to an Existing Cluster</a></li>
            <li><a class="" href="../../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../../install_config/redeploying_certificates.html">Redeploying Certificates</a></li>
            <li><a class="" href="../../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-13">
                <span id="sgSpan-5-13" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-5-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../../install_config/configuring_nuagesdn.html">Configuring Nuage SDN</a></li>
            <li><a class="" href="../../install_config/configuring_kuryrsdn.html">Configuring Kuryr SDN</a></li>
            <li><a class="" href="../../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li><a class="" href="../../install_config/configuring_azure.html">Configuring for Azure</a></li>
            <li><a class="" href="../../install_config/configuring_vsphere.html">Configuring for VMWare vSphere</a></li>
            <li><a class="" href="../../install_config/configuring_local.html">Configuring for local Volume</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-23">
                <span id="sgSpan-5-23" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-5-23" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_azure.html">Using Azure Disk</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_azure_file.html">Using Azure File</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_flex_volume.html">Using FlexVolume</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_vsphere.html">Using VMWare vSphere</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_local.html">Using Local Volume</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning and Creating Storage Classes</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/selector_label_binding.html">Selector-Label Volume Binding</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/enabling_controller_attach_detach.html">Enabling Controller-managed Attachment and Detachment</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-24">
                <span id="sgSpan-5-24" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-5-24" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../../install_config/storage_examples/ceph_rbd_dynamic_example.html">Complete Example Using Ceph RBD for Dynamic Provisioning</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_dynamic_example.html">Dynamic Provisioning Example Using Containerized GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/dedicated_gluster_dynamic_example.html">Dynamic Provisioning Example Using Dedicated GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/containerized_heketi_with_dedicated_gluster.html">Containerized Heketi for Managing Dedicated GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
                  <li><a class="" href="../../install_config/storage_examples/binding_pv_by_label.html">Binding Persistent Volumes by Label</a></li>
                  <li><a class="" href="../../install_config/storage_examples/storage_classes_dynamic_provisioning.html">Using StorageClasses for Dynamic Provisioning</a></li>
                  <li><a class="" href="../../install_config/storage_examples/storage_classes_legacy.html">Using StorageClasses for Existing Legacy Storage</a></li>
                  <li><a class="" href="../../install_config/storage_examples/azure_blob_docker_registry_example.html">Configuring Azure Blob Storage for Integrated Docker Registry</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../../install_config/configuring_pipeline_execution.html">Configuring Pipeline Execution</a></li>
            <li><a class="" href="../../install_config/configuring_routing.html">Configuring Route Timeouts</a></li>
            <li><a class="" href="../../install_config/configuring_native_container_routing.html">Configuring Native Container Routing</a></li>
            <li><a class="" href="../../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../../install_config/aggregate_logging_sizing.html">Aggregate Logging Sizing Guidelines</a></li>
            <li><a class="" href="../../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../../install_config/provisioners.html">Deploying External Persistent Volume Provisioners</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Day Two Operations Guide
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../../day_two_guide/index.html">Overview</a></li>
            <li><a class="" href="../../day_two_guide/run_once_tasks.html">Run-once tasks</a></li>
            <li><a class="" href="../../day_two_guide/environment_health_checks.html">Environment health checks</a></li>
            <li><a class="" href="../../day_two_guide/host_level_tasks.html">Host-level tasks</a></li>
            <li><a class="" href="../../day_two_guide/project_level_tasks.html">Project-level tasks</a></li>
            <li><a class="" href="../../day_two_guide/docker_tasks.html">Docker tasks</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../../admin_guide/managing_pods.html">Managing Pods</a></li>
            <li><a class="" href="../../admin_guide/managing_networking.html">Managing Networking</a></li>
            <li><a class="" href="../../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../../admin_guide/manage_rbac.html">Managing Role-based Access Control</a></li>
            <li><a class="" href="../../admin_guide/image_policy.html">Image Policy</a></li>
            <li><a class="" href="../../admin_guide/image_signatures.html">Image Signatures</a></li>
            <li><a class="" href="../../admin_guide/scoped_tokens.html">Scoped Tokens</a></li>
            <li><a class="" href="../../admin_guide/monitoring_images.html">Monitoring Images</a></li>
            <li><a class="" href="../../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-13">
                <span id="sgSpan-7-13" class="fa fa-caret-right"></span>&nbsp;Scheduling
              </a>
              <ul id="topicSubGroup-7-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../admin_guide/scheduling/index.html">Overview</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/scheduler.html">Default Scheduling</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/custom_scheduler.html">Custom Scheduling</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/scheduler-advanced.html">Advanced Scheduling</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/node_affinity.html">Advanced Scheduling and Node Affinity</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/pod_affinity.html">Advanced Scheduling and Pod Affinity/Anti-affinity</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/node_selector.html">Advanced Scheduling and Node Selectors</a></li>
                  <li><a class="" href="../../admin_guide/scheduling/taints_tolerations.html">Advanced Scheduling and Taints and Tolerations</a></li>
              </ul>
            </li>
            <li><a class="" href="../../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../../admin_guide/multiproject_quota.html">Setting Multi-Project Quotas</a></li>
            <li><a class="" href="../../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../../admin_guide/custom_resource_definitions.html">Extending the Kubernetes API with Custom Resources</a></li>
            <li><a class="" href="../../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../../admin_guide/opaque_integer_resources.html">Opaque Integer Resources</a></li>
            <li><a class="" href="../../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../../admin_guide/tcp_ingress_external_ports.html">Assigning Unique External IPs for Ingress Traffic</a></li>
            <li><a class="" href="../../admin_guide/out_of_resource_handling.html">Out of Resource Handling</a></li>
            <li><a class="" href="../../admin_guide/router.html">Monitoring and Debugging Routers</a></li>
            <li><a class="" href="../../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../../admin_guide/seccomp.html">Restricting Application Capabilities Using Seccomp</a></li>
            <li><a class="" href="../../admin_guide/sysctls.html">Sysctls</a></li>
            <li><a class="" href="../../admin_guide/encrypting_data.html">Encrypting Data at Datastore Layer</a></li>
            <li><a class="" href="../../admin_guide/ipsec.html">Encrypting Hosts with IPsec</a></li>
            <li><a class="" href="../../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../../admin_guide/backup_restore.html">Backup and Restore</a></li>
            <li><a class="" href="../../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../../admin_guide/diagnostics_tool.html">Diagnostics Tool</a></li>
            <li><a class="" href="../../admin_guide/idling_applications.html">Idling Applications</a></li>
            <li><a class="" href="../../admin_guide/cluster_capacity.html">Analyzing Cluster Capacity</a></li>
            <li><a class="" href="../../admin_guide/kuryr.html">Kuryr SDN Administration</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Scaling and Performance Guide
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../../scaling_performance/index.html">Overview</a></li>
            <li><a class="" href="../../scaling_performance/install_practices.html">Recommended Installation Practices</a></li>
            <li><a class="" href="../../scaling_performance/host_practices.html">Recommended Host Practices</a></li>
            <li><a class="" href="../../scaling_performance/optimizing_compute_resources.html">Optimizing Compute Resources</a></li>
            <li><a class="" href="../../scaling_performance/optimizing_storage.html">Optimizing Storage</a></li>
            <li><a class="" href="../../scaling_performance/network_optimization.html">Network Optimization</a></li>
            <li><a class="" href="../../scaling_performance/routing_optimization.html">Routing Optimization</a></li>
            <li><a class="" href="../../scaling_performance/scaling_cluster_metrics.html">Scaling Cluster Metrics</a></li>
            <li><a class="" href="../../scaling_performance/cluster_limits.html">Cluster Limits</a></li>
            <li><a class="" href="../../scaling_performance/using_cluster_loader.html">Using Cluster Loader</a></li>
            <li><a class="" href="../../scaling_performance/using_cpu_manager.html">Using CPU Manager</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/extend_cli.html">Extending the CLI</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../../dev_guide/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1">
                <span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Application Life Cycle Management
              </a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/application_lifecycle/development_process.html">Planning Your Development Process</a></li>
                  <li><a class="" href="../../dev_guide/application_lifecycle/new_app.html">Creating New Applications</a></li>
                  <li><a class="" href="../../dev_guide/application_lifecycle/promoting_applications.html">Promoting Applications Across Environments</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../../dev_guide/authorization.html">Authorization</a></li>
            <li><a class="" href="../../dev_guide/projects.html">Projects</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-5">
                <span id="sgSpan-10-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-10-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/migrating_applications/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>
                  <li><a class="" href="../../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-6">
                <span id="sgSpan-10-6" class="fa fa-caret-right"></span>&nbsp;Tutorials
              </a>
              <ul id="topicSubGroup-10-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/dev_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/openshift_pipeline.html">OpenShift Pipeline Builds</a></li>
                  <li><a class="" href="../../dev_guide/dev_tutorials/binary_builds.html">Binary Builds</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-7">
                <span id="sgSpan-10-7" class="fa fa-caret-right"></span>&nbsp;Builds
              </a>
              <ul id="topicSubGroup-10-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/builds/index.html">How Builds Work</a></li>
                  <li><a class="" href="../../dev_guide/builds/basic_build_operations.html">Basic Build Operations</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_inputs.html">Build Inputs</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_output.html">Build Output</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_strategies.html">Build Strategy Options</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_environment.html">Build Environment</a></li>
                  <li><a class="" href="../../dev_guide/builds/triggering_builds.html">Triggering Builds</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_hooks.html">Build Hooks</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_run_policy.html">Build Run Policy</a></li>
                  <li><a class="" href="../../dev_guide/builds/advanced_build_operations.html">Advanced Build Operations</a></li>
                  <li><a class="" href="../../dev_guide/builds/build_troubleshooting.html">Troubleshooting</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-8">
                <span id="sgSpan-10-8" class="fa fa-caret-right"></span>&nbsp;Deployments
              </a>
              <ul id="topicSubGroup-10-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/deployments/how_deployments_work.html">How Deployments Work</a></li>
                  <li><a class="" href="../../dev_guide/deployments/basic_deployment_operations.html">Basic Deployment Operations</a></li>
                  <li><a class="" href="../../dev_guide/deployments/deployment_strategies.html">Deployment Strategies</a></li>
                  <li><a class="" href="../../dev_guide/deployments/advanced_deployment_strategies.html">Advanced Deployment Strategies</a></li>
                  <li><a class="" href="../../dev_guide/deployments/kubernetes_deployments.html">Kubernetes Deployments Support</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../../dev_guide/pod_preset.html">Injecting Information into Pods Using Pod Presets</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-15">
                <span id="sgSpan-10-15" class="fa fa-caret-right"></span>&nbsp;Getting Traffic into a Cluster over Non-Standard Ports
              </a>
              <ul id="topicSubGroup-10-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/expose_service/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_router.html">Using a Router</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_load_balancer.html">Using a Load Balancer</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_service.html">Using a Service ExternalIP</a></li>
                  <li><a class="" href="../../dev_guide/expose_service/expose_internal_ip_nodeport.html">Using a NodePort</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../../dev_guide/projected_volumes.html">Projected Volumes</a></li>
            <li><a class="" href="../../dev_guide/daemonsets.html">Using Daemonsets</a></li>
            <li><a class="" href="../../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../../dev_guide/openshift_pipeline.html">OpenShift Pipeline</a></li>
            <li><a class="" href="../../dev_guide/cron_jobs.html">Cron Jobs</a></li>
            <li><a class="" href="../../dev_guide/create_from_url.html">Create from URL</a></li>
            <li><a class="" href="../../dev_guide/application_memory_sizing.html">Application memory sizing</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../../creating_images/custom.html">Custom Builder</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12">
        <span id="tgSpan12" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../../using_images/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-1">
                <span id="sgSpan-12-1" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-12-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../../using_images/s2i_images/python.html">Python</a></li>
                  <li><a class="" href="../../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../../using_images/s2i_images/wildfly.html">Wildfly</a></li>
                  <li><a class="" href="../../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I Images</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-2">
                <span id="sgSpan-12-2" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-12-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../../using_images/db_images/mongodb.html">MongoDB</a></li>
                  <li><a class="" href="../../using_images/db_images/mariadb.html">MariaDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-3">
                <span id="sgSpan-12-3" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-12-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-12-4">
                <span id="sgSpan-12-4" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-12-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/other_images/jenkins.html">Jenkins</a></li>
                  <li><a class="" href="../../using_images/other_images/jenkins_slaves.html">Jenkins Slaves</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13">
        <span id="tgSpan13" class="fa fa-angle-right"></span>Ansible Playbook Bundle Development Guide
      </a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../../apb_devel/index.html">Introduction</a></li>
            <li><a class="" href="../../apb_devel/cli_tooling.html">CLI Tooling</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-2">
                <span id="sgSpan-13-2" class="fa fa-caret-right"></span>&nbsp;Writing APBs
              </a>
              <ul id="topicSubGroup-13-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../apb_devel/writing/getting_started.html">Getting Started</a></li>
                  <li><a class="" href="../../apb_devel/writing/reference.html">Reference</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14">
        <span id="tgSpan14" class="fa fa-angle-right"></span>Go Client Library Reference
      </a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li><a class="" href="../../go_client/getting_started.html">Getting Started</a></li>
            <li><a class="" href="../../go_client/connecting_to_the_cluster.html">Connecting to the Cluster</a></li>
            <li><a class="" href="../../go_client/tracing_api_requests_and_responses.html">Tracing API Requests and Responses</a></li>
            <li><a class="" href="../../go_client/standard_api_operations.html">Standard API Operations</a></li>
            <li><a class="" href="../../go_client/serializing_and_deserializing.html">Serializing and Deserializing</a></li>
            <li><a class="" href="../../go_client/instantiating_templates.html">Instantiating Templates</a></li>
            <li><a class="" href="../../go_client/executing_remote_processes.html">Executing Remote Processes</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup15">
        <span id="tgSpan15" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup15" class="collapse  list-unstyled">
            <li><a class="" href="../../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../../rest_api/examples.html">Examples</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-2">
                <span id="sgSpan-15-2" class="fa fa-caret-right"></span>&nbsp;/api/v1
              </a>
              <ul id="topicSubGroup-15-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/api/v1.APIResourceList.html">v1.APIResourceList</a></li>
                  <li><a class="" href="../../rest_api/api/v1.APIVersions.html">v1.APIVersions</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Binding.html">v1.Binding</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ComponentStatus.html">v1.ComponentStatus</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ConfigMap.html">v1.ConfigMap</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Endpoints.html">v1.Endpoints</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Event.html">v1.Event</a></li>
                  <li><a class="" href="../../rest_api/api/v1.LimitRange.html">v1.LimitRange</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Namespace.html">v1.Namespace</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Node.html">v1.Node</a></li>
                  <li><a class="" href="../../rest_api/api/v1.PersistentVolume.html">v1.PersistentVolume</a></li>
                  <li><a class="" href="../../rest_api/api/v1.PersistentVolumeClaim.html">v1.PersistentVolumeClaim</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Pod.html">v1.Pod</a></li>
                  <li><a class="" href="../../rest_api/api/v1.PodTemplate.html">v1.PodTemplate</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ReplicationController.html">v1.ReplicationController</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ResourceQuota.html">v1.ResourceQuota</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Secret.html">v1.Secret</a></li>
                  <li><a class="" href="../../rest_api/api/v1.SecurityContextConstraints.html">v1.SecurityContextConstraints</a></li>
                  <li><a class="" href="../../rest_api/api/v1.Service.html">v1.Service</a></li>
                  <li><a class="" href="../../rest_api/api/v1.ServiceAccount.html">v1.ServiceAccount</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-3">
                <span id="sgSpan-15-3" class="fa fa-caret-right"></span>&nbsp;/apis/v1
              </a>
              <ul id="topicSubGroup-15-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis/v1.APIGroup.html">v1.APIGroup</a></li>
                  <li><a class="" href="../../rest_api/apis/v1.APIGroupList.html">v1.APIGroupList</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-4">
                <span id="sgSpan-15-4" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1
              </a>
              <ul id="topicSubGroup-15-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apps/v1.ControllerRevision.html">v1.ControllerRevision</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1.DaemonSet.html">v1.DaemonSet</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1.Deployment.html">v1.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1.ReplicaSet.html">v1.ReplicaSet</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1.StatefulSet.html">v1.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-5">
                <span id="sgSpan-15-5" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta1
              </a>
              <ul id="topicSubGroup-15-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apps/v1beta1.ControllerRevision.html">v1beta1.ControllerRevision</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta1.StatefulSet.html">v1beta1.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-6">
                <span id="sgSpan-15-6" class="fa fa-caret-right"></span>&nbsp;/apis/apps/v1beta2
              </a>
              <ul id="topicSubGroup-15-6" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.ControllerRevision.html">v1beta2.ControllerRevision</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.DaemonSet.html">v1beta2.DaemonSet</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.Deployment.html">v1beta2.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.ReplicaSet.html">v1beta2.ReplicaSet</a></li>
                  <li><a class="" href="../../rest_api/apis-apps/v1beta2.StatefulSet.html">v1beta2.StatefulSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-7">
                <span id="sgSpan-15-7" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v1
              </a>
              <ul id="topicSubGroup-15-7" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-autoscaling/v1.HorizontalPodAutoscaler.html">v1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-8">
                <span id="sgSpan-15-8" class="fa fa-caret-right"></span>&nbsp;/apis/autoscaling/v2beta1
              </a>
              <ul id="topicSubGroup-15-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-autoscaling/v2beta1.HorizontalPodAutoscaler.html">v2beta1.HorizontalPodAutoscaler</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-9">
                <span id="sgSpan-15-9" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1
              </a>
              <ul id="topicSubGroup-15-9" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-batch/v1.Job.html">v1.Job</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-10">
                <span id="sgSpan-15-10" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v1beta1
              </a>
              <ul id="topicSubGroup-15-10" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-batch/v1beta1.CronJob.html">v1beta1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-11">
                <span id="sgSpan-15-11" class="fa fa-caret-right"></span>&nbsp;/apis/batch/v2alpha1
              </a>
              <ul id="topicSubGroup-15-11" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-batch/v2alpha1.CronJob.html">v2alpha1.CronJob</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-12">
                <span id="sgSpan-15-12" class="fa fa-caret-right"></span>&nbsp;/apis/extensions/v1beta1
              </a>
              <ul id="topicSubGroup-15-12" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.DaemonSet.html">v1beta1.DaemonSet</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.Deployment.html">v1beta1.Deployment</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.Ingress.html">v1beta1.Ingress</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.NetworkPolicy.html">v1beta1.NetworkPolicy</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.PodSecurityPolicy.html">v1beta1.PodSecurityPolicy</a></li>
                  <li><a class="" href="../../rest_api/apis-extensions/v1beta1.ReplicaSet.html">v1beta1.ReplicaSet</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-13">
                <span id="sgSpan-15-13" class="fa fa-caret-right"></span>&nbsp;/apis/policy/v1beta1
              </a>
              <ul id="topicSubGroup-15-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-policy/v1beta1.PodDisruptionBudget.html">v1beta1.PodDisruptionBudget</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-14">
                <span id="sgSpan-15-14" class="fa fa-caret-right"></span>&nbsp;/apis/admissionregistration.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-admissionregistration.k8s.io/v1beta1.MutatingWebhookConfiguration.html">v1beta1.MutatingWebhookConfiguration</a></li>
                  <li><a class="" href="../../rest_api/apis-admissionregistration.k8s.io/v1beta1.ValidatingWebhookConfiguration.html">v1beta1.ValidatingWebhookConfiguration</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-15">
                <span id="sgSpan-15-15" class="fa fa-caret-right"></span>&nbsp;/apis/apiregistration.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apiregistration.k8s.io/v1beta1.APIService.html">v1beta1.APIService</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-16">
                <span id="sgSpan-15-16" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1
              </a>
              <ul id="topicSubGroup-15-16" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authentication.k8s.io/v1.TokenReview.html">v1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-17">
                <span id="sgSpan-15-17" class="fa fa-caret-right"></span>&nbsp;/apis/authentication.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-17" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authentication.k8s.io/v1beta1.TokenReview.html">v1beta1.TokenReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-18">
                <span id="sgSpan-15-18" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-15-18" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.LocalSubjectAccessReview.html">v1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.SelfSubjectAccessReview.html">v1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.SelfSubjectRulesReview.html">v1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1.SubjectAccessReview.html">v1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-19">
                <span id="sgSpan-15-19" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-19" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.LocalSubjectAccessReview.html">v1beta1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectAccessReview.html">v1beta1.SelfSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.SelfSubjectRulesReview.html">v1beta1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.k8s.io/v1beta1.SubjectAccessReview.html">v1beta1.SubjectAccessReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-20">
                <span id="sgSpan-15-20" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1
              </a>
              <ul id="topicSubGroup-15-20" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRole.html">v1.ClusterRole</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.ClusterRoleBinding.html">v1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.Role.html">v1.Role</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1.RoleBinding.html">v1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-21">
                <span id="sgSpan-15-21" class="fa fa-caret-right"></span>&nbsp;/apis/rbac.authorization.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-21" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRole.html">v1beta1.ClusterRole</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.ClusterRoleBinding.html">v1beta1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.Role.html">v1beta1.Role</a></li>
                  <li><a class="" href="../../rest_api/apis-rbac.authorization.k8s.io/v1beta1.RoleBinding.html">v1beta1.RoleBinding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-22">
                <span id="sgSpan-15-22" class="fa fa-caret-right"></span>&nbsp;/apis/certificates.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-22" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-certificates.k8s.io/v1beta1.CertificateSigningRequest.html">v1beta1.CertificateSigningRequest</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-23">
                <span id="sgSpan-15-23" class="fa fa-caret-right"></span>&nbsp;/apis/events.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-23" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-events.k8s.io/v1beta1.Event.html">v1beta1.Event</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-24">
                <span id="sgSpan-15-24" class="fa fa-caret-right"></span>&nbsp;/apis/networking.k8s.io/v1
              </a>
              <ul id="topicSubGroup-15-24" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-networking.k8s.io/v1.NetworkPolicy.html">v1.NetworkPolicy</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-25">
                <span id="sgSpan-15-25" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1
              </a>
              <ul id="topicSubGroup-15-25" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-storage.k8s.io/v1.StorageClass.html">v1.StorageClass</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-26">
                <span id="sgSpan-15-26" class="fa fa-caret-right"></span>&nbsp;/apis/storage.k8s.io/v1beta1
              </a>
              <ul id="topicSubGroup-15-26" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-storage.k8s.io/v1beta1.StorageClass.html">v1beta1.StorageClass</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-27">
                <span id="sgSpan-15-27" class="fa fa-caret-right"></span>&nbsp;/apis/apps.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-27" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-apps.openshift.io/v1.DeploymentConfig.html">v1.DeploymentConfig</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-28">
                <span id="sgSpan-15-28" class="fa fa-caret-right"></span>&nbsp;/apis/authorization.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-28" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.ClusterRole.html">v1.ClusterRole</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.ClusterRoleBinding.html">v1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.LocalResourceAccessReview.html">v1.LocalResourceAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.LocalSubjectAccessReview.html">v1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.ResourceAccessReview.html">v1.ResourceAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.Role.html">v1.Role</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.RoleBinding.html">v1.RoleBinding</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.RoleBindingRestriction.html">v1.RoleBindingRestriction</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.SelfSubjectRulesReview.html">v1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.SubjectAccessReview.html">v1.SubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/apis-authorization.openshift.io/v1.SubjectRulesReview.html">v1.SubjectRulesReview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-29">
                <span id="sgSpan-15-29" class="fa fa-caret-right"></span>&nbsp;/apis/build.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-29" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-build.openshift.io/v1.Build.html">v1.Build</a></li>
                  <li><a class="" href="../../rest_api/apis-build.openshift.io/v1.BuildConfig.html">v1.BuildConfig</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-30">
                <span id="sgSpan-15-30" class="fa fa-caret-right"></span>&nbsp;/apis/image.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-30" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.Image.html">v1.Image</a></li>
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.ImageSignature.html">v1.ImageSignature</a></li>
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.ImageStream.html">v1.ImageStream</a></li>
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.ImageStreamImage.html">v1.ImageStreamImage</a></li>
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.ImageStreamImport.html">v1.ImageStreamImport</a></li>
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.ImageStreamMapping.html">v1.ImageStreamMapping</a></li>
                  <li><a class="" href="../../rest_api/apis-image.openshift.io/v1.ImageStreamTag.html">v1.ImageStreamTag</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-31">
                <span id="sgSpan-15-31" class="fa fa-caret-right"></span>&nbsp;/apis/network.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-31" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-network.openshift.io/v1.ClusterNetwork.html">v1.ClusterNetwork</a></li>
                  <li><a class="" href="../../rest_api/apis-network.openshift.io/v1.EgressNetworkPolicy.html">v1.EgressNetworkPolicy</a></li>
                  <li><a class="" href="../../rest_api/apis-network.openshift.io/v1.HostSubnet.html">v1.HostSubnet</a></li>
                  <li><a class="" href="../../rest_api/apis-network.openshift.io/v1.NetNamespace.html">v1.NetNamespace</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-32">
                <span id="sgSpan-15-32" class="fa fa-caret-right"></span>&nbsp;/apis/oauth.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-32" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-oauth.openshift.io/v1.OAuthAccessToken.html">v1.OAuthAccessToken</a></li>
                  <li><a class="" href="../../rest_api/apis-oauth.openshift.io/v1.OAuthAuthorizeToken.html">v1.OAuthAuthorizeToken</a></li>
                  <li><a class="" href="../../rest_api/apis-oauth.openshift.io/v1.OAuthClient.html">v1.OAuthClient</a></li>
                  <li><a class="" href="../../rest_api/apis-oauth.openshift.io/v1.OAuthClientAuthorization.html">v1.OAuthClientAuthorization</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-33">
                <span id="sgSpan-15-33" class="fa fa-caret-right"></span>&nbsp;/apis/project.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-33" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-project.openshift.io/v1.Project.html">v1.Project</a></li>
                  <li><a class="" href="../../rest_api/apis-project.openshift.io/v1.ProjectRequest.html">v1.ProjectRequest</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-34">
                <span id="sgSpan-15-34" class="fa fa-caret-right"></span>&nbsp;/apis/quota.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-34" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-quota.openshift.io/v1.AppliedClusterResourceQuota.html">v1.AppliedClusterResourceQuota</a></li>
                  <li><a class="" href="../../rest_api/apis-quota.openshift.io/v1.ClusterResourceQuota.html">v1.ClusterResourceQuota</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-35">
                <span id="sgSpan-15-35" class="fa fa-caret-right"></span>&nbsp;/apis/route.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-35" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-route.openshift.io/v1.Route.html">v1.Route</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-36">
                <span id="sgSpan-15-36" class="fa fa-caret-right"></span>&nbsp;/apis/security.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-36" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-security.openshift.io/v1.PodSecurityPolicyReview.html">v1.PodSecurityPolicyReview</a></li>
                  <li><a class="" href="../../rest_api/apis-security.openshift.io/v1.PodSecurityPolicySelfSubjectReview.html">v1.PodSecurityPolicySelfSubjectReview</a></li>
                  <li><a class="" href="../../rest_api/apis-security.openshift.io/v1.PodSecurityPolicySubjectReview.html">v1.PodSecurityPolicySubjectReview</a></li>
                  <li><a class="" href="../../rest_api/apis-security.openshift.io/v1.SecurityContextConstraints.html">v1.SecurityContextConstraints</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-37">
                <span id="sgSpan-15-37" class="fa fa-caret-right"></span>&nbsp;/apis/template.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-37" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-template.openshift.io/v1.BrokerTemplateInstance.html">v1.BrokerTemplateInstance</a></li>
                  <li><a class="" href="../../rest_api/apis-template.openshift.io/v1.Template.html">v1.Template</a></li>
                  <li><a class="" href="../../rest_api/apis-template.openshift.io/v1.TemplateInstance.html">v1.TemplateInstance</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-38">
                <span id="sgSpan-15-38" class="fa fa-caret-right"></span>&nbsp;/apis/user.openshift.io/v1
              </a>
              <ul id="topicSubGroup-15-38" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/apis-user.openshift.io/v1.Group.html">v1.Group</a></li>
                  <li><a class="" href="../../rest_api/apis-user.openshift.io/v1.Identity.html">v1.Identity</a></li>
                  <li><a class="" href="../../rest_api/apis-user.openshift.io/v1.User.html">v1.User</a></li>
                  <li><a class="" href="../../rest_api/apis-user.openshift.io/v1.UserIdentityMapping.html">v1.UserIdentityMapping</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-39">
                <span id="sgSpan-15-39" class="fa fa-caret-right"></span>&nbsp;/oapi/v1
              </a>
              <ul id="topicSubGroup-15-39" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../rest_api/oapi/v1.AppliedClusterResourceQuota.html">v1.AppliedClusterResourceQuota</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Build.html">v1.Build</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.BuildConfig.html">v1.BuildConfig</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ClusterNetwork.html">v1.ClusterNetwork</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ClusterResourceQuota.html">v1.ClusterResourceQuota</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ClusterRole.html">v1.ClusterRole</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ClusterRoleBinding.html">v1.ClusterRoleBinding</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.DeploymentConfig.html">v1.DeploymentConfig</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.EgressNetworkPolicy.html">v1.EgressNetworkPolicy</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Group.html">v1.Group</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.HostSubnet.html">v1.HostSubnet</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Identity.html">v1.Identity</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Image.html">v1.Image</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ImageSignature.html">v1.ImageSignature</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ImageStream.html">v1.ImageStream</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ImageStreamImage.html">v1.ImageStreamImage</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ImageStreamImport.html">v1.ImageStreamImport</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ImageStreamMapping.html">v1.ImageStreamMapping</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ImageStreamTag.html">v1.ImageStreamTag</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.LocalResourceAccessReview.html">v1.LocalResourceAccessReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.LocalSubjectAccessReview.html">v1.LocalSubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.NetNamespace.html">v1.NetNamespace</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.OAuthAccessToken.html">v1.OAuthAccessToken</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.OAuthAuthorizeToken.html">v1.OAuthAuthorizeToken</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.OAuthClient.html">v1.OAuthClient</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.OAuthClientAuthorization.html">v1.OAuthClientAuthorization</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.PodSecurityPolicyReview.html">v1.PodSecurityPolicyReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.PodSecurityPolicySelfSubjectReview.html">v1.PodSecurityPolicySelfSubjectReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.PodSecurityPolicySubjectReview.html">v1.PodSecurityPolicySubjectReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ProcessedTemplate.html">v1.ProcessedTemplate</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Project.html">v1.Project</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ProjectRequest.html">v1.ProjectRequest</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.ResourceAccessReview.html">v1.ResourceAccessReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Role.html">v1.Role</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.RoleBinding.html">v1.RoleBinding</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.RoleBindingRestriction.html">v1.RoleBindingRestriction</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Route.html">v1.Route</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.SelfSubjectRulesReview.html">v1.SelfSubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.SubjectAccessReview.html">v1.SubjectAccessReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.SubjectRulesReview.html">v1.SubjectRulesReview</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.Template.html">v1.Template</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.User.html">v1.User</a></li>
                  <li><a class="" href="../../rest_api/oapi/v1.UserIdentityMapping.html">v1.UserIdentityMapping</a></li>
              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>Advanced Installation</h1>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#advanced-before-you-begin">Before You Begin</a>
<ul class="sectlevel2">
<li><a href="#advanced-cloud-providers">Cloud installation</a></li>
</ul>
</li>
<li><a href="#configuring-ansible">Configuring Ansible Inventory Files</a>
<ul class="sectlevel2">
<li><a href="#configuring-cluster-variables">Configuring Cluster Variables</a></li>
<li><a href="#advanced-install-deployment-types">Configuring Deployment Type</a></li>
<li><a href="#configuring-host-variables">Configuring Host Variables</a></li>
<li><a href="#configuring-host-port">Configuring Master API and Console Ports</a></li>
<li><a href="#configuring-cluster-pre-install-checks">Configuring Cluster Pre-install Checks</a></li>
<li><a href="#advanced-install-configuring-system-containers">Configuring System Containers</a></li>
<li><a href="#advanced-install-configuring-registry-location">Configuring a Registry Location</a></li>
<li><a href="#advanced-install-glusterfs-persistent-storage">Configuring GlusterFS Persistent Storage</a></li>
<li><a href="#advanced-install-configuring-openshift-container-registry">Configuring the OpenShift Container Registry</a></li>
<li><a href="#advanced-install-configuring-global-proxy">Configuring Global Proxy Options</a></li>
<li><a href="#advanced-install-configuring-firewalls">Configuring the Firewall</a></li>
<li><a href="#marking-masters-as-unschedulable-nodes">Configuring Schedulability on Masters</a></li>
<li><a href="#configuring-node-host-labels">Configuring Node Host Labels</a></li>
<li><a href="#advanced-install-session-options">Configuring Session Options</a></li>
<li><a href="#advanced-install-custom-certificates">Configuring Custom Certificates</a></li>
<li><a href="#advanced-install-config-certificate-validity">Configuring Certificate Validity</a></li>
<li><a href="#advanced-install-cluster-metrics">Configuring Cluster Metrics</a></li>
<li><a href="#advanced-install-cluster-logging">Configuring Cluster Logging</a></li>
<li><a href="#enabling-service-catalog">Configuring the Service Catalog</a></li>
<li><a href="#configuring-openshift-ansible-broker">Configuring the OpenShift Ansible Broker</a></li>
<li><a href="#configuring-template-service-broker">Configuring the Template Service Broker</a></li>
<li><a href="#configuring-web-console-customization">Configuring Web Console Customization</a></li>
</ul>
</li>
<li><a href="#adv-install-example-inventory-files">Example Inventory Files</a>
<ul class="sectlevel2">
<li><a href="#single-master">Single Master Examples</a></li>
<li><a href="#multiple-masters">Multiple Masters Examples</a></li>
</ul>
</li>
<li><a href="#running-the-advanced-installation">Running the Advanced Installation</a>
<ul class="sectlevel2">
<li><a href="#running-the-advanced-installation-rpm">Running the RPM-based Installer</a></li>
<li><a href="#running-the-advanced-installation-containerized">Running the Containerized Installer</a></li>
<li><a href="#running-the-advanced-installation-individual-components">Running Individual Component Playbooks</a></li>
</ul>
</li>
<li><a href="#advanced-verifying-the-installation">Verifying the Installation</a></li>
<li><a href="#uninstalling-advanced">Uninstalling OpenShift Origin</a>
<ul class="sectlevel2">
<li><a href="#uninstalling-nodes-advanced">Uninstalling Nodes</a></li>
</ul>
</li>
<li><a href="#installer-known-issues">Known Issues</a></li>
<li><a href="#what-s-next">What&#8217;s Next?</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A reference configuration implemented using
<a href="http://docs.ansible.com/ansible/">Ansible</a> playbooks is available as the <em>advanced
installation</em> method for installing a OpenShift Origin cluster. Familiarity with Ansible is
assumed, however you can use this configuration as a reference to create your
own implementation using the configuration management tool of your choosing.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While RHEL Atomic Host is supported for running containerized OpenShift Origin
services, the advanced installation method utilizes Ansible, which is not
available in RHEL Atomic Host, and must therefore be run from
a supported version of Fedora, CentOS, or RHEL.
The host initiating the installation does not need to be intended for inclusion
in the OpenShift Origin cluster, but it can be.</p>
</div>
<div class="paragraph">
<p>Alternatively, a
<a href="#running-the-advanced-installation-system-container">containerized version of the installer</a> is available as a system container, which is currently a
Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To install OpenShift Origin as a stand-alone registry, see
<a href="../../install_config/install/stand_alone_registry.html#install-config-installing-stand-alone-registry">Installing a Stand-alone Registry</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-before-you-begin"><a class="anchor" href="#advanced-before-you-begin"></a>Before You Begin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before installing OpenShift Origin, you must first see the
<a href="../../install_config/install/prerequisites.html#install-config-install-prerequisites">Prerequisites</a>
and
<a href="../../install_config/install/host_preparation.html#install-config-install-host-preparation">Host
Preparation</a> topics to prepare your hosts. This includes verifying system and
environment requirements per component type and properly installing and
configuring Docker. It also includes installing Ansible version 2.3 or later,
as the advanced installation method is based on Ansible playbooks and as such
requires directly invoking Ansible.</p>
</div>
<div class="paragraph">
<p>If you are interested in installing OpenShift Origin using the containerized method
(optional for RHEL but required for RHEL Atomic Host), see
<a href="../../install_config/install/rpm_vs_containerized.html#install-config-install-rpm-vs-containerized">Installing on Containerized Hosts</a> to ensure that you understand the differences between these
methods, then return to this topic to continue.</p>
</div>
<div class="paragraph">
<p>For large-scale installs, including suggestions for optimizing install time,
see the
<a href="../../scaling_performance/install_practices.html#scaling-performance-install-best-practices">Scaling and Performance Guide</a>.</p>
</div>
<div class="paragraph">
<p>After following the instructions in the
<a href="../../install_config/install/prerequisites.html#install-config-install-prerequisites">Prerequisites</a>
topic, deciding between the RPM and containerized methods and
<a href="#advanced-cloud-providers">choosing from the on-premises or cloud scenarios</a>,
you can continue in this topic to
<a href="#configuring-ansible">Configuring Ansible Inventory Files</a>.</p>
</div>
<div class="sect2">
<h3 id="advanced-cloud-providers"><a class="anchor" href="#advanced-cloud-providers"></a>Cloud installation</h3>
<div class="paragraph">
<p>OpenShift Origin VMs can be provisioned in a cloud environment.</p>
</div>
<div class="paragraph">
<p>You can use Ansible playbooks to automate defining of your cloud hosted infrastructure and
applying post-provision configuration for the supported cloud providers. Follow these advanced installation
to help you create the needed playbooks.</p>
</div>
<div class="sect3">
<h4 id="openstack-provider"><a class="anchor" href="#openstack-provider"></a>OpenStack provider</h4>
<div class="paragraph">
<p>As an alternate, you can install OpenShift Origin using the OpenStack CLI.
For more information, See the
<a href="https://access.redhat.com/documentation/en-us/reference_architectures/2017/html-single/deploying_and_managing_red_hat_openshift_container_platform_3.6_on_red_hat_openstack_platform_10">reference architecture</a> for OpenShift Origin 3.6 and Red Hat OpenStack Platform 10.</p>
</div>
<div class="paragraph">
<p>As a prerequisite to using the Openstack CLI, first provision VMs and configure the cloud
infrastructure, such as networking, storage, firewall and security groups.
For information on these configuration tasks using the reference architecture,
see the
<a href="../../install_config/install/prerequisites.html#prereq-cloud-provider-considerations">cloud provider considerations</a>
and <a href="https://github.com/openshift/openshift-ansible/tree/master/playbooks/openstack">Ansible playbooks</a>
to automate it. See also
<a href="../../install_config/configuring_openstack.html#install-config-configuring-openstack">Configuring for OpenStack</a>
and
<a href="#configuring-ansible">Configuring Ansible Inventory Files</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-ansible"><a class="anchor" href="#configuring-ansible"></a>Configuring Ansible Inventory Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <strong><em>/etc/ansible/hosts</em></strong> file is Ansible&#8217;s inventory file for the playbook
used to install OpenShift Origin. The inventory file describes the configuration
for your OpenShift Origin cluster. You must replace the default contents of the
file with your desired configuration.</p>
</div>
<div class="paragraph">
<p>The following sections describe commonly-used variables to set in your inventory
file during an advanced installation, followed by
<a href="#adv-install-example-inventory-files">example inventory files</a> you can use as
a starting point for your installation.</p>
</div>
<div class="paragraph">
<p>Many of the Ansible variables described are optional. Accepting the default
values should suffice for development environments, but for production
environments it is recommended you read through and become familiar with the
various options available.</p>
</div>
<div class="paragraph">
<p>The example inventories describe various environment topographies, including
<a href="#multiple-masters">using multiple masters for high availability</a>. You can
choose an example that matches your requirements, modify it to match your own
environment, and use it as your inventory file when
<a href="#running-the-advanced-installation">running the advanced installation</a>.</p>
</div>
<h3 id="advanced-install-image-version-policy" class="discrete">Image Version Policy</h3>
<div class="paragraph">
<p>Images require a version number policy in order to maintain updates. See
the
<a href="../../architecture/core_concepts/containers_and_images.html#architecture-images-tag-policy">Image
Version Tag Policy</a> section in the Architecture Guide for more information.</p>
</div>
<div class="sect2">
<h3 id="configuring-cluster-variables"><a class="anchor" href="#configuring-cluster-variables"></a>Configuring Cluster Variables</h3>
<div class="paragraph">
<p>To assign environment variables during the Ansible install that apply more
globally to your OpenShift Origin cluster overall, indicate the desired variables in
the <strong><em>/etc/ansible/hosts</em></strong> file on separate, single lines within the <strong>[OSEv3:vars]</strong>
section. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_master_identity_providers=[{'name': 'htpasswd_auth',
'login': 'true', 'challenge': 'true',
'kind': 'HTPasswdPasswordIdentityProvider',
'filename': '/etc/origin/master/htpasswd'}]

openshift_master_default_subdomain=apps.test.example.com</pre>
</div>
</div>
<div class="paragraph">
<p>The following table describes variables for use with the Ansible installer that
can be assigned cluster-wide:</p>
</div>
<table id="cluster-variables-table" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Cluster Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_ssh_user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable sets the SSH user for the installer to use and defaults to
<code>root</code>. This user should allow SSH-based authentication
<a href="../../install_config/install/host_preparation.html#ensuring-host-access">without requiring a password</a>. If
using SSH key-based authentication, then the key should be managed by an SSH
agent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_become</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>ansible_ssh_user</code> is not <code>root</code>, this variable must be set to <code>true</code> and
the user must be configured for passwordless <code>sudo</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>debug_level</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>This variable sets which INFO messages are logged to the <code>systemd-journald.service</code>. Set one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0</code> to log errors and warnings only</p>
</li>
<li>
<p><code>2</code> to log normal information (This is the default level.)</p>
</li>
<li>
<p><code>4</code> to log debugging-level information</p>
</li>
<li>
<p><code>6</code> to log API-level debugging information (request / response)</p>
</li>
<li>
<p><code>8</code> to log body-level API debugging information</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on debug log levels, see <a href="../../install_config/master_node_configuration.html#master-node-config-logging-levels">Configuring Logging Levels</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>containerized</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, containerized OpenShift Origin services are run on all target master
and node hosts in the cluster instead of installed using RPM packages. If set to
<code>false</code> or unset, the default RPM method is used. RHEL Atomic Host requires the
containerized method, and is automatically selected for you based on the
detection of the <strong><em>/run/ostree-booted</em></strong> file. See
<a href="../../install_config/install/rpm_vs_containerized.html#install-config-install-rpm-vs-containerized">Installing on
Containerized Hosts</a> for more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_admission_plugin_config</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>This variable sets the parameter and arbitrary JSON values as per the requirement in your inventory hosts file.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_audit_config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable enables API service auditing. See
<a href="../../install_config/master_node_configuration.html#master-node-config-audit-config">Audit
Configuration</a> for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_cluster_hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the host name for the cluster, which defaults to the
host name of the master.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_cluster_public_hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the public host name for the cluster, which defaults to
the host name of the master.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_cluster_method</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. This variable defines the HA method when deploying multiple masters.
Supports the <code>native</code> method. See <a href="#multiple-masters">Multiple Masters</a> for
more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_rolling_restart_mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable enables rolling restarts of HA masters (i.e., masters are taken
down one at a time) when
<a href="../../install_config/upgrading/automated_upgrades.html#running-the-upgrade-playbook-directly">running
the upgrade playbook directly</a>. It defaults to <code>services</code>, which allows rolling
restarts of services on the masters. It can instead be set to <code>system</code>, which
enables rolling, full system restarts and also works for single master clusters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>os_sdn_network_plugin_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable configures which
<a href="../../architecture/networking/sdn.html#architecture-additional-concepts-sdn">OpenShift SDN plug-in</a> to
use for the pod network, which defaults to <code>redhat/openshift-ovs-subnet</code> for the
standard SDN plug-in. Set the variable to <code>redhat/openshift-ovs-multitenant</code> to
use the multitenant plug-in.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_identity_providers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the
<a href="../../install_config/configuring_authentication.html#install-config-configuring-authentication">identity provider</a>, which
defaults to
<a href="../../install_config/configuring_authentication.html#DenyAllPasswordIdentityProvider">Deny
All</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_named_certificates</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">These variables are used to configure <a href="../../install_config/certificate_customization.html#install-config-certificate-customization">custom certificates</a> which are deployed as part of the installation. See <a href="#advanced-install-custom-certificates">Configuring Custom Certificates</a> for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_overwrite_named_certificates</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_hosted_registry_cert_expire_days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity of the auto-generated registry certificate in days. Defaults to <code>730</code> (2 years).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_ca_cert_expire_days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity of the auto-generated CA certificate in days. Defaults to <code>1825</code> (5 years).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_node_cert_expire_days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity of the auto-generated node certificate in days. Defaults to <code>730</code> (2 years).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_cert_expire_days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity of the auto-generated master certificate in days. Defaults to <code>730</code> (2 years).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etcd_ca_default_days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity of the auto-generated external etcd certificates in days. Controls
validity for etcd CA, peer, server and client certificates. Defaults to <code>1825</code>
(5 years).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>os_firewall_use_firewalld</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to <code>true</code> to use firewalld instead of the default iptables. Not available on RHEL Atomic Host. See the <a href="#advanced-install-configuring-firewalls">Configuring the Firewall</a> section for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_session_name</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">These variables override defaults for
<a href="../../install_config/configuring_authentication.html#session-options">session
options</a> in the OAuth configuration. See <a href="#advanced-install-session-options">Configuring Session Options</a> for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_session_max_seconds</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_session_auth_secrets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_session_encryption_secrets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_set_node_ip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable configures <code>nodeIP</code> in the node configuration. This variable is needed in cases where it is desired for node traffic to go over an interface other than the default network interface. The host variable <code>openshift_ip</code> can also be configured on each node.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_portal_net</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable configures the subnet in which
<a href="../../architecture/core_concepts/pods_and_services.html#services">services</a>
will be created within the
<a href="../../architecture/networking/sdn.html#architecture-additional-concepts-sdn">OpenShift Origin
SDN</a>. This network block should be private and must not conflict with any
existing network blocks in your infrastructure to which pods, nodes, or the
master may require access to, or the installation will fail. Defaults to
<code>172.30.0.0/16</code>, and cannot be re-configured after deployment. If changing from the default, avoid <code>172.17.0.0/16</code>, which the <strong>docker0</strong> network bridge uses by default, or modify the <strong>docker0</strong> network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_default_subdomain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the default subdomain to use for exposed
<a href="../../architecture/networking/routes.html#architecture-core-concepts-routes">routes</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_image_policy_config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>imagePolicyConfig</code> in the master configuration. See <a href="../../install_config/master_node_configuration.html#master-config-image-config">Image Configuration</a> for details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_node_proxy_mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable specifies the
<a href="../../architecture/core_concepts/pods_and_services.html#service-proxy-mode">service
proxy mode</a> to use: either <code>iptables</code> for the default, pure-<code>iptables</code>
implementation, or <code>userspace</code> for the user space proxy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_router_selector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default node selector for automatically deploying router pods. See
<a href="#configuring-node-host-labels">Configuring Node Host Labels</a> for details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_registry_selector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default node selector for automatically deploying registry pods. See
<a href="#configuring-node-host-labels">Configuring Node Host Labels</a> for details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_template_service_broker_namespaces</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable enables the template service broker by specifying one or more
namespaces whose templates will be served by the broker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>osm_default_node_selector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the node selector that projects will use by default
when placing pods.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>osm_cluster_network_cidr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the
<a href="../../architecture/networking/sdn.html#sdn-design-on-masters">SDN
cluster network</a> CIDR block. This is the network from which pod IPs are
assigned. This network block should be a private block and must not conflict
with existing network blocks in your infrastructure to which pods, nodes, or the
master may require access. Defaults to <code>10.128.0.0/14</code> and cannot be arbitrarily
re-configured after deployment, although certain changes to it can be made in
the <a href="../../install_config/configuring_sdn.html#configuring-the-pod-network-on-masters">SDN
master configuration</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>osm_host_subnet_length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable specifies the size of the per host subnet allocated for pod IPs
by
<a href="../../architecture/networking/sdn.html#sdn-design-on-masters">OpenShift Origin
SDN</a>. Defaults to <code>9</code> which means that a subnet of size /23 is allocated to each
host; for example, given the default 10.128.0.0/14 cluster network, this will
allocate 10.128.0.0/23, 10.128.2.0/23, 10.128.4.0/23, and so on. This cannot be
re-configured after deployment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_use_flannel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable enables <strong>flannel</strong> as an alternative networking layer instead of
the default SDN. If enabling <strong>flannel</strong>, disable the default SDN with the
<code>openshift_use_openshift_sdn</code> variable. For more information, see <a href="../../install_config/configuring_sdn.html#using-flannel">Using Flannel</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_docker_additional_registries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift Origin adds the specified additional registry or registries to the
<strong>docker</strong> configuration. These are the registries to search.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_docker_insecure_registries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift Origin adds the specified additional insecure registry or registries to
the <strong>docker</strong> configuration. For any of these registries, secure sockets layer
(SSL) is not verified. Also, add these registries to
<code>openshift_docker_additional_registries</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_docker_blocked_registries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift Origin adds the specified blocked registry or registries to the
<strong>docker</strong> configuration. Block the listed registries. Setting this to <code>all</code>
blocks everything not in the other variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_metrics_hawkular_hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable sets the host name for integration with the metrics console by
overriding <code>metricsPublicURL</code> in the master configuration for cluster metrics.
If you alter this variable, ensure the host name is accessible via your router.
See <a href="#advanced-install-cluster-metrics">Configuring Cluster Metrics</a> for
details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_clusterid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable is a cluster identifier unique to the AWS Availability Zone. Using this avoids potential issues in Amazon Web Service
(AWS) with multiple zones or multiple clusters. See <a href="../../install_config/configuring_aws.html#aws-cluster-labeling">Labeling Clusters for AWS</a> for details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_image_tag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use this variable to specify a container image tag to install or configure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_pkg_version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use this variable to specify an RPM version to install or configure.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you modify the <code>openshift_image_tag</code> or the <code>openshift_pkg_version</code> variables
after the cluster is set up, then an upgrade can be triggered, resulting in
downtime.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>openshift_image_tag</code> is set, its value is used for all hosts in
containerized environments, even those that have another version installed. If</p>
</li>
<li>
<p><code>openshift_pkg_version</code> is set, its value is used for all hosts in RPM-based
environments, even those that have another version installed.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-deployment-types"><a class="anchor" href="#advanced-install-deployment-types"></a>Configuring Deployment Type</h3>
<div class="paragraph">
<p>Various defaults used throughout the playbooks and roles used by the installer
are based on the deployment type configuration (usually defined in an Ansible
inventory file).</p>
</div>
<div class="paragraph">
<p>Ensure the <code>openshift_deployment_type</code> parameter in your inventory file&#8217;s <code>[OSEv3:vars]</code>
section is set to <code>origin</code> to install the OpenShift Origin variant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]
openshift_deployment_type=origin</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-host-variables"><a class="anchor" href="#configuring-host-variables"></a>Configuring Host Variables</h3>
<div class="paragraph">
<p>To assign environment variables to hosts during the Ansible installation, indicate
the desired variables in the <strong><em>/etc/ansible/hosts</em></strong> file after the host entry in
the <strong>[masters]</strong> or <strong>[nodes]</strong> sections. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[masters]
ec2-52-6-179-239.compute-1.amazonaws.com openshift_public_hostname=ose3-master.public.example.com</pre>
</div>
</div>
<div class="paragraph">
<p>The following table describes variables for use with the Ansible installer that
can be assigned to individual host entries:</p>
</div>
<table id="advanced-host-variables" class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Host Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the internal cluster host name for the system. Use this
when the system&#8217;s default IP address does not resolve to the system host name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_public_hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the system&#8217;s public host name. Use this for cloud
installations, or for hosts on networks using a network address translation
(NAT).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_ip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the cluster internal IP address for the system. Use
this when using an interface that is not configured with the default route.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_public_ip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable overrides the system&#8217;s public IP address. Use this for cloud
installations, or for hosts on networks using a network address translation
(NAT).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>containerized</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <strong>true</strong>, containerized OpenShift Origin services are run on the target master and
node hosts instead of installed using RPM packages. If set to <strong>false</strong> or unset,
the default RPM method is used. RHEL Atomic Host requires the containerized
method, and is automatically selected for you based on the detection of the
<strong><em>/run/ostree-booted</em></strong> file. See
<a href="../../install_config/install/rpm_vs_containerized.html#install-config-install-rpm-vs-containerized">Installing on Containerized Hosts</a> for more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_node_labels</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable adds labels to nodes during installation. See
<a href="#configuring-node-host-labels">Configuring Node Host Labels</a> for more
details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_node_kubelet_args</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable is used to configure <code>kubeletArguments</code> on nodes, such as
arguments used in <a href="../../admin_guide/garbage_collection.html#admin-guide-garbage-collection">container and
image garbage collection</a>, and to
<a href="../../admin_guide/manage_nodes.html#configuring-node-resources">specify
resources per node</a>. <code>kubeletArguments</code> are key value pairs that are passed
directly to the Kubelet that match the
<a href="https://kubernetes.io/docs/admin/kubelet/">Kubelet&#8217;s command line
arguments</a>. <code>kubeletArguments</code> are not migrated or validated and may become
invalid if used. These values override other settings in node configuration
which may cause invalid configurations. Example usage:
<strong>{'image-gc-high-threshold': ['90'],'image-gc-low-threshold': ['80']}</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_docker_options</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable configures additional <code>docker</code> options within
<strong><em>/etc/sysconfig/docker</em></strong>, such as options used in
<a href="../../install_config/install/host_preparation.html#managing-docker-container-logs">Managing Container Logs</a>. Example usage: <strong>"--log-driver json-file --log-opt max-size=1M
--log-opt max-file=3"</strong>. Do not use when
<a href="#advanced-install-docker-system-container">running <code>docker</code> as a system container</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_schedulable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable configures whether the host is marked as a schedulable node,
meaning that it is available for placement of new pods. See
<a href="#marking-masters-as-unschedulable-nodes">Configuring Schedulability on Masters</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="configuring-host-port"><a class="anchor" href="#configuring-host-port"></a>Configuring Master API and Console Ports</h3>
<div class="paragraph">
<p>To configure the default ports used by the master API and web console, configure
the following variables in the <strong><em>/etc/ansible/hosts</em></strong> file:</p>
</div>
<table id="advanced-master-ports" class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Master API and Console Ports</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_api_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable sets the port number to access the OpenShift Origin API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_console_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable sets the console port number to access the OpenShift Origin console with a web browser.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_api_port=3443
openshift_master_console_port=8756</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-cluster-pre-install-checks"><a class="anchor" href="#configuring-cluster-pre-install-checks"></a>Configuring Cluster Pre-install Checks</h3>
<div class="paragraph">
<p>Pre-install checks are a set of diagnostic tasks that run as part of the
<strong>openshift_health_checker</strong> Ansible role. They run prior to an Ansible
installation of OpenShift Origin, ensure that required inventory values are set,
and identify potential issues on a host that can prevent or interfere with a
successful installation.</p>
</div>
<div class="paragraph">
<p>The following table describes available pre-install checks that will run before
every Ansible installation of OpenShift Origin:</p>
</div>
<table id="configuring-cluster-pre-install-checks-pre-install-checks" class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Pre-install Checks</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Check Name</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>memory_availability</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This check ensures that a host has the recommended amount of memory for the
specific deployment of OpenShift Origin. Default values have been derived from
the
<a href="../../install_config/install/prerequisites.html#system-requirements">latest
installation documentation</a>. A user-defined value for minimum memory
requirements may be set by setting the <code>openshift_check_min_host_memory_gb</code>
cluster variable in your inventory file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>disk_availability</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This check only runs on etcd, master, and node hosts. It ensures that the mount
path for an OpenShift Origin installation has sufficient disk space remaining.
Recommended disk values are taken from the
<a href="../../install_config/install/prerequisites.html#system-requirements">latest
installation documentation</a>. A user-defined value for minimum disk space
requirements may be set by setting <code>openshift_check_min_host_disk_gb</code> cluster
variable in your inventory file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker_storage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only runs on hosts that depend on the <strong>docker</strong> daemon (nodes and containerized
installations). Checks that <strong>docker</strong>'s total usage does not exceed a
user-defined limit. If no user-defined limit is set, <strong>docker</strong>'s maximum usage
threshold defaults to 90% of the total size available. The threshold limit for
total percent usage can be set with a variable in your inventory file:
<code>max_thinpool_data_usage_percent=90</code>. A user-defined limit for maximum thinpool
usage may be set by setting the <code>max_thinpool_data_usage_percent</code> cluster
variable in your inventory file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker_storage_driver</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensures that the <strong>docker</strong> daemon is using a storage driver supported by
OpenShift Origin. If the
<a href="https://docs.docker.com/engine/userguide/storagedriver/device-mapper-driver"><code>devicemapper</code></a>
storage driver is being used, the check additionally ensures that a loopback
device is not being used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker_image_availability</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to ensure that images required by an OpenShift Origin installation are
available either locally or in at least one of the configured container image
registries on the host machine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package_version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runs on <code>yum</code>-based systems determining if multiple releases of a required
OpenShift Origin package are available. Having multiple releases of a package
available during an <code>enterprise</code> installation of OpenShift suggests that there
are multiple <code>yum</code> repositories enabled for different releases, which may lead
to installation problems. This check is skipped if the <code>openshift_release</code>
variable is not defined in the inventory file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package_availability</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runs prior to non-containerized installations of OpenShift Origin. Ensures that
RPM packages required for the current installation are available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package_update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks whether a <code>yum</code> update or package installation will succeed, without
actually performing it or running <code>yum</code> on the host.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To disable specific pre-install checks, include the variable
<code>openshift_disable_check</code> with a comma-delimited list of check names in your
inventory file. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_disable_check=memory_availability,disk_availability</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A similar set of health checks meant to run for diagnostics on existing clusters
can be found in
<a href="../../admin_guide/diagnostics_tool.html#admin-guide-health-checks-via-ansible-playbook">Ansible-based Health Checks</a>. Another set of checks for checking certificate expiration can be
found in
<a href="../../install_config/redeploying_certificates.html#install-config-redeploying-certificates">Redeploying Certificates</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-configuring-system-containers"><a class="anchor" href="#advanced-install-configuring-system-containers"></a>Configuring System Containers</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All system container components are
<a href="https://github.com/openshift/origin#support-for-kubernetes-alpha-features">Tech Preview</a>
features in OpenShift Origin 3.7. They must not be used in production and they
are not supported for upgrades to OpenShift Origin 3.7. During this phase, they
are only meant for use with new cluster installations in non-production
environments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>System containers provide a way to containerize services that need to run before
the <code>docker</code> daemon is running. They are Docker-formatted containers that use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.2/html/content_management_guide/managing_ostree_content">OSTree</a> for storage,</p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/managing_containers/#running_containers_with_runc">runC</a> for the runtime,</p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/managing_containers/#using_systemd_with_containers">systemd</a> for service management, and</p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/managing_containers/#using_skopeo_to_work_with_container_registries">skopeo</a> for searching.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>System containers are therefore stored and run outside of the traditional
<code>docker</code> service. For more details on system container technology, see
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html/managing_containers/running_system_containers">Running System Containers</a> in the <em>Red Hat Enterprise Linux Atomic Host: Managing Containers</em> documentation.</p>
</div>
<div class="paragraph">
<p>You can configure your OpenShift Origin installation to run certain components as
system containers instead of their RPM or standard containerized methods.
Currently, the <code>docker</code> and etcd components can be run as system containers in
OpenShift Origin.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>System containers are currently OS-specific because they require specific
versions of <code>atomic</code> and systemd. For example, different system containers are
created for RHEL, Fedora, or CentOS. Ensure that the system containers you are
using match the OS of the host they will run on.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="advanced-install-docker-system-container"><a class="anchor" href="#advanced-install-docker-system-container"></a>Running Docker as a System Container</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All system container components are
<a href="https://github.com/openshift/origin#support-for-kubernetes-alpha-features">Tech Preview</a>
features in OpenShift Origin 3.7. They must not be used in production and they
are not supported for upgrades to OpenShift Origin 3.7. During this phase, they
are only meant for use with new cluster installations in non-production
environments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The traditional method for using <code>docker</code> in an OpenShift Origin cluster is an
<a href="../../install_config/install/host_preparation.html#installing-docker">RPM package installation</a>. For Red Hat Enterprise Linux (RHEL) systems, it must be
specifically installed; for RHEL Atomic Host systems, it is provided by default.</p>
</div>
<div class="paragraph">
<p>However, you can configure your OpenShift Origin installation to alternatively
run <code>docker</code> on node hosts as a system container. When using the system
container method, the <code>container-engine</code> container image and systemd service is
used on the host instead of the <code>docker</code> package and service.</p>
</div>
<div class="paragraph">
<p>To run <code>docker</code> as a system container:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Because the default storage back end for Docker on RHEL 7 is a thin pool on
loopback devices, for any RHEL systems you must still configure a thin pool
logical volume for <code>docker</code> to use before running the OpenShift Origin
installation. You can skip these steps for any RHEL Atomic Host systems.</p>
<div class="paragraph">
<p>For any RHEL systems, perform the steps described in the following sections:</p>
</div>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><a href="../../install_config/install/host_preparation.html#installing-docker">Installing Docker</a></p>
</li>
<li>
<p><a href="../../install_config/install/host_preparation.html#configuring-docker-storage">Configuring Docker Storage</a></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>After completing the storage configuration steps, you can leave the RPM
installed.</p>
</div>
</li>
<li>
<p>Set the following cluster variable to <code>True</code> in your inventory file in the
<code>[OSEv3:vars]</code> section:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_docker_use_system_container=True</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When using the system container method, the following inventory variables for
<code>docker</code> are ignored:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>docker_version</code></p>
</li>
<li>
<p><code>docker_upgrade</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Further, the following inventory variable must not be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>openshift_docker_options</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also force <code>docker</code> in the system container to use a specific container
registry and repository when pulling the <code>container-engine</code> image instead of
from the default <code>registry.access.redhat.com/openshift3/</code>. To do so, set the
following cluster variable in your inventory file in the <code>[OSEv3:vars]</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_docker_systemcontainer_image_override="&lt;registry&gt;/&lt;user&gt;/&lt;image&gt;:&lt;tag&gt;"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="advanced-install-etcd-system-container"><a class="anchor" href="#advanced-install-etcd-system-container"></a>Running etcd as a System Container</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All system container components are
<a href="https://github.com/openshift/origin#support-for-kubernetes-alpha-features">Tech Preview</a>
features in OpenShift Origin 3.7. They must not be used in production and they
are not supported for upgrades to OpenShift Origin 3.7. During this phase, they
are only meant for use with new cluster installations in non-production
environments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When using the RPM-based installation method for OpenShift Origin, etcd is
installed using RPM packages on any RHEL systems. When using the containerized
installation method, the <code>rhel7/etcd</code> image is used instead for RHEL or RHEL
Atomic Hosts.</p>
</div>
<div class="paragraph">
<p>However, you can configure your OpenShift Origin installation to alternatively
run etcd as a system container. Whereas the standard containerized method uses
a systemd service named <code>etcd_container</code>, the system container method uses the
service name etcd, same as the RPM-based method. The data directory for etcd
using this method is <strong><em>/var/lib/etcd</em></strong>.</p>
</div>
<div class="paragraph">
<p>To run etcd as a system container, set the following cluster variable in your
inventory file in the <code>[OSEv3:vars]</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_use_etcd_system_container=True</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-configuring-registry-location"><a class="anchor" href="#advanced-install-configuring-registry-location"></a>Configuring a Registry Location</h3>
<div class="paragraph">
<p>If you are using an image registry other than the default at
<code>registry.access.redhat.com</code>, specify the desired registry within the
<strong><em>/etc/ansible/hosts</em></strong> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oreg_url={registry}/openshift3/ose-${component}:${version}
openshift_examples_modify_imagestreams=true
openshift_docker_additional_registries={registry}</pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Registry Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>oreg_url</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to the alternate image location. Necessary if you are not using the default registry at <code>registry.access.redhat.com</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>openshift_examples_modify_imagestreams</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to <code>true</code> if pointing to a registry other than the default. Modifies the image stream location to the value of <code><strong>oreg_url</strong></code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>openshift_docker_additional_registries</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the additional registry or registries.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oreg_url=example.com/openshift3/ose-${component}:${version}
openshift_examples_modify_imagestreams=true
openshift_docker_additional_registries=example.com</pre>
</div>
</div>
<div class="sect3">
<h4 id="advanced-install-registry-storage"><a class="anchor" href="#advanced-install-registry-storage"></a>Configuring Registry Storage</h4>
<div class="paragraph">
<p>There are several options for enabling registry storage when using the advanced
install:</p>
</div>
<h5 id="advanced-install-registry-storage-nfs-host-group" class="discrete">Option A: NFS Host Group</h5>
<div class="paragraph">
<p>When the following variables are set, an NFS volume is created during an
advanced install with the path <strong><em>&lt;nfs_directory&gt;/&lt;volume_name&gt;</em></strong> on the host
within the <code>[nfs]</code> host group. For example, the volume path using these options
would be <strong><em>/exports/registry</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_hosted_registry_storage_kind=nfs
openshift_hosted_registry_storage_access_modes=['ReadWriteMany']
openshift_hosted_registry_storage_nfs_directory=/exports
openshift_hosted_registry_storage_nfs_options='*(rw,root_squash)'
openshift_hosted_registry_storage_volume_name=registry
openshift_hosted_registry_storage_volume_size=10Gi</pre>
</div>
</div>
<h5 id="advanced-install-registry-storage-external-nfs" class="discrete">Option B: External NFS Host</h5>
<div class="paragraph">
<p>To use an external NFS volume, one must already exist with a path of
<strong><em>&lt;nfs_directory&gt;/&lt;volume_name&gt;</em></strong> on the storage host. The remote volume path
using the following options would be <strong><em>nfs.example.com:/exports/registry</em></strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_hosted_registry_storage_kind=nfs
openshift_hosted_registry_storage_access_modes=['ReadWriteMany']
openshift_hosted_registry_storage_host=nfs.example.com
openshift_hosted_registry_storage_nfs_directory=/exports
openshift_hosted_registry_storage_volume_name=registry
openshift_hosted_registry_storage_volume_size=10Gi</pre>
</div>
</div>
<h5 id="advanced-install-registry-storage-openstack" class="discrete">Option C: OpenStack Platform</h5>
<div class="paragraph">
<p>An OpenStack storage configuration must already exist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_hosted_registry_storage_kind=openstack
openshift_hosted_registry_storage_access_modes=['ReadWriteOnce']
openshift_hosted_registry_storage_openstack_filesystem=ext4
openshift_hosted_registry_storage_openstack_volumeID=3a650b4f-c8c5-4e0a-8ca5-eaee11f16c57
openshift_hosted_registry_storage_volume_size=10Gi</pre>
</div>
</div>
<h5 id="advanced-install-registry-storage-aws" class="discrete">Option D: AWS or Another S3 Storage Solution</h5>
<div class="paragraph">
<p>The simple storage solution (S3) bucket must already exist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">#openshift_hosted_registry_storage_kind=object
#openshift_hosted_registry_storage_provider=s3
#openshift_hosted_registry_storage_s3_accesskey=access_key_id
#openshift_hosted_registry_storage_s3_secretkey=secret_access_key
#openshift_hosted_registry_storage_s3_bucket=bucket_name
#openshift_hosted_registry_storage_s3_region=bucket_region
#openshift_hosted_registry_storage_s3_chunksize=26214400
#openshift_hosted_registry_storage_s3_rootdirectory=/registry
#openshift_hosted_registry_pullthrough=true
#openshift_hosted_registry_acceptschema2=true
#openshift_hosted_registry_enforcequota=true</pre>
</div>
</div>
<div class="paragraph">
<p>If you are using a different S3 service, such as Minio or ExoScale, also add the
region endpoint parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_hosted_registry_storage_s3_regionendpoint=https://myendpoint.example.com/</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-glusterfs-persistent-storage"><a class="anchor" href="#advanced-install-glusterfs-persistent-storage"></a>Configuring GlusterFS Persistent Storage</h3>
<div class="paragraph">
<p>GlusterFS can be configured to provide
<a href="../../architecture/additional_concepts/storage.html#architecture-additional-concepts-storage">peristent storage</a> and
<a href="../../install_config/storage_examples/gluster_dynamic_example.html#install-config-persistent-storage-dynamically-provisioning-pvs">dynamic provisioning</a> for OpenShift Origin. It can be used both containerized within
OpenShift Origin and non-containerized on its own nodes.</p>
</div>
<div class="sect3">
<h4 id="advanced-install-containerized-glusterfs-persistent-storage"><a class="anchor" href="#advanced-install-containerized-glusterfs-persistent-storage"></a>Configuring Containerized GlusterFS Persistent Storage</h4>
<div class="paragraph">
<p>See <a href="https://github.com/gluster/gluster-kubernetes">Running Containerized GlusterFS in Kubernetes</a> for additional information on containerized storage
using GlusterFS.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>See
<a href="../../install_config/install/prerequisites.html#prereq-containerized-glusterfs-considerations">Containerized GlusterFS Considerations</a> for specific host preparations and prerequisites.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In your inventory file, add <code>glusterfs</code> in the <code>[OSEv3:children]</code> section to
enable the <code>[glusterfs]</code> group:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:children]
masters
nodes
glusterfs</pre>
</div>
</div>
</li>
<li>
<p>(Optional) Include any of the following role variables in the <code>[OSEv3:vars]</code>
section you wish to change:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]
openshift_storage_glusterfs_namespace=glusterfs <i class="conum" data-value="1"></i><b>(1)</b>
openshift_storage_glusterfs_name=storage <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The project (namespace) to host the storage pods. Defaults to <code>glusterfs</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A name to identify the GlusterFS cluster, which will be used in resource names.
Defaults to <code>storage</code>.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add a <code>[glusterfs]</code> section with entries for each storage node that will host
the GlusterFS storage and include the <code>glusterfs_ip</code> and
<code>glusterfs_devices</code> parameters in the form:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">&lt;hostname_or_ip&gt; glusterfs_ip=&lt;ip_address&gt; glusterfs_devices='[ "&lt;/path/to/device1/&gt;", "&lt;/path/to/device2&gt;", ... ]'</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[glusterfs]
192.168.10.11 glusterfs_ip=192.168.10.11 glusterfs_devices='[ "/dev/xvdc", "/dev/xvdd" ]'
192.168.10.12 glusterfs_ip=192.168.10.12 glusterfs_devices='[ "/dev/xvdc", "/dev/xvdd" ]'
192.168.10.13 glusterfs_ip=192.168.10.13 glusterfs_devices='[ "/dev/xvdc", "/dev/xvdd" ]'</pre>
</div>
</div>
<div class="paragraph">
<p>Set <code>glusterfs_devices</code> to a list of raw block devices that will be completely
managed as part of a GlusterFS cluster. There must be at least one device
listed. Each device must be bare, with no partitions or LVM PVs. Set
<code>glusterfs_ip</code> to the IP address that will be used by pods to communicate with
the GlusterFS node.</p>
</div>
</li>
<li>
<p>Add the hosts listed under <code>[glusterfs]</code> to the <code>[nodes]</code> group as well:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
192.168.10.11
192.168.10.12
192.168.10.13</pre>
</div>
</div>
</li>
<li>
<p>After completing the cluster installation per
<a href="#running-the-advanced-installation">Running the Advanced Installation</a>, run
the following from a master to verify the necessary objects were successfully
created:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Verfiy that the GlusterFS <code>StorageClass</code> was created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># oc get storageclass
NAME                  TYPE
glusterfs-storage     kubernetes.io/glusterfs</pre>
</div>
</div>
</li>
<li>
<p>Verify that the route was created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># oc get routes
NAME            HOST/PORT                                     PATH           SERVICES   PORT   TERMINATION   WILDCARD
heketi-glusterfs-route  heketi-glusterfs-default.cloudapps.example.com  heketi-glusterfs &lt;all&gt;             None</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The name for the route will be <code>heketi-glusterfs-route</code> unless the default
<code>glusterfs</code> value was overridden using the <code>openshift_glusterfs_storage_name</code>
variable in the inventory file.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Use <code>curl</code> to verify the route works correctly:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl http://heketi-glusterfs-default.cloudapps.example.com/hello
Hello from Heketi.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>After successful installation, see
<a href="https://access.redhat.com/documentation/en-us/red_hat_gluster_storage/3.2/html/container-native_storage_for_openshift_container_platform/chap-documentation-red_hat_gluster_storage_container_native_with_openshift_platform-gluster_pod_operations">Operations on a Red Hat Gluster Storage Pod in an OpenShift Environment</a> to check the status of the GlusterFS clusters.</p>
</div>
<div class="paragraph">
<p><a href="../../install_config/storage_examples/gluster_dynamic_example.html#install-config-persistent-storage-dynamically-provisioning-pvs">Dynamic provisioning</a> of GlusterFS volumes can occur by
<a href="../../install_config/storage_examples/gluster_dynamic_example.html#create-a-pvc-ro-request-storage-for-your-application">creating a PVC to request storage</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-configuring-openshift-container-registry"><a class="anchor" href="#advanced-install-configuring-openshift-container-registry"></a>Configuring the OpenShift Container Registry</h3>
<div class="paragraph">
<p>Additional configuration options are available at installation time for the
<a href="../../architecture/infrastructure_components/image_registry.html#integrated-openshift-registry">OpenShift Container Registry</a>.</p>
</div>
<div class="paragraph">
<p>If no registry storage options are used, the default OpenShift Origin registry is
ephermal and all data will be lost if the pod no longer exists. OpenShift Origin
also supports a single node NFS-backed registry, but this option lacks
redundancy and reliability compared with the GlusterFS-backed option.</p>
</div>
<div class="sect3">
<h4 id="advanced-install-containerized-glusterfs-backed-registry"><a class="anchor" href="#advanced-install-containerized-glusterfs-backed-registry"></a>Configuring a Containerized GlusterFS-Backed Registry</h4>
<div class="paragraph">
<p>Similar to
<a href="#advanced-install-containerized-glusterfs-persistent-storage">configuring containerized GlusterFS for persistent storage</a>, GlusterFS storage can be
configured and deployed for an OpenShift Container Registry during the initial
installation of the cluster to offer redundant and more reliable storage for the
registry.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>See
<a href="../../install_config/install/prerequisites.html#prereq-containerized-glusterfs-considerations">Containerized
GlusterFS Considerations</a> for specific host preparations and prerequisites.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Configuration of storage for an OpenShift Container Registry is very similar to
configuration for GlusterFS persistent storage in that it can be either
containerized or non-containerized. For this containerized method, the following
exceptions and additions apply:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In your inventory file, add <code>glusterfs_registry</code> in the <code>[OSEv3:children]</code> section
to enable the <code>[glusterfs_registry]</code> group:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:children]
masters
nodes
glusterfs_registry</pre>
</div>
</div>
</li>
<li>
<p>Add the following role variable in the <code>[OSEv3:vars]</code> section to enable the
GlusterFS-backed registry, provided that the <code>glusterfs_registry</code> group name and
the <code>[glusterfs_registry]</code> group exist:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]
openshift_hosted_registry_storage_kind=glusterfs</pre>
</div>
</div>
</li>
<li>
<p>It is recommended to have at least three registry pods, so set the following
role variable in the <code>[OSEv3:vars]</code> section:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_hosted_registry_replicas=3</pre>
</div>
</div>
</li>
<li>
<p>If you want to specify the volume size for the GlusterFS-backed registry, set
the following role variable in <code>[OSEv3:vars]</code> section:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_hosted_registry_storage_volume_size=10Gi</pre>
</div>
</div>
<div class="paragraph">
<p>If unspecified, the volume size defaults to <code>5Gi</code>.</p>
</div>
</li>
<li>
<p>The installer will deploy the OpenShift Container Registry pods and associated
routers on nodes containing the <code>region=infra</code> label. Add this label on at least
one node entry in the <code>[nodes]</code> section, otherwise the registry deployment will
fail. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
192.168.10.14 openshift_schedulable=True openshift_node_labels="{'region': 'infra'}"</pre>
</div>
</div>
</li>
<li>
<p>Add a <code>[glusterfs_registry]</code> section with entries for each storage node that
will host the GlusterFS-backed registry and include the <code>glusterfs_ip</code> and
<code>glusterfs_devices</code> parameters in the form:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">&lt;hostname_or_ip&gt; glusterfs_ip=&lt;ip_address&gt; glusterfs_devices='[ "&lt;/path/to/device1/&gt;", "&lt;/path/to/device2&gt;", ... ]'</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[glusterfs_registry]
192.168.10.14 glusterfs_ip=192.168.10.14 glusterfs_devices='[ "/dev/xvdc", "/dev/xvdd" ]'
192.168.10.15 glusterfs_ip=192.168.10.15 glusterfs_devices='[ "/dev/xvdc", "/dev/xvdd" ]'
192.168.10.16 glusterfs_ip=192.168.10.16 glusterfs_devices='[ "/dev/xvdc", "/dev/xvdd" ]'</pre>
</div>
</div>
<div class="paragraph">
<p>Set <code>glusterfs_devices</code> to a list of raw block devices that will be completely
managed as part of a GlusterFS cluster. There must be at least one device
listed. Each device must be bare, with no partitions or LVM PVs. Set
<code>glusterfs_ip</code> to the IP address that will be used by pods to communicate with
the GlusterFS node.</p>
</div>
</li>
<li>
<p>Add the hosts listed under <code>[glusterfs_registry]</code> to the <code>[nodes]</code> group as well:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
192.168.10.14
192.168.10.15
192.168.10.16</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>After successful installation, see
<a href="https://access.redhat.com/documentation/en-us/red_hat_gluster_storage/3.2/html/container-native_storage_for_openshift_container_platform/chap-documentation-red_hat_gluster_storage_container_native_with_openshift_platform-gluster_pod_operations">Operations on a Red Hat Gluster Storage Pod in an OpenShift Environment</a> to check the
status of the GlusterFS clusters.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-configuring-global-proxy"><a class="anchor" href="#advanced-install-configuring-global-proxy"></a>Configuring Global Proxy Options</h3>
<div class="paragraph">
<p>If your hosts require use of a HTTP or HTTPS proxy in order to connect to
external hosts, there are many components that must be configured to use the
proxy, including masters, Docker, and builds. Node services only connect to the
master API requiring no external access and therefore do not need to be
configured to use a proxy.</p>
</div>
<div class="paragraph">
<p>In order to simplify this configuration, the following Ansible variables can be
specified at a cluster or host level to apply these settings uniformly across
your environment.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>See <a href="../../install_config/build_defaults_overrides.html#install-config-build-defaults-overrides">Configuring
Global Build Defaults and Overrides</a> for more information on how the proxy
environment is defined for builds.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Cluster Proxy Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_http_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable specifies the <code>HTTP_PROXY</code> environment variable for masters and
the Docker daemon.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_https_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable specifices the <code>HTTPS_PROXY</code> environment variable for masters
and the Docker daemon.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_no_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable is used to set the <code>NO_PROXY</code> environment variable for masters
and the Docker daemon. This value should be set to a comma separated list of
host names or wildcard host names that should not use the defined proxy. This
list will be augmented with the list of all defined OpenShift Origin host names
by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_generate_no_proxy_hosts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This boolean variable specifies whether or not the names of all defined
OpenShift hosts and <code>*.cluster.local</code> should be automatically appended to
the <code>NO_PROXY</code> list. Defaults to <code>true</code>; set it to <code>false</code> to override this
option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_builddefaults_http_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable defines the <code>HTTP_PROXY</code> environment variable inserted into
builds using the <code>BuildDefaults</code> admission controller. If
<code>openshift_http_proxy</code> is set, this variable will inherit that value; you only
need to set this if you want your builds to use a different value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_builddefaults_https_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable defines the <code><strong>HTTPS_PROXY</strong></code> environment variable inserted into
builds using the <code><strong>BuildDefaults</strong></code> admission controller. If
<code><strong>openshift_https_proxy</strong></code> is set, this variable will inherit that value; you
only need to set this if you want your builds to use a different value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_builddefaults_no_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable defines the <code>NO_PROXY</code> environment variable inserted into
builds using the <code>BuildDefaults</code> admission controller. If
<code>openshift_no_proxy</code> is set, this variable will inherit that value; you only
need to set this if you want your builds to use a different value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_builddefaults_git_http_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable defines the HTTP proxy used by <code>git clone</code> operations during a
build, defined using the <code>BuildDefaults</code> admission controller. If
<code>openshift_builddefaults_http_proxy</code> is set, this variable will inherit that
value; you only need to set this if you want your <code>git clone</code> operations to use
a different value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_builddefaults_git_https_proxy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This variable defines the HTTPS proxy used by <code>git clone</code> operations during a
build, defined using the <code>BuildDefaults</code> admission controller. If
<code>openshift_builddefaults_https_proxy</code> is set, this variable will inherit that
value; you only need to set this if you want your <code>git clone</code> operations to use
a different value.</p></td>
</tr>
</tbody>
</table>
<div id="advanced-install-no-proxy-list" class="paragraph">
<p>If any of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>openshift_no_proxy</code></p>
</li>
<li>
<p><code>openshift_https_proxy</code></p>
</li>
<li>
<p><code>openshift_http_proxy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>are set, then all cluster hosts will have an automatically generated <code>NO_PROXY</code>
environment variable injected into several service configuration scripts. The
default <code>.svc</code> domain and your cluster&#8217;s <code>dns_domain</code> (typically
<code>.cluster.local</code>) will also be added.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Setting <code>openshift_generate_no_proxy_hosts</code> to <code>false</code> in your inventory will
not disable the automatic addition of the <code>.svc</code> domain and the cluster domain.
These are required and added automatically if any of the above listed proxy
parameters are set.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-configuring-firewalls"><a class="anchor" href="#advanced-install-configuring-firewalls"></a>Configuring the Firewall</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are changing the default firewall, ensure that each host in your cluster
is using the same firewall type to prevent inconsistencies.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While iptables is the default firewall, firewalld is recommended for new
installations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>OpenShift Origin uses iptables as the default firewall, but you can configure
your cluster to use firewalld during the install process.</p>
</div>
<div class="paragraph">
<p>Because iptables is the default firewall, OpenShift Origin is designed to have it
configured automatically. However, iptables rules can break OpenShift Origin if
not configured correctly. The advantages of firewalld include allowing multiple
objects to safely share the firewall rules.</p>
</div>
<div class="paragraph">
<p>To use firewalld as the firewall for an OpenShift Origin installation, add the
<code>os_firewall_use_firewalld</code> variable to the list of configuration variables in
the Ansible host file at install:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]
os_firewall_use_firewalld=True</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="marking-masters-as-unschedulable-nodes"><a class="anchor" href="#marking-masters-as-unschedulable-nodes"></a>Configuring Schedulability on Masters</h3>
<div class="paragraph">
<p>Any hosts you designate as masters during the installation process should also
be configured as nodes so that the masters are configured as part of the
<a href="../../architecture/networking/network_plugins.html#openshift-sdn">OpenShift SDN</a>. You must do so by adding entries for these hosts to the <code>[nodes]</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
master.example.com</pre>
</div>
</div>
<div class="paragraph">
<p>In order to ensure that your masters are not burdened with running pods, they
are automatically marked unschedulable by default by the installer, meaning that
new pods cannot be placed on the hosts. This is the same as setting the
<code>openshift_schedulable=false</code> host variable.</p>
</div>
<div class="paragraph">
<p>You can manually set a master host to schedulable during installation using the
<code>openshift_schedulable=true</code> host variable, though this is not recommended in
production environments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
master.example.com openshift_schedulable=true</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to change the schedulability of a host post-installation, see
<a href="../../admin_guide/manage_nodes.html#marking-nodes-as-unschedulable-or-schedulable">Marking Nodes as Unschedulable or Schedulable</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-node-host-labels"><a class="anchor" href="#configuring-node-host-labels"></a>Configuring Node Host Labels</h3>
<div class="paragraph">
<p>You can assign
<a href="../../architecture/core_concepts/pods_and_services.html#labels">labels</a> to
node hosts during the Ansible install by configuring the <strong><em>/etc/ansible/hosts</em></strong>
file. Labels are useful for determining the placement of pods onto nodes using
the <a href="../../admin_guide/scheduling/scheduler.html#configurable-predicates">scheduler</a>.
Other than <code>region=infra</code> (discussed in
<a href="#configuring-dedicated-infrastructure-nodes">Configuring Dedicated Infrastructure Nodes</a>), the actual label names and values are arbitrary and can
be assigned however you see fit per your cluster&#8217;s requirements.</p>
</div>
<div class="paragraph">
<p>To assign labels to a node host during an Ansible install, use the
<code>openshift_node_labels</code> variable with the desired labels added to the desired
node host entry in the <code>[nodes]</code> section. In the following example, labels are
set for a region called <code>primary</code> and a zone called <code>east</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
node1.example.com openshift_node_labels="{'region': 'primary', 'zone': 'east'}"</pre>
</div>
</div>
<div class="sect3">
<h4 id="configuring-dedicated-infrastructure-nodes"><a class="anchor" href="#configuring-dedicated-infrastructure-nodes"></a>Configuring Dedicated Infrastructure Nodes</h4>
<div class="paragraph">
<p>The <code>openshift_router_selector</code> and <code>openshift_registry_selector</code> Ansible
settings determine the label selectors used when placing registry and router
pods. They are set to <code>region=infra</code> by default:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># default selectors for router and registry services
# openshift_router_selector='region=infra'
# openshift_registry_selector='region=infra'</pre>
</div>
</div>
<div class="paragraph">
<p>The registry and router are only able to run on node hosts with the <code>region=infra</code> label.
Ensure that at least one node host in your OpenShift Origin environment has the <code>region=infra</code> label. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
infra-node1.example.com openshift_node_labels="{'region': 'infra','zone': 'default'}"</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If there is not a node in the [nodes] section that matches the selector settings,
the default router and registry will be deployed as failed with <code>Pending</code> status.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is recommended for production environments that you maintain dedicated
infrastructure nodes where the registry and router pods can run separately from
pods used for user applications.</p>
</div>
<div class="paragraph">
<p>If you do not intend to use OpenShift Origin to manage the registry and router,
configure the following Ansible settings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_hosted_manage_registry=false
openshift_hosted_manage_router=false</pre>
</div>
</div>
<div class="paragraph">
<p>If you are using an image registry other than the default <code>registry.access.redhat.com</code>,
you need to <a href="#advanced-install-configuring-registry-location">specify the desired registry</a>
in the  <strong><em>/etc/ansible/hosts</em></strong> file.</p>
</div>
<div class="paragraph">
<p>As described in <a href="#marking-masters-as-unschedulable-nodes">Configuring
Schedulability on Masters</a>, master hosts are marked unschedulable by default. If
you label a master host with <code>region=infra</code> and have no other dedicated
infrastructure nodes, you must also explicitly mark these master hosts as
schedulable. Otherwise, the registry and router pods cannot be placed anywhere:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nodes]
master.example.com openshift_node_labels="{'region': 'infra','zone': 'default'}" openshift_schedulable=true</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-session-options"><a class="anchor" href="#advanced-install-session-options"></a>Configuring Session Options</h3>
<div class="paragraph">
<p><a href="../../install_config/configuring_authentication.html#session-options">Session
options</a> in the OAuth configuration are configurable in the inventory file. By
default, Ansible populates a <code><strong>sessionSecretsFile</strong></code> with generated
authentication and encryption secrets so that sessions generated by one master
can be decoded by the others. The default location is
<strong><em>/etc/origin/master/session-secrets.yaml</em></strong>, and this file will only be
re-created if deleted on all masters.</p>
</div>
<div class="paragraph">
<p>You can set the session name and maximum number of seconds with
<code><strong>openshift_master_session_name</strong></code> and <code><strong>openshift_master_session_max_seconds</strong></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_session_name=ssn
openshift_master_session_max_seconds=3600</pre>
</div>
</div>
<div class="paragraph">
<p>If provided, <code><strong>openshift_master_session_auth_secrets</strong></code> and
<code><strong>openshift_master_encryption_secrets</strong></code> must be equal length.</p>
</div>
<div class="paragraph">
<p>For <code><strong>openshift_master_session_auth_secrets</strong></code>, used to authenticate sessions
using HMAC, it is recommended to use secrets with 32 or 64 bytes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_session_auth_secrets=['DONT+USE+THIS+SECRET+b4NV+pmZNSO']</pre>
</div>
</div>
<div class="paragraph">
<p>For <code><strong>openshift_master_encryption_secrets</strong></code>, used to encrypt sessions, secrets
must be 16, 24, or 32 characters long, to select AES-128, AES-192, or AES-256:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_session_encryption_secrets=['DONT+USE+THIS+SECRET+b4NV+pmZNSO']</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-custom-certificates"><a class="anchor" href="#advanced-install-custom-certificates"></a>Configuring Custom Certificates</h3>
<div class="paragraph">
<p><a href="../../install_config/certificate_customization.html#install-config-certificate-customization">Custom serving
certificates</a> for the public host names of the OpenShift Origin API and
<a href="../../architecture/infrastructure_components/web_console.html#architecture-infrastructure-components-web-console">web console</a>
can be deployed during an advanced installation and are configurable in the
inventory file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Custom certificates should only be configured for the host name associated with
the <code><strong>publicMasterURL</strong></code> which can be set using
<code><strong>openshift_master_cluster_public_hostname</strong></code>. Using a custom serving certificate
for the host name associated with the <code><strong>masterURL</strong></code>
(<strong><code>openshift_master_cluster_hostname</code></strong>) will result in TLS errors as
infrastructure components will attempt to contact the master API using the
internal <code><strong>masterURL</strong></code> host.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Certificate and key file paths can be configured using the
<code><strong>openshift_master_named_certificates</strong></code> cluster variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_named_certificates=[{"certfile": "/path/to/custom1.crt", "keyfile": "/path/to/custom1.key", "cafile": "/path/to/custom-ca1.crt"}]</pre>
</div>
</div>
<div class="paragraph">
<p>File paths must be local to the system where Ansible will be run. Certificates
are copied to master hosts and are deployed within the
<strong><em>/etc/origin/master/named_certificates/</em></strong> directory.</p>
</div>
<div class="paragraph">
<p>Ansible detects a certificate&#8217;s <code>Common Name</code> and <code>Subject Alternative Names</code>.
Detected names can be overridden by providing the <code><strong>"names"</strong></code> key when setting
<code><strong>openshift_master_named_certificates</strong></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_named_certificates=[{"certfile": "/path/to/custom1.crt", "keyfile": "/path/to/custom1.key", "names": ["public-master-host.com"], "cafile": "/path/to/custom-ca1.crt"}]</pre>
</div>
</div>
<div class="paragraph">
<p>Certificates configured using <code><strong>openshift_master_named_certificates</strong></code> are cached
on masters, meaning that each additional Ansible run with a different set of
certificates results in all previously deployed certificates remaining in place
on master hosts and within the master configuration file.</p>
</div>
<div class="paragraph">
<p>If you would like <code><strong>openshift_master_named_certificates</strong></code> to be overwritten with
the provided value (or no value), specify the
<code><strong>openshift_master_overwrite_named_certificates</strong></code> cluster variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_overwrite_named_certificates=true</pre>
</div>
</div>
<div class="paragraph">
<p>For a more complete example, consider the following cluster variables in an
inventory file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_cluster_method=native
openshift_master_cluster_hostname=lb.openshift.com
openshift_master_cluster_public_hostname=custom.openshift.com</pre>
</div>
</div>
<div class="paragraph">
<p>To overwrite the certificates on a subsequent Ansible run, you could set the
following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_master_named_certificates=[{"certfile": "/root/STAR.openshift.com.crt", "keyfile": "/root/STAR.openshift.com.key", "names": ["custom.openshift.com"]}]
openshift_master_overwrite_named_certificates=true</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-config-certificate-validity"><a class="anchor" href="#advanced-install-config-certificate-validity"></a>Configuring Certificate Validity</h3>
<div class="paragraph">
<p>By default, the certificates used to govern the etcd, master, and kubelet expire
after two to five years. The validity (length in days until they expire) for the
auto-generated registry, CA, node, and master certificates can be configured
during installation using the following variables (default values shown):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_hosted_registry_cert_expire_days=730
openshift_ca_cert_expire_days=1825
openshift_node_cert_expire_days=730
openshift_master_cert_expire_days=730
etcd_ca_default_days=1825</pre>
</div>
</div>
<div class="paragraph">
<p>These values are also used when
<a href="../../install_config/redeploying_certificates.html#install-config-redeploying-certificates">redeploying certificates</a> via Ansible post-installation.</p>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-cluster-metrics"><a class="anchor" href="#advanced-install-cluster-metrics"></a>Configuring Cluster Metrics</h3>
<div class="paragraph">
<p>Starting with OpenShift Origin 3.7, cluster metrics are set to deploy
automatically by default during installation:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To disable automatic deployment, set the following cluster variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_metrics_install_metrics=false</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The OpenShift Origin web console uses the data coming from the Hawkular Metrics
service to display its graphs. The metrics public URL can be set during cluster
installation using the <code>openshift_metrics_hawkular_hostname</code> Ansible variable,
which defaults to:</p>
</div>
<div class="paragraph">
<p><code>https://hawkular-metrics.{{openshift_master_default_subdomain}}/hawkular/metrics</code></p>
</div>
<div class="paragraph">
<p>If you alter this variable, ensure the host name is accessible via your router.</p>
</div>
<div class="sect3">
<h4 id="advanced-install-cluster-metrics-storage"><a class="anchor" href="#advanced-install-cluster-metrics-storage"></a>Configuring Metrics Storage</h4>
<div class="paragraph">
<p>The <code>openshift_metrics_cassandra_storage_type</code> variable must be set in order to
use persistent storage for metrics. If
<code>openshift_metrics_cassandra_storage_type</code> is not set, then cluster metrics data
is stored in an <code>emptyDir</code> volume, which will be deleted when the Cassandra pod
terminates.</p>
</div>
<div class="paragraph">
<p>There are three options for enabling cluster metrics storage when using the
advanced install:</p>
</div>
<h5 id="advanced-install-cluster-metrics-storage-nfs-host-group" class="discrete">Option A: NFS Host Group</h5>
<div class="paragraph">
<p>When the following variables are set, an NFS volume is created during an
advanced install with path <strong><em>&lt;nfs_directory&gt;/&lt;volume_name&gt;</em></strong> on the host within
the <code>[nfs]</code> host group. For example, the volume path using these options would
be <strong><em>/exports/metrics</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_metrics_storage_kind=nfs
openshift_metrics_storage_access_modes=['ReadWriteOnce']
openshift_metrics_storage_nfs_directory=/exports
openshift_metrics_storage_nfs_options='*(rw,root_squash)'
openshift_metrics_storage_volume_name=metrics
openshift_metrics_storage_volume_size=10Gi</pre>
</div>
</div>
<h5 id="advanced-install-cluster-metrics-storage-external-nfs" class="discrete">Option B: External NFS Host</h5>
<div class="paragraph">
<p>To use an external NFS volume, one must already exist with a path of
<strong><em>&lt;nfs_directory&gt;/&lt;volume_name&gt;</em></strong> on the storage host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_metrics_storage_kind=nfs
openshift_metrics_storage_access_modes=['ReadWriteOnce']
openshift_metrics_storage_host=nfs.example.com
openshift_metrics_storage_nfs_directory=/exports
openshift_metrics_storage_volume_name=metrics
openshift_metrics_storage_volume_size=10Gi</pre>
</div>
</div>
<div class="paragraph">
<p>The remote volume path using the following options would be
<strong><em>nfs.example.com:/exports/metrics</em></strong>.</p>
</div>
<h5 id="advanced-install-cluster-metrics-storage-dynamic" class="discrete">Option C: Dynamic</h5>
<div class="paragraph">
<p>Use the following variable if your OpenShift Origin environment supports
<a href="../../install_config/persistent_storage/dynamically_provisioning_pvs.html#install-config-persistent-storage-dynamically-provisioning-pvs">dynamic volume provisioning</a> for your cloud provider:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_metrics_cassandra_storage_type=dynamic</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-install-cluster-logging"><a class="anchor" href="#advanced-install-cluster-logging"></a>Configuring Cluster Logging</h3>
<div class="paragraph">
<p>Cluster logging is not set to automatically deploy by default. Set the
following to enable cluster logging when using the advanced installation method:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_logging_install_logging=true</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="advanced-installation-logging-storage"><a class="anchor" href="#advanced-installation-logging-storage"></a>Configuring Logging Storage</h4>
<div class="paragraph">
<p>The <code>openshift_logging_storage_kind</code> variable must be set in order to use
persistent storage for logging. If <code>openshift_logging_storage_kind</code> is
not set, then cluster logging data is stored in an <code>emptyDir</code> volume, which will
be deleted when the Elasticsearch pod terminates.</p>
</div>
<div class="paragraph">
<p>There are three options for enabling cluster logging storage when using the
advanced install:</p>
</div>
<h5 id="advanced-installation-logging-storage-nfs-host-group" class="discrete">Option A: NFS Host Group</h5>
<div class="paragraph">
<p>When the following variables are set, an NFS volume is created during an
advanced install with path <strong><em>&lt;nfs_directory&gt;/&lt;volume_name&gt;</em></strong> on the host within
the <code>[nfs]</code> host group. For example, the volume path using these options would be
<strong><em>/exports/logging</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_logging_storage_kind=nfs
openshift_logging_storage_access_modes=['ReadWriteOnce']
openshift_logging_storage_nfs_directory=/exports
openshift_logging_storage_nfs_options='*(rw,root_squash)'
openshift_logging_storage_volume_name=logging
openshift_logging_storage_volume_size=10Gi</pre>
</div>
</div>
<h5 id="advanced-installation-logging-storage-external-nfs" class="discrete">Option B: External NFS Host</h5>
<div class="paragraph">
<p>To use an external NFS volume, one must already exist with a path of
<strong><em>&lt;nfs_directory&gt;/&lt;volume_name&gt;</em></strong> on the storage host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_logging_storage_kind=nfs
openshift_logging_storage_access_modes=['ReadWriteOnce']
openshift_logging_storage_host=nfs.example.com
openshift_logging_storage_nfs_directory=/exports
openshift_logging_storage_volume_name=logging
openshift_logging_storage_volume_size=10Gi</pre>
</div>
</div>
<div class="paragraph">
<p>The remote volume path using the following options would be
<strong><em>nfs.example.com:/exports/logging</em></strong>.</p>
</div>
<h5 id="advanced-installation-logging-storage-dynamic" class="discrete">Option C: Dynamic</h5>
<div class="paragraph">
<p>Use the following variable if your OpenShift Origin environment supports
<a href="../../install_config/persistent_storage/dynamically_provisioning_pvs.html#install-config-persistent-storage-dynamically-provisioning-pvs">dynamic volume provisioning</a> for your cloud provider:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:vars]

openshift_logging_storage_kind=dynamic</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enabling-service-catalog"><a class="anchor" href="#enabling-service-catalog"></a>Configuring the Service Catalog</h3>
<div class="paragraph">
<p>Starting with OpenShift Origin 3.7, the
<a href="../../architecture/service_catalog/index.html#architecture-additional-concepts-service-catalog">service
catalog</a> is enabled by default during installation. Enabling the service broker
allows service brokers to be registered with the catalog. The web console is
also configured to enable an updated landing page for browsing the catalog.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To disable automatic deployment, set the following cluster variables in your
inventory file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_enable_service_catalog=false
openshift_service_catalog_image_prefix=openshift/origin-
openshift_service_catalog_image_version=latest</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the service catalog is enabled, the web console shows the updated landing
page. The OpenShift Ansible broker and template service broker are both enabled
as well; see <a href="#configuring-openshift-ansible-broker">Configuring the OpenShift Ansible Broker</a> and <a href="#configuring-template-service-broker">Configuring the Template Service Broker</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-openshift-ansible-broker"><a class="anchor" href="#configuring-openshift-ansible-broker"></a>Configuring the OpenShift Ansible Broker</h3>
<div class="paragraph">
<p>Starting with OpenShift Origin 3.7, the
<a href="../../architecture/service_catalog/ansible_service_broker.html#arch-ansible-service-broker">OpenShift
Ansible broker</a> (OAB) is enabled by default. However, further configuration may be required for use.</p>
</div>
<div class="sect3">
<h4 id="configuring-oab-storage"><a class="anchor" href="#configuring-oab-storage"></a>Configuring Persistent Storage for the OpenShift Ansible Broker</h4>
<div class="paragraph">
<p>The OAB deploys its own etcd instance separate from the etcd used by the rest of
the OpenShift Origin cluster. The OAB&#8217;s etcd instance requires separate storage
using persistent volumes (PVs) to function. If no PV is available, etcd will
wait until the PV can be satisfied. The OAB application will enter a <code>CrashLoop</code>
state until its etcd instance is available.</p>
</div>
<div class="paragraph">
<p>Some Ansible playbook bundles (APBs) may also require a PV for their own usage.
Two APBs are currently provided with OpenShift Origin 3.7: MediaWiki and
PostgreSQL. Both of these require their own PV to deploy.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The following example shows usage of an NFS host to provide the required PVs,
but
<a href="../../install_config/persistent_storage/index.html#install-config-persistent-storage-index">other persistent storage providers</a> can be used instead.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To configure persistent storage for the OAB:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In your inventory file, add <code>nfs</code> to the <code>[OSEv3:children]</code> section to enable
the <code>[nfs]</code> group:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:children]
masters
nodes
nfs</pre>
</div>
</div>
</li>
<li>
<p>Add a <code>[nfs]</code> group section and add the host name for the system that will
be the NFS host:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[nfs]
master1.example.com</pre>
</div>
</div>
</li>
<li>
<p>Add the following in the <code>[OSEv3:vars]</code> section:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_hosted_etcd_storage_kind=nfs
openshift_hosted_etcd_storage_nfs_options="*(rw,root_squash,sync,no_wdelay)"
openshift_hosted_etcd_storage_nfs_directory=/opt/osev3-etcd <i class="conum" data-value="1"></i><b>(1)</b>
openshift_hosted_etcd_storage_volume_name=etcd-vol2 <i class="conum" data-value="1"></i><b>(1)</b>
openshift_hosted_etcd_storage_access_modes=["ReadWriteOnce"]
openshift_hosted_etcd_storage_volume_size=1G
openshift_hosted_etcd_storage_labels={'storage': 'etcd'}

ansible_service_broker_image_prefix=openshift/
ansible_service_broker_registry_url="registry.access.redhat.com"
ansible_service_broker_registry_user=&lt;user_name&gt; <i class="conum" data-value="2"></i><b>(2)</b>
ansible_service_broker_registry_password=&lt;password&gt; <i class="conum" data-value="2"></i><b>(2)</b>
ansible_service_broker_registry_organization=&lt;organization&gt; <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An NFS volume will be created with path <code>&lt;nfs_directory&gt;/&lt;volume_name&gt;</code> on the
host within the <code>[nfs]</code> group. For example, the volume path using these options
would be <strong><em>/opt/osev3-etcd/etcd-vol2</em></strong>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Only required if <code>ansible_service_broker_registry_url</code> is set to a registry that
requires authentication for pulling APBs.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>These settings create a persistent volume that is attached to the OAB&#8217;s etcd
instance during cluster installation.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="configuring-oab-local-apb-devel"><a class="anchor" href="#configuring-oab-local-apb-devel"></a>Configuring the OpenShift Ansible Broker for Local APB Development</h4>
<div class="paragraph">
<p>In order to do <a href="../../apb_devel/index.html#apb-devel-intro">APB development</a>
with the OpenShift Container Registry in conjunction with the OAB, a whitelist
of images the OAB can access must be defined. If a whitelist is not defined, the
broker will ignore APBs and users will not see any APBs available.</p>
</div>
<div class="paragraph">
<p>By default, the whitelist is empty so that a user cannot add APB images to the
broker without a cluster administrator configuring the broker. To whitelist all
images that end in <code>-apb</code>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In your inventory file, add the following to the <code>[OSEv3:vars]</code> section:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">ansible_service_broker_local_registry_whitelist=['.*-apb$']</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-template-service-broker"><a class="anchor" href="#configuring-template-service-broker"></a>Configuring the Template Service Broker</h3>
<div class="paragraph">
<p>Starting with OpenShift Origin 3.7, the <a href="../../architecture/service_catalog/template_service_broker.html#arch-template-service-broke">template service broker</a> (TSB) is enabled by default.</p>
</div>
<div class="paragraph">
<p>To configure the TSB, one or more projects must be defined as the broker&#8217;s
source namespace(s) for loading templates and image streams into the service
catalog. Set the desired projects by modifying the following in your inventory
file&#8217;s <code>[OSEv3:vars]</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">openshift_template_service_broker_namespaces=['openshift','myproject']</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-web-console-customization"><a class="anchor" href="#configuring-web-console-customization"></a>Configuring Web Console Customization</h3>
<div class="paragraph">
<p>The following Ansible variables set master configuration options for customizing
the web console. See
<a href="../../install_config/web_console_customization.html#install-config-web-console-customization">Customizing the Web Console</a> for more details on these customization options.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Web Console Customization Variables</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_logout_url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>logoutURL</code> in the master configuration. See <a href="../../install_config/web_console_customization.html#changing-the-logout-url">Changing the Logout URL</a> for details. Example value: <code>http://example.com</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_extension_scripts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>extensionScripts</code> in the master configuration. See <a href="../../install_config/web_console_customization.html#loading-custom-scripts-and-stylesheets">Loading Extension Scripts and Stylesheets</a> for details. Example value: <code>['/path/to/script1.js','/path/to/script2.js']</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_extension_stylesheets</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>extensionStylesheets</code> in the master configuration. See <a href="../../install_config/web_console_customization.html#loading-custom-scripts-and-stylesheets">Loading Extension Scripts and Stylesheets</a> for details. Example value: <code>['/path/to/stylesheet1.css','/path/to/stylesheet2.css']</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_extensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>extensions</code> in the master configuration. See <a href="../../install_config/web_console_customization.html#serving-static-files">Serving Static Files</a> and <a href="../../install_config/web_console_customization.html#customizing-the-about-page">Customizing the About Page</a> for details. Example value: <code>[{'name': 'images', 'sourceDirectory': '/path/to/my_images'}]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_oauth_template</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the OAuth template in the master configuration. See <a href="../../install_config/web_console_customization.html#customizing-the-login-page">Customizing the Login Page</a> for details. Example value: <code>['/path/to/login-template.html']</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_metrics_public_url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>metricsPublicURL</code> in the master configuration. See <a href="../../install_config/cluster_metrics.html#install-setting-the-metrics-public-url">Setting the Metrics Public URL</a> for details. Example value: <code>https://hawkular-metrics.example.com/hawkular/metrics</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openshift_master_logging_public_url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets <code>loggingPublicURL</code> in the master configuration. See <a href="../../install_config/aggregate_logging.html#aggregate-logging-kibana">Kibana</a> for details. Example value: <code>https://kibana.example.com</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adv-install-example-inventory-files"><a class="anchor" href="#adv-install-example-inventory-files"></a>Example Inventory Files</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="single-master"><a class="anchor" href="#single-master"></a>Single Master Examples</h3>
<div class="paragraph">
<p>You can configure an environment with a single master and multiple nodes, and
either a single or multiple number of external etcd hosts.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Moving from a single master cluster to multiple masters after installation is
not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<h4 id="single-master-multi-node-ai" class="discrete">Single Master, Single etcd, and Multiple Nodes</h4>
<div class="paragraph">
<p>The following table describes an example environment for a single
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">master</a>
(with a single <strong>etcd</strong> on the same host), two
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#node">nodes</a>
for hosting user applications, and two nodes with the <code>region=infra</code> label for hosting
<a href="#configuring-dedicated-infrastructure-nodes">dedicated infrastructure</a>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host Name</th>
<th class="tableblock halign-left valign-top">Infrastructure Component to Install</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master.example.com</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master, etcd, and node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node (with <code>region=infra</code> label)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node2.example.com</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can see these example hosts present in the <strong>[masters]</strong>, <strong>[etcd]</strong>, and
<strong>[nodes]</strong> sections of the following example inventory file:</p>
</div>
<div class="listingblock">
<div class="title">Single Master, Single etcd, and Multiple Nodes Inventory File</div>
<div class="content">
<pre class="nowrap"># Create an OSEv3 group that contains the masters, nodes, and etcd groups
[OSEv3:children]
masters
nodes
etcd

# Set variables common for all OSEv3 hosts
[OSEv3:vars]
# SSH user, this user should allow ssh based auth without requiring a password
ansible_ssh_user=root

# If ansible_ssh_user is not root, ansible_become must be set to true
#ansible_become=true

openshift_deployment_type=origin

# uncomment the following to enable htpasswd authentication; defaults to DenyAllPasswordIdentityProvider
#openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/origin/master/htpasswd'}]

# host group for masters
[masters]
master.example.com

# host group for etcd
[etcd]
master.example.com

# host group for nodes, includes region info
[nodes]
master.example.com
node1.example.com openshift_node_labels="{'region': 'primary', 'zone': 'east'}"
node2.example.com openshift_node_labels="{'region': 'primary', 'zone': 'west'}"
infra-node1.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"
infra-node2.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"</pre>
</div>
</div>
<div class="paragraph">
<p>To use this example, modify the file to match your environment and
specifications, and save it as <strong><em>/etc/ansible/hosts</em></strong>.</p>
</div>
<h4 id="single-master-multi-etcd-multi-node-ai" class="discrete">Single Master, Multiple etcd, and Multiple Nodes</h4>
<div class="paragraph">
<p>The following table describes an example environment for a single
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">master</a>,
three
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">etcd</a>
hosts, two
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#node">nodes</a>
for hosting user applications, and two nodes with the <code>region=infra</code> label for hosting
<a href="#configuring-dedicated-infrastructure-nodes">dedicated infrastructure</a>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host Name</th>
<th class="tableblock halign-left valign-top">Infrastructure Component to Install</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master.example.com</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master and node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">etcd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd3.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node (with <code>region=infra</code> label)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node2.example.com</strong></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When specifying multiple etcd hosts, external etcd is installed and
configured. Clustering of OpenShift Origin&#8217;s embedded etcd is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can see these example hosts present in the <strong>[masters]</strong>, <strong>[nodes]</strong>, and
<strong>[etcd]</strong> sections of the following example inventory file:</p>
</div>
<div class="listingblock">
<div class="title">Single Master, Multiple etcd, and Multiple Nodes Inventory File</div>
<div class="content">
<pre class="nowrap"># Create an OSEv3 group that contains the masters, nodes, and etcd groups
[OSEv3:children]
masters
nodes
etcd

# Set variables common for all OSEv3 hosts
[OSEv3:vars]
ansible_ssh_user=root
openshift_deployment_type=origin

# uncomment the following to enable htpasswd authentication; defaults to DenyAllPasswordIdentityProvider
#openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/origin/master/htpasswd'}]

# host group for masters
[masters]
master.example.com

# host group for etcd
[etcd]
etcd1.example.com
etcd2.example.com
etcd3.example.com

# host group for nodes, includes region info
[nodes]
master.example.com
node1.example.com openshift_node_labels="{'region': 'primary', 'zone': 'east'}"
node2.example.com openshift_node_labels="{'region': 'primary', 'zone': 'west'}"
infra-node1.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"
infra-node2.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"</pre>
</div>
</div>
<div class="paragraph">
<p>To use this example, modify the file to match your environment and
specifications, and save it as <strong><em>/etc/ansible/hosts</em></strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="multiple-masters"><a class="anchor" href="#multiple-masters"></a>Multiple Masters Examples</h3>
<div class="paragraph">
<p>You can configure an environment with multiple masters, multiple etcd hosts,
and multiple nodes. Configuring
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#high-availability-masters">multiple
masters for high availability</a> (HA) ensures that the cluster has no single point
of failure.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Moving from a single master cluster to multiple masters after installation is
not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When configuring multiple masters, the advanced installation supports the
<code>native</code> high availability (HA) method. This method leverages the native HA
master capabilities built into OpenShift Origin and can be combined with any load
balancing solution.</p>
</div>
<div class="paragraph">
<p>If a host is defined in the <strong>[lb]</strong> section of the inventory file, Ansible
installs and configures HAProxy automatically as the load balancing solution. If
no host is defined, it is assumed you have pre-configured an external load
balancing solution of your choice to balance the master API (port 8443) on all
master hosts.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This HAProxy load balancer is intended to demonstrate the API server&#8217;s HA mode
and is not recommended for production environments. If you are deploying to a
cloud provider, Red Hat recommends deploying a cloud-native TCP-based load
balancer or take other steps to provide a highly available load balancer.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For an external load balancing solution, you must have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A pre-created load balancer VIP configured for SSL passthrough.</p>
</li>
<li>
<p>A VIP listening on the port specified by the <a href="#advanced-master-ports"><code>openshift_master_api_port</code></a> and <a href="#advanced-master-ports"><code>openshift_master_console_port</code></a>
values (8443 by default) and proxying back to all master hosts on that port.</p>
</li>
<li>
<p>A domain name for VIP registered in DNS.</p>
<div class="ulist">
<ul>
<li>
<p>The domain name will become the value of both
<code>openshift_master_cluster_public_hostname</code> and
<code>openshift_master_cluster_hostname</code> in the OpenShift Origin installer.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>See
<a href="https://github.com/redhat-cop/openshift-playbooks/blob/master/playbooks/installation/load_balancing.adoc">External Load Balancer Integrations</a> for more information. For more on the high
availability master architecture, see
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">Kubernetes Infrastructure</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The advanced installation method does not currently support multiple HAProxy
load balancers in an active-passive setup. See the
<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Load_Balancer_Administration/ch-lvs-overview-VSA.html">Load Balancer Administration documentation</a> for post-installation amendments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To configure multiple masters, refer to the following section.</p>
</div>
<h4 id="multi-masters-using-native-ha-ai" class="discrete">Multiple Masters with Multiple etcd</h4>
<div class="paragraph">
<p>The following describes an example environment for three
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">masters</a>
using the <code>native</code> HA method:, one HAProxy load balancer, three
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master"><strong>etcd</strong></a>
hosts, two
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#node">nodes</a>
for hosting user applications, and two nodes with the <code>region=infra</code> label for hosting
<a href="#configuring-dedicated-infrastructure-nodes">dedicated infrastructure</a>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host Name</th>
<th class="tableblock halign-left valign-top">Infrastructure Component to Install</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Master (clustered using native HA) and node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master3.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lb.example.com</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HAProxy to load balance API master endpoints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><strong>etcd</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd3.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node (with <code>region=infra</code> label)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node2.example.com</strong></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When specifying multiple <strong>etcd</strong> hosts, external <strong>etcd</strong> is installed and
configured. Clustering of OpenShift Origin&#8217;s embedded <strong>etcd</strong> is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can see these example hosts present in the <strong>[masters]</strong>, <strong>[etcd]</strong>, <strong>[lb]</strong>,
and <strong>[nodes]</strong> sections of the following example inventory file:</p>
</div>
<div class="listingblock">
<div class="title">Multiple Masters Using HAProxy Inventory File</div>
<div class="content">
<pre class="nowrap"># Create an OSEv3 group that contains the master, nodes, etcd, and lb groups.
# The lb group lets Ansible configure HAProxy as the load balancing solution.
# Comment lb out if your load balancer is pre-configured.
[OSEv3:children]
masters
nodes
etcd
lb

# Set variables common for all OSEv3 hosts
[OSEv3:vars]
ansible_ssh_user=root
openshift_deployment_type=origin

# Uncomment the following to enable htpasswd authentication; defaults to
# DenyAllPasswordIdentityProvider.
#openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/origin/master/htpasswd'}]

# Native high availbility cluster method with optional load balancer.
# If no lb group is defined installer assumes that a load balancer has
# been preconfigured. For installation the value of
# openshift_master_cluster_hostname must resolve to the load balancer
# or to one or all of the masters defined in the inventory if no load
# balancer is present.
openshift_master_cluster_method=native
openshift_master_cluster_hostname=openshift-cluster.example.com
openshift_master_cluster_public_hostname=openshift-cluster.example.com

# apply updated node defaults
openshift_node_kubelet_args={'pods-per-core': ['10'], 'max-pods': ['250'], 'image-gc-high-threshold': ['90'], 'image-gc-low-threshold': ['80']}

# enable ntp on masters to ensure proper failover
openshift_clock_enabled=true

# host group for masters
[masters]
master1.example.com
master2.example.com
master3.example.com

# host group for etcd
[etcd]
etcd1.example.com
etcd2.example.com
etcd3.example.com

# Specify load balancer host
[lb]
lb.example.com

# host group for nodes, includes region info
[nodes]
master[1:3].example.com
node1.example.com openshift_node_labels="{'region': 'primary', 'zone': 'east'}"
node2.example.com openshift_node_labels="{'region': 'primary', 'zone': 'west'}"
infra-node1.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"
infra-node2.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"</pre>
</div>
</div>
<div class="paragraph">
<p>To use this example, modify the file to match your environment and
specifications, and save it as <strong><em>/etc/ansible/hosts</em></strong>.</p>
</div>
<h4 id="multi-masters-single-etcd-using-native-ha" class="discrete">Multiple Masters with Master and etcd on the Same Host</h4>
<div class="paragraph">
<p>The following describes an example environment for three
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">masters</a>
using the <code>native</code> HA method (with
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master"><strong>etcd</strong></a>
on each host), one HAProxy load balancer, two
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#node">nodes</a>
for hosting user applications, and two nodes with the <code>region=infra</code> label for hosting
<a href="#configuring-dedicated-infrastructure-nodes">dedicated infrastructure</a>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host Name</th>
<th class="tableblock halign-left valign-top">Infrastructure Component to Install</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Master (clustered using native HA) and node with etcd on each host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>master3.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lb.example.com</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HAProxy to load balance API master endpoints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>node2.example.com</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node1.example.com</strong></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Node (with <code>region=infra</code> label)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>infra-node2.example.com</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can see these example hosts present in the <strong>[masters]</strong>, <strong>[etcd]</strong>, <strong>[lb]</strong>,
and <strong>[nodes]</strong> sections of the following example inventory file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># Create an OSEv3 group that contains the master, nodes, etcd, and lb groups.
# The lb group lets Ansible configure HAProxy as the load balancing solution.
# Comment lb out if your load balancer is pre-configured.
[OSEv3:children]
masters
nodes
etcd
lb

# Set variables common for all OSEv3 hosts
[OSEv3:vars]
ansible_ssh_user=root
openshift_deployment_type=openshift-enterprise

# Uncomment the following to enable htpasswd authentication; defaults to
# DenyAllPasswordIdentityProvider.
#openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/origin/master/htpasswd'}]

# Native high availability cluster method with optional load balancer.
# If no lb group is defined installer assumes that a load balancer has
# been preconfigured. For installation the value of
# openshift_master_cluster_hostname must resolve to the load balancer
# or to one or all of the masters defined in the inventory if no load
# balancer is present.
openshift_master_cluster_method=native
openshift_master_cluster_hostname=openshift-cluster.example.com
openshift_master_cluster_public_hostname=openshift-cluster.example.com

# host group for masters
[masters]
master1.example.com
master2.example.com
master3.example.com

# host group for etcd
[etcd]
master1.example.com
master2.example.com
master3.example.com

# Specify load balancer host
[lb]
lb.example.com

# host group for nodes, includes region info
[nodes]
master[1:3].example.com
node1.example.com openshift_node_labels="{'region': 'primary', 'zone': 'east'}"
node2.example.com openshift_node_labels="{'region': 'primary', 'zone': 'west'}"
infra-node1.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"
infra-node2.example.com openshift_node_labels="{'region': 'infra', 'zone': 'default'}"</pre>
</div>
</div>
<div class="paragraph">
<p>To use this example, modify the file to match your environment and
specifications, and save it as <strong><em>/etc/ansible/hosts</em></strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-advanced-installation"><a class="anchor" href="#running-the-advanced-installation"></a>Running the Advanced Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you have <a href="#configuring-ansible">configured Ansible</a> by defining an
inventory file in <strong><em>/etc/ansible/hosts</em></strong>, you run the advanced installation
playbook via Ansible. OpenShift Origin installations are currently supported
using the RPM-based installer, while the containerized installer is currently a
Technology Preview feature.</p>
</div>
<div class="paragraph">
<p>The installer uses modularized playbooks allowing administrators to install
specific components as needed. By breaking up the roles and playbooks, there is
better targeting of ad hoc administration tasks. This results in an increased
level of control during installations and results in time savings.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The playbooks and their ordering are detailed below in
<a href="#running-the-advanced-installation-individual-components">Running Individual Component Playbooks</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="running-the-advanced-installation-rpm"><a class="anchor" href="#running-the-advanced-installation-rpm"></a>Running the RPM-based Installer</h3>
<div class="paragraph">
<p>The RPM-based installer uses Ansible installed via RPM packages to run playbooks
and configuration files available on the local host. To run the installer, use
the following command, specifying <code>-i</code> if your inventory file located somewhere
other than <strong><em>/etc/ansible/hosts</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ansible-playbook [-i /path/to/inventory] \
    ~/openshift-ansible/playbooks/byo/config.yml</pre>
</div>
</div>
<div class="paragraph">
<p>If for any reason the installation fails, before re-running the installer, see
<a href="#installer-known-issues">Known Issues</a> to check for any specific
instructions or workarounds.</p>
</div>
</div>
<div class="sect2">
<h3 id="running-the-advanced-installation-containerized"><a class="anchor" href="#running-the-advanced-installation-containerized"></a>Running the Containerized Installer</h3>
<div class="paragraph">
<p>The
<strong>openshift/origin-ansible</strong>
image is a containerized version of the OpenShift Origin installer.
This installer image provides the same functionality as the RPM-based
installer, but it runs in a containerized environment that provides all
of its dependencies rather than being installed directly on the host.
The only requirement to use it is the ability to run a container.</p>
</div>
<div class="sect3">
<h4 id="running-the-advanced-installation-system-container"><a class="anchor" href="#running-the-advanced-installation-system-container"></a>Running the Installer as a System Container</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All system container components are
<a href="https://github.com/openshift/origin#support-for-kubernetes-alpha-features">Tech Preview</a>
features in OpenShift Origin 3.7. They must not be used in production and they
are not supported for upgrades to OpenShift Origin 3.7. During this phase, they
are only meant for use with new cluster installations in non-production
environments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The installer image can be used as a
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html/managing_containers/running_system_containers">system container</a>.
System containers are stored and run outside of the traditional <strong>docker</strong> service.
This enables running the installer image from one of the target hosts without
concern for the install restarting <strong>docker</strong> on the host.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As the <code>root</code> user, use the Atomic CLI to run the installer as a run-once system container:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># atomic install --system \
    --storage=ostree \
    --set INVENTORY_FILE=/path/to/inventory \ <i class="conum" data-value="1"></i><b>(1)</b>
    docker.io/openshift/origin-ansible:v3.7</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify the location on the local host for your inventory file.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This command initiates the cluster installation by using the inventory file specified and the <code>root</code> user&#8217;s
SSH configuration. It logs the output on the terminal and also saves it in the <strong><em>/var/log/ansible.log</em></strong> file.
The first time this command is run, the image is imported into
<a href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.2/html/content_management_guide/managing_ostree_content">OSTree</a>
storage (system containers use this rather than <strong>docker</strong> daemon storage).
On subsequent runs, it reuses the stored image.</p>
</div>
<div class="paragraph">
<p>If for any reason the installation fails, before re-running the installer, see
<a href="#installer-known-issues">Known Issues</a> to check for any specific instructions
or workarounds.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="running-the-advanced-installation-system-container-other-playbooks"><a class="anchor" href="#running-the-advanced-installation-system-container-other-playbooks"></a>Running Other Playbooks</h4>
<div class="paragraph">
<p>You can use the <code>PLAYBOOK_FILE</code> environment variable to specify other playbooks
you want to run by using the containerized installer. The default value of the <code>PLAYBOOK_FILE</code> is
<strong><em>/usr/share/ansible/openshift-ansible/playbooks/byo/config.yml</em></strong>, which is the
main cluster installation playbook, but you can set it to the path of another
playbook inside the container.</p>
</div>
<div class="paragraph">
<p>For example, to run the
<a href="#configuring-cluster-pre-install-checks">pre-install checks</a> playbook before
installation, use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># atomic install --system \
    --storage=ostree \
    --set INVENTORY_FILE=/path/to/inventory \
    --set PLAYBOOK_FILE=/usr/share/ansible/openshift-ansible/playbooks/byo/openshift-checks/pre-install.yml \ <i class="conum" data-value="1"></i><b>(1)</b>
    --set OPTS="-v" \ <i class="conum" data-value="2"></i><b>(2)</b>
    docker.io/openshift/origin-ansible:v3.7</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set <code>PLAYBOOK_FILE</code> to the full path of the playbook starting at the
<strong><em>playbooks/</em></strong> directory. Playbooks are located in the same locations as with
the RPM-based installer.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set <code>OPTS</code> to add command line options to <code>ansible-playbook</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="running-the-advanced-installation-docker"><a class="anchor" href="#running-the-advanced-installation-docker"></a>Running the Installer as a Docker Container</h4>
<div class="paragraph">
<p>The installer image can also run as a <strong>docker</strong> container anywhere that <strong>docker</strong> can run.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This method must not be used to run the installer on one of the hosts being configured,
as the install may restart <strong>docker</strong> on the host, disrupting the installer container execution.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Although this method and the system container method above use the same image, they
run with different entry points and contexts, so runtime parameters are not the same.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>At a minimum, when running the installer as a <strong>docker</strong> container you must provide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SSH key(s), so that Ansible can reach your hosts.</p>
</li>
<li>
<p>An Ansible inventory file.</p>
</li>
<li>
<p>The location of the Ansible playbook to run against that inventory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example of how to run an install via <strong>docker</strong>.
Note that this must be run by a non-<code>root</code> user with access to <strong>docker</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ docker run -t -u `id -u` \ <i class="conum" data-value="1"></i><b>(1)</b>
    -v $HOME/.ssh/id_rsa:/opt/app-root/src/.ssh/id_rsa:Z \ <i class="conum" data-value="2"></i><b>(2)</b>
    -v $HOME/ansible/hosts:/tmp/inventory:Z \ <i class="conum" data-value="3"></i><b>(3)</b>
    -e INVENTORY_FILE=/tmp/inventory \ <i class="conum" data-value="3"></i><b>(3)</b>
    -e PLAYBOOK_FILE=playbooks/byo/config.yml \ <i class="conum" data-value="4"></i><b>(4)</b>
    -e OPTS="-v" \ <i class="conum" data-value="5"></i><b>(5)</b>
    docker.io/openshift/origin-ansible:v3.7</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>-u `id -u`</code> makes the container run with the same UID as the current
user, which allows that user to use the SSH key inside the container (SSH
private keys are expected to be readable only by their owner).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>-v $HOME/.ssh/id_rsa:/opt/app-root/src/.ssh/id_rsa:Z</code> mounts your
SSH key (<code>$HOME/.ssh/id_rsa</code>) under the container user&#8217;s <code>$HOME/.ssh</code>
(<strong><em>/opt/app-root/src</em></strong> is the <code>$HOME</code> of the user in the container). If
you mount the SSH key into a non-standard location you can add an
environment variable with <code>-e ANSIBLE_PRIVATE_KEY_FILE=/the/mount/point</code>
or set <code>ansible_ssh_private_key_file=/the/mount/point</code> as a variable in
the inventory to point Ansible at it.
<div class="paragraph">
<p>Note that the SSH key is mounted with the <code>:Z</code> flag. This is
required so that the container can read the SSH key under
its restricted SELinux context. This also means that your
original SSH key file will be re-labeled to something like
<code>system_u:object_r:container_file_t:s0:c113,c247</code>. For more details
about <code>:Z</code> please check the <code>docker-run(1)</code> man page. Keep this in mind
when providing these volume mount specifications because this might
have unexpected consequences: for example, if you mount (and therefore
re-label) your whole <code>$HOME/.ssh</code> directory it will block the host&#8217;s
<strong>sshd</strong> from accessing your public keys to login. For this reason you
may want to use a separate copy of the SSH key (or directory), so that
the original file labels remain untouched.</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>-v $HOME/ansible/hosts:/tmp/inventory:Z</code> and <code>-e INVENTORY_FILE=/tmp/inventory</code>
mount a static Ansible inventory file into the container as
<strong><em>/tmp/inventory</em></strong> and set the corresponding environment variable to
point at it. As with the SSH key, the inventory file SELinux labels may
need to be relabeled by using the <code>:Z</code> flag to allow reading in the container,
depending on the existing label (for files in a user <code>$HOME</code> directory
this is likely to be needed). So again you may prefer to copy the
inventory to a dedicated location before mounting it.
<div class="paragraph">
<p>The inventory file can also be downloaded from a web server if you specify
the <code>INVENTORY_URL</code> environment variable, or generated dynamically using
<code>DYNAMIC_SCRIPT_URL</code> to specify an executable script that provides a
dynamic inventory.</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>-e PLAYBOOK_FILE=playbooks/byo/config.yml</code> specifies the playbook
to run (in this example, the BYO installer) as a relative path from the
top level directory of <strong>openshift-ansible</strong> content. The full path from the
RPM can also be used, as well as the path to any other playbook file in
the container.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>-e OPTS="-v"</code> supplies arbitrary command line options (in this case,
<code>-v</code> to increase verbosity) to the <code>ansible-playbook</code> command that runs
inside the container.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-the-advanced-installation-individual-components"><a class="anchor" href="#running-the-advanced-installation-individual-components"></a>Running Individual Component Playbooks</h3>
<div class="paragraph">
<p>The main installation playbook <strong><em>~/openshift-ansible/playbooks/byo/config.yml</em></strong> runs a
set of individual component playbooks in a specific order, and the installer
reports back at the end what phases you have gone through. If the installation
fails during a phase, you are notified on the screen along with the errors from
the Ansible run.</p>
</div>
<div class="paragraph">
<p>After you resolve the issue, rather than run the entire installation over again,
you can pick up from the failed phase. You must then run each of the remaining
playbooks in order:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ansible-playbook  [-i /path/to/inventory] &lt;playbook_file_location&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The following table is sorted in order of when each individual component
playbook is run:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. Individual Component Playbook Run Order</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Playbook Name</th>
<th class="tableblock halign-left valign-top">File Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Health Check</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-checks/pre-install.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etcd Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-etcd/config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFS Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-nfs/config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load Balancer Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-loadbalancer/config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-master/config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master Additional Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-master/additional_config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-node/config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlusterFS Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-glusterfs/config.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hosted Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-cluster/openshift-hosted.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metrics Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-cluster/openshift-metrics.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-cluster/openshift-logging.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prometheus Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-cluster/openshift-prometheus.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Catalog Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-cluster/service-catalog.yml</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management Install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>~/openshift-ansible/playbooks/byo/openshift-management/config.yml</em></strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-verifying-the-installation"><a class="anchor" href="#advanced-verifying-the-installation"></a>Verifying the Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After the installation completes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the master is started and nodes
are registered and reporting in <strong>Ready</strong> status. <em>On the master host</em>, run the
following as root:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># oc get nodes

NAME                        STATUS                     AGE
master.example.com          Ready,SchedulingDisabled   165d
node1.example.com           Ready                      165d
node2.example.com           Ready                      165d</pre>
</div>
</div>
</li>
<li>
<p>To verify that the web console is installed correctly, use the master host name
and the web console port number to access the web console with a web browser.</p>
<div class="paragraph">
<p>For example, for a master host with a host name of <code>master.openshift.com</code> and
using the default port of <code>8443</code>, the web console would be found at <code>https://master.openshift.com:8443/console</code>.</p>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The default port for the console is <code>8443</code>. If this was changed during the installation, the port can be found at <strong>openshift_master_console_port</strong> in the <strong><em>/etc/ansible/hosts</em></strong> file.</p>
</div>
</td>
</tr>
</table>
</div>
<h4 id="verifying-multiple-etcd-hosts" class="discrete">Verifying Multiple etcd Hosts</h4>
<div class="paragraph">
<p>If you installed multiple etcd hosts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, verify that the <strong>etcd</strong> package, which provides the <code>etcdctl</code>
command, is installed:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install etcd</pre>
</div>
</div>
</li>
<li>
<p>On a master host, verify the etcd cluster health, substituting for the FQDNs
of your etcd hosts in the following:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl -C \
    https://etcd1.example.com:2379,https://etcd2.example.com:2379,https://etcd3.example.com:2379 \
    --ca-file=/etc/origin/master/master.etcd-ca.crt \
    --cert-file=/etc/origin/master/master.etcd-client.crt \
    --key-file=/etc/origin/master/master.etcd-client.key cluster-health</pre>
</div>
</div>
</li>
<li>
<p>Also verify the member list is correct:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># etcdctl -C \
    https://etcd1.example.com:2379,https://etcd2.example.com:2379,https://etcd3.example.com:2379 \
    --ca-file=/etc/origin/master/master.etcd-ca.crt \
    --cert-file=/etc/origin/master/master.etcd-client.crt \
    --key-file=/etc/origin/master/master.etcd-client.key member list</pre>
</div>
</div>
</li>
</ol>
</div>
<h4 id="verifying-multiple-masters-haproxy" class="discrete">Verifying Multiple Masters Using HAProxy</h4>
<div class="paragraph">
<p>If you installed multiple masters using HAProxy as a load balancer, browse to
the following URL according to your <strong>[lb]</strong> section definition and check
HAProxy&#8217;s status:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">http://&lt;lb_hostname&gt;:9000</pre>
</div>
</div>
<div class="paragraph">
<p>You can verify your installation by consulting the
<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Load_Balancer_Administration/ch-haproxy-setup-VSA.html">HAProxy
Configuration documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="uninstalling-advanced"><a class="anchor" href="#uninstalling-advanced"></a>Uninstalling OpenShift Origin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can uninstall OpenShift Origin hosts in your cluster by running the
<strong><em>uninstall.yml</em></strong> playbook. This playbook deletes OpenShift Origin content
installed by Ansible, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuration</p>
</li>
<li>
<p>Containers</p>
</li>
<li>
<p>Default templates and image streams</p>
</li>
<li>
<p>Images</p>
</li>
<li>
<p>RPM packages</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The playbook will delete content for any hosts defined in the inventory file
that you specify when running the playbook. If you want to uninstall
OpenShift Origin across all hosts in your cluster, run the playbook using the
inventory file you used when installing OpenShift Origin initially or ran most
recently:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ansible-playbook [-i /path/to/file] \
    ~/openshift-ansible/playbooks/adhoc/uninstall.yml</pre>
</div>
</div>
<div class="sect2">
<h3 id="uninstalling-nodes-advanced"><a class="anchor" href="#uninstalling-nodes-advanced"></a>Uninstalling Nodes</h3>
<div class="paragraph">
<p>You can also uninstall node components from specific hosts using the
<strong><em>uninstall.yml</em></strong> playbook while leaving the remaining hosts and cluster alone:</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This method should only be used when attempting to uninstall specific node hosts
and not for specific masters or etcd hosts, which would require further
configuration changes within the cluster.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First follow the steps in
<a href="../../admin_guide/manage_nodes.html#deleting-nodes">Deleting Nodes</a> to
remove the node object from the cluster, then continue with the remaining steps
in this procedure.</p>
</li>
<li>
<p>Create a different inventory file that only references those hosts. For
example, to only delete content from one node:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[OSEv3:children]
nodes <i class="conum" data-value="1"></i><b>(1)</b>

[OSEv3:vars]
ansible_ssh_user=root
openshift_deployment_type=origin

[nodes]
node3.example.com openshift_node_labels="{'region': 'primary', 'zone': 'west'}" <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Only include the sections that pertain to the hosts you are interested in
uninstalling.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Only include hosts that you want to uninstall.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Specify that new inventory file using the <code>-i</code> option when running the
<strong><em>uninstall.yml</em></strong> playbook:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ansible-playbook -i /path/to/new/file \
    ~/openshift-ansible/playbooks/adhoc/uninstall.yml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When the playbook completes, all OpenShift Origin content should be removed from
any specified hosts.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installer-known-issues"><a class="anchor" href="#installer-known-issues"></a>Known Issues</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>On failover in multiple master clusters, it is possible for the controller
manager to overcorrect, which causes the system to run more pods than what was
intended. However, this is a transient event and the system does correct itself
over time. See <a href="https://github.com/kubernetes/kubernetes/issues/10030" class="bare">https://github.com/kubernetes/kubernetes/issues/10030</a> for
details.</p>
</li>
<li>
<p>On failure of the Ansible installer, you must start from a clean operating
system installation. If you are using virtual machines, start from a fresh
image. If you are using bare metal machines, see
<a href="#uninstalling-advanced">Uninstalling OpenShift Origin</a> for instructions.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-s-next"><a class="anchor" href="#what-s-next"></a>What&#8217;s Next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have a working OpenShift Origin instance, you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../install_config/configuring_authentication.html#install-config-configuring-authentication">Configure
authentication</a>; by default, authentication is set to
<a href="../../install_config/configuring_authentication.html#AllowAllPasswordIdentityProvider">Allow
All</a>.</p>
</li>
<li>
<p>Deploy an <a href="../../install_config/registry/index.html#install-config-registry-overview">integrated Docker registry</a>.</p>
</li>
<li>
<p>Deploy a <a href="../../install_config/router/index.html#install-config-router-overview">router</a>.</p>
</li>
<li>
<p><a href="../../install_config/imagestreams_templates.html#install-config-imagestreams-templates">Populate your OpenShift Origin installation</a>
with a useful set of Red Hat-provided image streams and templates.</p>
</li>
</ul>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-origin-docs">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div id="footer_social">
          <a href="https://twitter.com/openshift" class="first">
            <span>
              <i class="fa fa-twitter-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://github.com/openshift/origin">
            <span>
              <i class="fa fa-github fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://plus.google.com/communities/114361859072744017486">
            <span>
              <i class="fa fa-google-plus-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://www.facebook.com/openshift">
            <span>
              <i class="fa fa-facebook-square fa-2x fa-inverse"></i>
            </span>
          </a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <a id="footer_logo" href="https://www.redhat.com/">
          <img alt="Red Hat" src="https://assets.openshift.net/app/assets/redhat.svg">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-center">
        <a id="powered_by_openshift" title="Powered by OpenShift Online with the DIY Cartridge" href="https://hub.openshift.com/quickstarts/92-do-it-yourself-0-1">
          <img src="https://www.openshift.com/sites/default/files/images/powered-transparent-white.png" alt="Powered by OpenShift Online">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-right">
        <a id="built_with_asciibinder" title="Built with AsciiBinder docs management system" href="http://asciibinder.org/">
          <img src="../../../go-client-preview/_images/asciibinder_web_logo.svg" alt="AsciiBinder">
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="attribution">
          <button type="button" class="btn btn-link" data-html="true" data-container="body" data-toggle="popover" data-placement="top" data-content="
            '<a target='_blank' href='https://www.flickr.com/photos/eflon/3655695161/'>Spin</a>' by <a target='_blank' href='https://www.flickr.com/photos/eflon/'>eflon</a>,</br> used under <a target='_blank' href='https://creativecommons.org/licenses/by/2.0/'>CC BY 2.0</a> </br>Color tint added to original">
            Image attribution
          </button>
        </div>
      </div>
    </div>
    <script>
    $(function () {
      $('[data-toggle="popover"]').popover()
    })
    </script>
  </div>
</footer>
</body>
</html>